(self.webpackChunktoll_backend=self.webpackChunktoll_backend||[]).push([[9706],{48607:(zt,Fe,Re)=>{"use strict";Re.d(Fe,{A:()=>it});var fe=Re(68093),H=Re.n(fe),rt=Re(87438),Pt=Re.n(rt),Tt=Pt()(H());Tt.push([zt.id,`.rc-slider {
  position: relative;
  width: 100%;
  height: 14px;
  padding: 5px 0;
  border-radius: 6px;
  touch-action: none;
  box-sizing: border-box;
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
}
.rc-slider * {
  box-sizing: border-box;
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
}
.rc-slider-rail {
  position: absolute;
  width: 100%;
  height: 4px;
  background-color: #e9e9e9;
  border-radius: 6px;
}
.rc-slider-track,
.rc-slider-tracks {
  position: absolute;
  height: 4px;
  background-color: #abe2fb;
  border-radius: 6px;
}
.rc-slider-track-draggable {
  z-index: 1;
  box-sizing: content-box;
  background-clip: content-box;
  border-top: 5px solid rgba(0, 0, 0, 0);
  border-bottom: 5px solid rgba(0, 0, 0, 0);
  transform: translateY(-5px);
}
.rc-slider-handle {
  position: absolute;
  z-index: 1;
  width: 14px;
  height: 14px;
  margin-top: -5px;
  background-color: #fff;
  border: solid 2px #96dbfa;
  border-radius: 50%;
  cursor: pointer;
  cursor: -webkit-grab;
  cursor: grab;
  opacity: 0.8;
  touch-action: pan-x;
}
.rc-slider-handle-dragging.rc-slider-handle-dragging.rc-slider-handle-dragging {
  border-color: #57c5f7;
  box-shadow: 0 0 0 5px #96dbfa;
}
.rc-slider-handle:focus {
  outline: none;
  box-shadow: none;
}
.rc-slider-handle:focus-visible {
  border-color: #2db7f5;
  box-shadow: 0 0 0 3px #96dbfa;
}
.rc-slider-handle-click-focused:focus {
  border-color: #96dbfa;
  box-shadow: unset;
}
.rc-slider-handle:hover {
  border-color: #57c5f7;
}
.rc-slider-handle:active {
  border-color: #57c5f7;
  box-shadow: 0 0 5px #57c5f7;
  cursor: -webkit-grabbing;
  cursor: grabbing;
}
.rc-slider-mark {
  position: absolute;
  top: 18px;
  left: 0;
  width: 100%;
  font-size: 12px;
}
.rc-slider-mark-text {
  position: absolute;
  display: inline-block;
  color: #999;
  text-align: center;
  vertical-align: middle;
  cursor: pointer;
}
.rc-slider-mark-text-active {
  color: #666;
}
.rc-slider-step {
  position: absolute;
  width: 100%;
  height: 4px;
  background: transparent;
}
.rc-slider-dot {
  position: absolute;
  bottom: -2px;
  width: 8px;
  height: 8px;
  vertical-align: middle;
  background-color: #fff;
  border: 2px solid #e9e9e9;
  border-radius: 50%;
  cursor: pointer;
}
.rc-slider-dot-active {
  border-color: #96dbfa;
}
.rc-slider-dot-reverse {
  margin-right: -4px;
}
.rc-slider-disabled {
  background-color: #e9e9e9;
}
.rc-slider-disabled .rc-slider-track {
  background-color: #ccc;
}
.rc-slider-disabled .rc-slider-handle,
.rc-slider-disabled .rc-slider-dot {
  background-color: #fff;
  border-color: #ccc;
  box-shadow: none;
  cursor: not-allowed;
}
.rc-slider-disabled .rc-slider-mark-text,
.rc-slider-disabled .rc-slider-dot {
  cursor: not-allowed !important;
}
.rc-slider-vertical {
  width: 14px;
  height: 100%;
  padding: 0 5px;
}
.rc-slider-vertical .rc-slider-rail {
  width: 4px;
  height: 100%;
}
.rc-slider-vertical .rc-slider-track {
  bottom: 0;
  left: 5px;
  width: 4px;
}
.rc-slider-vertical .rc-slider-track-draggable {
  border-top: 0;
  border-bottom: 0;
  border-right: 5px solid rgba(0, 0, 0, 0);
  border-left: 5px solid rgba(0, 0, 0, 0);
  transform: translateX(-5px);
}
.rc-slider-vertical .rc-slider-handle {
  position: absolute;
  z-index: 1;
  margin-top: 0;
  margin-left: -5px;
  touch-action: pan-y;
}
.rc-slider-vertical .rc-slider-mark {
  top: 0;
  left: 18px;
  height: 100%;
}
.rc-slider-vertical .rc-slider-step {
  width: 4px;
  height: 100%;
}
.rc-slider-vertical .rc-slider-dot {
  margin-left: -2px;
}
.rc-slider-tooltip-zoom-down-enter,
.rc-slider-tooltip-zoom-down-appear {
  display: block !important;
  animation-duration: 0.3s;
  animation-fill-mode: both;
  animation-play-state: paused;
}
.rc-slider-tooltip-zoom-down-leave {
  display: block !important;
  animation-duration: 0.3s;
  animation-fill-mode: both;
  animation-play-state: paused;
}
.rc-slider-tooltip-zoom-down-enter.rc-slider-tooltip-zoom-down-enter-active,
.rc-slider-tooltip-zoom-down-appear.rc-slider-tooltip-zoom-down-appear-active {
  animation-name: rcSliderTooltipZoomDownIn;
  animation-play-state: running;
}
.rc-slider-tooltip-zoom-down-leave.rc-slider-tooltip-zoom-down-leave-active {
  animation-name: rcSliderTooltipZoomDownOut;
  animation-play-state: running;
}
.rc-slider-tooltip-zoom-down-enter,
.rc-slider-tooltip-zoom-down-appear {
  transform: scale(0, 0);
  animation-timing-function: cubic-bezier(0.23, 1, 0.32, 1);
}
.rc-slider-tooltip-zoom-down-leave {
  animation-timing-function: cubic-bezier(0.755, 0.05, 0.855, 0.06);
}
@keyframes rcSliderTooltipZoomDownIn {
  0% {
    transform: scale(0, 0);
    transform-origin: 50% 100%;
    opacity: 0;
  }
  100% {
    transform: scale(1, 1);
    transform-origin: 50% 100%;
  }
}
@keyframes rcSliderTooltipZoomDownOut {
  0% {
    transform: scale(1, 1);
    transform-origin: 50% 100%;
  }
  100% {
    transform: scale(0, 0);
    transform-origin: 50% 100%;
    opacity: 0;
  }
}
.rc-slider-tooltip {
  position: absolute;
  top: -9999px;
  left: -9999px;
  visibility: visible;
  box-sizing: border-box;
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
}
.rc-slider-tooltip * {
  box-sizing: border-box;
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
}
.rc-slider-tooltip-hidden {
  display: none;
}
.rc-slider-tooltip-placement-top {
  padding: 4px 0 8px 0;
}
.rc-slider-tooltip-inner {
  min-width: 24px;
  height: 24px;
  padding: 6px 2px;
  color: #fff;
  font-size: 12px;
  line-height: 1;
  text-align: center;
  text-decoration: none;
  background-color: #6c6c6c;
  border-radius: 6px;
  box-shadow: 0 0 4px #d9d9d9;
}
.rc-slider-tooltip-arrow {
  position: absolute;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
}
.rc-slider-tooltip-placement-top .rc-slider-tooltip-arrow {
  bottom: 4px;
  left: 50%;
  margin-left: -4px;
  border-width: 4px 4px 0;
  border-top-color: #6c6c6c;
}
`,""]);const it=Tt},16838:(zt,Fe,Re)=>{var fe,H;(()=>{var rt=Object.create,Pt=Object.defineProperty,Tt=Object.getOwnPropertyDescriptor,it=Object.getOwnPropertyNames,Ht=Object.getPrototypeOf,xr=Object.prototype.hasOwnProperty,P=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports),Ye=(e,r,i,a)=>{if(r&&typeof r=="object"||typeof r=="function")for(let o of it(r))!xr.call(e,o)&&o!==i&&Pt(e,o,{get:()=>r[o],enumerable:!(a=Tt(r,o))||a.enumerable});return e},q=(e,r,i)=>(i=e!=null?rt(Ht(e)):{},Ye(r||!e||!e.__esModule?Pt(i,"default",{value:e,enumerable:!0}):i,e)),Ue=P((e,r)=>{function i(){this.__data__=[],this.size=0}r.exports=i}),Kt=P((e,r)=>{function i(a,o){return a===o||a!==a&&o!==o}r.exports=i}),dt=P((e,r)=>{var i=Kt();function a(o,u){for(var c=o.length;c--;)if(i(o[c][0],u))return c;return-1}r.exports=a}),gn=P((e,r)=>{var i=dt(),a=Array.prototype,o=a.splice;function u(c){var d=this.__data__,_=i(d,c);if(_<0)return!1;var C=d.length-1;return _==C?d.pop():o.call(d,_,1),--this.size,!0}r.exports=u}),an=P((e,r)=>{var i=dt();function a(o){var u=this.__data__,c=i(u,o);return c<0?void 0:u[c][1]}r.exports=a}),Nn=P((e,r)=>{var i=dt();function a(o){return i(this.__data__,o)>-1}r.exports=a}),aa=P((e,r)=>{var i=dt();function a(o,u){var c=this.__data__,d=i(c,o);return d<0?(++this.size,c.push([o,u])):c[d][1]=u,this}r.exports=a}),Gn=P((e,r)=>{var i=Ue(),a=gn(),o=an(),u=Nn(),c=aa();function d(_){var C=-1,F=_==null?0:_.length;for(this.clear();++C<F;){var I=_[C];this.set(I[0],I[1])}}d.prototype.clear=i,d.prototype.delete=a,d.prototype.get=o,d.prototype.has=u,d.prototype.set=c,r.exports=d}),Rr=P((e,r)=>{var i=Gn();function a(){this.__data__=new i,this.size=0}r.exports=a}),Ba=P((e,r)=>{function i(a){var o=this.__data__,u=o.delete(a);return this.size=o.size,u}r.exports=i}),uo=P((e,r)=>{function i(a){return this.__data__.get(a)}r.exports=i}),Te=P((e,r)=>{function i(a){return this.__data__.has(a)}r.exports=i}),be=P((e,r)=>{var i=typeof Re.g=="object"&&Re.g&&Re.g.Object===Object&&Re.g;r.exports=i}),We=P((e,r)=>{var i=be(),a=typeof self=="object"&&self&&self.Object===Object&&self,o=i||a||Function("return this")();r.exports=o}),at=P((e,r)=>{var i=We(),a=i.Symbol;r.exports=a}),Ze=P((e,r)=>{var i=at(),a=Object.prototype,o=a.hasOwnProperty,u=a.toString,c=i?i.toStringTag:void 0;function d(_){var C=o.call(_,c),F=_[c];try{_[c]=void 0;var I=!0}catch{}var ie=u.call(_);return I&&(C?_[c]=F:delete _[c]),ie}r.exports=d}),vt=P((e,r)=>{var i=Object.prototype,a=i.toString;function o(u){return a.call(u)}r.exports=o}),nt=P((e,r)=>{var i=at(),a=Ze(),o=vt(),u="[object Null]",c="[object Undefined]",d=i?i.toStringTag:void 0;function _(C){return C==null?C===void 0?c:u:d&&d in Object(C)?a(C):o(C)}r.exports=_}),Oe=P((e,r)=>{function i(a){var o=typeof a;return a!=null&&(o=="object"||o=="function")}r.exports=i}),rr=P((e,r)=>{var i=nt(),a=Oe(),o="[object AsyncFunction]",u="[object Function]",c="[object GeneratorFunction]",d="[object Proxy]";function _(C){if(!a(C))return!1;var F=i(C);return F==u||F==c||F==o||F==d}r.exports=_}),Or=P((e,r)=>{var i=We(),a=i["__core-js_shared__"];r.exports=a}),Ar=P((e,r)=>{var i=Or(),a=function(){var u=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""}();function o(u){return!!a&&a in u}r.exports=o}),$t=P((e,r)=>{var i=Function.prototype,a=i.toString;function o(u){if(u!=null){try{return a.call(u)}catch{}try{return u+""}catch{}}return""}r.exports=o}),hi=P((e,r)=>{var i=rr(),a=Ar(),o=Oe(),u=$t(),c=/[\\^$.*+?()[\]{}|]/g,d=/^\[object .+?Constructor\]$/,_=Function.prototype,C=Object.prototype,F=_.toString,I=C.hasOwnProperty,ie=RegExp("^"+F.call(I).replace(c,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function J(_e){if(!o(_e)||a(_e))return!1;var De=i(_e)?ie:d;return De.test(u(_e))}r.exports=J}),qr=P((e,r)=>{function i(a,o){return a?.[o]}r.exports=i}),wn=P((e,r)=>{var i=hi(),a=qr();function o(u,c){var d=a(u,c);return i(d)?d:void 0}r.exports=o}),Vt=P((e,r)=>{var i=wn(),a=We(),o=i(a,"Map");r.exports=o}),ci=P((e,r)=>{var i=wn(),a=i(Object,"create");r.exports=a}),lo=P((e,r)=>{var i=ci();function a(){this.__data__=i?i(null):{},this.size=0}r.exports=a}),kn=P((e,r)=>{function i(a){var o=this.has(a)&&delete this.__data__[a];return this.size-=o?1:0,o}r.exports=i}),Aa=P((e,r)=>{var i=ci(),a="__lodash_hash_undefined__",o=Object.prototype,u=o.hasOwnProperty;function c(d){var _=this.__data__;if(i){var C=_[d];return C===a?void 0:C}return u.call(_,d)?_[d]:void 0}r.exports=c}),fi=P((e,r)=>{var i=ci(),a=Object.prototype,o=a.hasOwnProperty;function u(c){var d=this.__data__;return i?d[c]!==void 0:o.call(d,c)}r.exports=u}),Un=P((e,r)=>{var i=ci(),a="__lodash_hash_undefined__";function o(u,c){var d=this.__data__;return this.size+=this.has(u)?0:1,d[u]=i&&c===void 0?a:c,this}r.exports=o}),Sa=P((e,r)=>{var i=lo(),a=kn(),o=Aa(),u=fi(),c=Un();function d(_){var C=-1,F=_==null?0:_.length;for(this.clear();++C<F;){var I=_[C];this.set(I[0],I[1])}}d.prototype.clear=i,d.prototype.delete=a,d.prototype.get=o,d.prototype.has=u,d.prototype.set=c,r.exports=d}),oa=P((e,r)=>{var i=Sa(),a=Gn(),o=Vt();function u(){this.size=0,this.__data__={hash:new i,map:new(o||a),string:new i}}r.exports=u}),Io=P((e,r)=>{function i(a){var o=typeof a;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?a!=="__proto__":a===null}r.exports=i}),ji=P((e,r)=>{var i=Io();function a(o,u){var c=o.__data__;return i(u)?c[typeof u=="string"?"string":"hash"]:c.map}r.exports=a}),No=P((e,r)=>{var i=ji();function a(o){var u=i(this,o).delete(o);return this.size-=u?1:0,u}r.exports=a}),ho=P((e,r)=>{var i=ji();function a(o){return i(this,o).get(o)}r.exports=a}),Go=P((e,r)=>{var i=ji();function a(o){return i(this,o).has(o)}r.exports=a}),Pe=P((e,r)=>{var i=ji();function a(o,u){var c=i(this,o),d=c.size;return c.set(o,u),this.size+=c.size==d?0:1,this}r.exports=a}),on=P((e,r)=>{var i=oa(),a=No(),o=ho(),u=Go(),c=Pe();function d(_){var C=-1,F=_==null?0:_.length;for(this.clear();++C<F;){var I=_[C];this.set(I[0],I[1])}}d.prototype.clear=i,d.prototype.delete=a,d.prototype.get=o,d.prototype.has=u,d.prototype.set=c,r.exports=d}),Zn=P((e,r)=>{var i=Gn(),a=Vt(),o=on(),u=200;function c(d,_){var C=this.__data__;if(C instanceof i){var F=C.__data__;if(!a||F.length<u-1)return F.push([d,_]),this.size=++C.size,this;C=this.__data__=new o(F)}return C.set(d,_),this.size=C.size,this}r.exports=c}),co=P((e,r)=>{var i=Gn(),a=Rr(),o=Ba(),u=uo(),c=Te(),d=Zn();function _(C){var F=this.__data__=new i(C);this.size=F.size}_.prototype.clear=a,_.prototype.delete=o,_.prototype.get=u,_.prototype.has=c,_.prototype.set=d,r.exports=_}),or=P((e,r)=>{var i=wn(),a=function(){try{var o=i(Object,"defineProperty");return o({},"",{}),o}catch{}}();r.exports=a}),jn=P((e,r)=>{var i=or();function a(o,u,c){u=="__proto__"&&i?i(o,u,{configurable:!0,enumerable:!0,value:c,writable:!0}):o[u]=c}r.exports=a}),sa=P((e,r)=>{var i=jn(),a=Kt();function o(u,c,d){(d!==void 0&&!a(u[c],d)||d===void 0&&!(c in u))&&i(u,c,d)}r.exports=o}),Da=P((e,r)=>{function i(a){return function(o,u,c){for(var d=-1,_=Object(o),C=c(o),F=C.length;F--;){var I=C[a?F:++d];if(u(_[I],I,_)===!1)break}return o}}r.exports=i}),au=P((e,r)=>{var i=Da(),a=i();r.exports=a}),Hr=P((e,r)=>{var i=We(),a=typeof e=="object"&&e&&!e.nodeType&&e,o=a&&typeof r=="object"&&r&&!r.nodeType&&r,u=o&&o.exports===a,c=u?i.Buffer:void 0,d=c?c.allocUnsafe:void 0;function _(C,F){if(F)return C.slice();var I=C.length,ie=d?d(I):new C.constructor(I);return C.copy(ie),ie}r.exports=_}),Jr=P((e,r)=>{var i=We(),a=i.Uint8Array;r.exports=a}),Ne=P((e,r)=>{var i=Jr();function a(o){var u=new o.constructor(o.byteLength);return new i(u).set(new i(o)),u}r.exports=a}),fr=P((e,r)=>{var i=Ne();function a(o,u){var c=u?i(o.buffer):o.buffer;return new o.constructor(c,o.byteOffset,o.length)}r.exports=a}),ft=P((e,r)=>{function i(a,o){var u=-1,c=a.length;for(o||(o=Array(c));++u<c;)o[u]=a[u];return o}r.exports=i}),Wt=P((e,r)=>{var i=Oe(),a=Object.create,o=function(){function u(){}return function(c){if(!i(c))return{};if(a)return a(c);u.prototype=c;var d=new u;return u.prototype=void 0,d}}();r.exports=o}),zi=P((e,r)=>{function i(a,o){return function(u){return a(o(u))}}r.exports=i}),ua=P((e,r)=>{var i=zi(),a=i(Object.getPrototypeOf,Object);r.exports=a}),Zt=P((e,r)=>{var i=Object.prototype;function a(o){var u=o&&o.constructor,c=typeof u=="function"&&u.prototype||i;return o===c}r.exports=a}),Di=P((e,r)=>{var i=Wt(),a=ua(),o=Zt();function u(c){return typeof c.constructor=="function"&&!o(c)?i(a(c)):{}}r.exports=u}),zn=P((e,r)=>{function i(a){return a!=null&&typeof a=="object"}r.exports=i}),mn=P((e,r)=>{var i=nt(),a=zn(),o="[object Arguments]";function u(c){return a(c)&&i(c)==o}r.exports=u}),di=P((e,r)=>{var i=mn(),a=zn(),o=Object.prototype,u=o.hasOwnProperty,c=o.propertyIsEnumerable,d=i(function(){return arguments}())?i:function(_){return a(_)&&u.call(_,"callee")&&!c.call(_,"callee")};r.exports=d}),sn=P((e,r)=>{var i=Array.isArray;r.exports=i}),Bn=P((e,r)=>{var i=9007199254740991;function a(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=i}r.exports=a}),sr=P((e,r)=>{var i=rr(),a=Bn();function o(u){return u!=null&&a(u.length)&&!i(u)}r.exports=o}),An=P((e,r)=>{var i=sr(),a=zn();function o(u){return a(u)&&i(u)}r.exports=o}),fo=P((e,r)=>{function i(){return!1}r.exports=i}),la=P((e,r)=>{var i=We(),a=fo(),o=typeof e=="object"&&e&&!e.nodeType&&e,u=o&&typeof r=="object"&&r&&!r.nodeType&&r,c=u&&u.exports===o,d=c?i.Buffer:void 0,_=d?d.isBuffer:void 0,C=_||a;r.exports=C}),pi=P((e,r)=>{var i=nt(),a=ua(),o=zn(),u="[object Object]",c=Function.prototype,d=Object.prototype,_=c.toString,C=d.hasOwnProperty,F=_.call(Object);function I(ie){if(!o(ie)||i(ie)!=u)return!1;var J=a(ie);if(J===null)return!0;var _e=C.call(J,"constructor")&&J.constructor;return typeof _e=="function"&&_e instanceof _e&&_.call(_e)==F}r.exports=I}),Sn=P((e,r)=>{var i=nt(),a=Bn(),o=zn(),u="[object Arguments]",c="[object Array]",d="[object Boolean]",_="[object Date]",C="[object Error]",F="[object Function]",I="[object Map]",ie="[object Number]",J="[object Object]",_e="[object RegExp]",De="[object Set]",Je="[object String]",xt="[object WeakMap]",T="[object ArrayBuffer]",U="[object DataView]",X="[object Float32Array]",se="[object Float64Array]",Z="[object Int8Array]",ae="[object Int16Array]",v="[object Int32Array]",M="[object Uint8Array]",B="[object Uint8ClampedArray]",k="[object Uint16Array]",S="[object Uint32Array]",D={};D[X]=D[se]=D[Z]=D[ae]=D[v]=D[M]=D[B]=D[k]=D[S]=!0,D[u]=D[c]=D[T]=D[d]=D[U]=D[_]=D[C]=D[F]=D[I]=D[ie]=D[J]=D[_e]=D[De]=D[Je]=D[xt]=!1;function z(j){return o(j)&&a(j.length)&&!!D[i(j)]}r.exports=z}),ha=P((e,r)=>{function i(a){return function(o){return a(o)}}r.exports=i}),po=P((e,r)=>{var i=be(),a=typeof e=="object"&&e&&!e.nodeType&&e,o=a&&typeof r=="object"&&r&&!r.nodeType&&r,u=o&&o.exports===a,c=u&&i.process,d=function(){try{var _=o&&o.require&&o.require("util").types;return _||c&&c.binding&&c.binding("util")}catch{}}();r.exports=d}),go=P((e,r)=>{var i=Sn(),a=ha(),o=po(),u=o&&o.isTypedArray,c=u?a(u):i;r.exports=c}),Uo=P((e,r)=>{function i(a,o){if(!(o==="constructor"&&typeof a[o]=="function")&&o!="__proto__")return a[o]}r.exports=i}),Pa=P((e,r)=>{var i=jn(),a=Kt(),o=Object.prototype,u=o.hasOwnProperty;function c(d,_,C){var F=d[_];(!(u.call(d,_)&&a(F,C))||C===void 0&&!(_ in d))&&i(d,_,C)}r.exports=c}),Hi=P((e,r)=>{var i=Pa(),a=jn();function o(u,c,d,_){var C=!d;d||(d={});for(var F=-1,I=c.length;++F<I;){var ie=c[F],J=_?_(d[ie],u[ie],ie,d,u):void 0;J===void 0&&(J=u[ie]),C?a(d,ie,J):i(d,ie,J)}return d}r.exports=o}),Ki=P((e,r)=>{function i(a,o){for(var u=-1,c=Array(a);++u<a;)c[u]=o(u);return c}r.exports=i}),Sr=P((e,r)=>{var i=9007199254740991,a=/^(?:0|[1-9]\d*)$/;function o(u,c){var d=typeof u;return c=c??i,!!c&&(d=="number"||d!="symbol"&&a.test(u))&&u>-1&&u%1==0&&u<c}r.exports=o}),mo=P((e,r)=>{var i=Ki(),a=di(),o=sn(),u=la(),c=Sr(),d=go(),_=Object.prototype,C=_.hasOwnProperty;function F(I,ie){var J=o(I),_e=!J&&a(I),De=!J&&!_e&&u(I),Je=!J&&!_e&&!De&&d(I),xt=J||_e||De||Je,T=xt?i(I.length,String):[],U=T.length;for(var X in I)(ie||C.call(I,X))&&!(xt&&(X=="length"||De&&(X=="offset"||X=="parent")||Je&&(X=="buffer"||X=="byteLength"||X=="byteOffset")||c(X,U)))&&T.push(X);return T}r.exports=F}),Ta=P((e,r)=>{function i(a){var o=[];if(a!=null)for(var u in Object(a))o.push(u);return o}r.exports=i}),Kr=P((e,r)=>{var i=Oe(),a=Zt(),o=Ta(),u=Object.prototype,c=u.hasOwnProperty;function d(_){if(!i(_))return o(_);var C=a(_),F=[];for(var I in _)I=="constructor"&&(C||!c.call(_,I))||F.push(I);return F}r.exports=d}),_o=P((e,r)=>{var i=mo(),a=Kr(),o=sr();function u(c){return o(c)?i(c,!0):a(c)}r.exports=u}),ca=P((e,r)=>{var i=Hi(),a=_o();function o(u){return i(u,a(u))}r.exports=o}),Ra=P((e,r)=>{var i=sa(),a=Hr(),o=fr(),u=ft(),c=Di(),d=di(),_=sn(),C=An(),F=la(),I=rr(),ie=Oe(),J=pi(),_e=go(),De=Uo(),Je=ca();function xt(T,U,X,se,Z,ae,v){var M=De(T,X),B=De(U,X),k=v.get(B);if(k){i(T,X,k);return}var S=ae?ae(M,B,X+"",T,U,v):void 0,D=S===void 0;if(D){var z=_(B),j=!z&&F(B),V=!z&&!j&&_e(B);S=B,z||j||V?_(M)?S=M:C(M)?S=u(M):j?(D=!1,S=a(B,!0)):V?(D=!1,S=o(B,!0)):S=[]:J(B)||d(B)?(S=M,d(M)?S=Je(M):(!ie(M)||I(M))&&(S=c(B))):D=!1}D&&(v.set(B,S),Z(S,B,se,ae,v),v.delete(B)),i(T,X,S)}r.exports=xt}),Oa=P((e,r)=>{var i=co(),a=sa(),o=au(),u=Ra(),c=Oe(),d=_o(),_=Uo();function C(F,I,ie,J,_e){F!==I&&o(I,function(De,Je){if(_e||(_e=new i),c(De))u(F,I,Je,ie,C,J,_e);else{var xt=J?J(_(F,Je),De,Je+"",F,I,_e):void 0;xt===void 0&&(xt=De),a(F,Je,xt)}},d)}r.exports=C}),$i=P((e,r)=>{function i(a){return a}r.exports=i}),jo=P((e,r)=>{function i(a,o,u){switch(u.length){case 0:return a.call(o);case 1:return a.call(o,u[0]);case 2:return a.call(o,u[0],u[1]);case 3:return a.call(o,u[0],u[1],u[2])}return a.apply(o,u)}r.exports=i}),bs=P((e,r)=>{var i=jo(),a=Math.max;function o(u,c,d){return c=a(c===void 0?u.length-1:c,0),function(){for(var _=arguments,C=-1,F=a(_.length-c,0),I=Array(F);++C<F;)I[C]=_[c+C];C=-1;for(var ie=Array(c+1);++C<c;)ie[C]=_[C];return ie[c]=d(I),i(u,this,ie)}}r.exports=o}),zo=P((e,r)=>{function i(a){return function(){return a}}r.exports=i}),Ho=P((e,r)=>{var i=zo(),a=or(),o=$i(),u=a?function(c,d){return a(c,"toString",{configurable:!0,enumerable:!1,value:i(d),writable:!0})}:o;r.exports=u}),Cs=P((e,r)=>{var i=800,a=16,o=Date.now;function u(c){var d=0,_=0;return function(){var C=o(),F=a-(C-_);if(_=C,F>0){if(++d>=i)return arguments[0]}else d=0;return c.apply(void 0,arguments)}}r.exports=u}),pr=P((e,r)=>{var i=Ho(),a=Cs(),o=a(i);r.exports=o}),vo=P((e,r)=>{var i=$i(),a=bs(),o=pr();function u(c,d){return o(a(c,d,i),c+"")}r.exports=u}),Ko=P((e,r)=>{var i=Kt(),a=sr(),o=Sr(),u=Oe();function c(d,_,C){if(!u(C))return!1;var F=typeof _;return(F=="number"?a(C)&&o(_,C.length):F=="string"&&_ in C)?i(C[_],d):!1}r.exports=c}),yo=P((e,r)=>{var i=vo(),a=Ko();function o(u){return i(function(c,d){var _=-1,C=d.length,F=C>1?d[C-1]:void 0,I=C>2?d[2]:void 0;for(F=u.length>3&&typeof F=="function"?(C--,F):void 0,I&&a(d[0],d[1],I)&&(F=C<3?void 0:F,C=1),c=Object(c);++_<C;){var ie=d[_];ie&&u(c,ie,_,F)}return c})}r.exports=o}),un=P((e,r)=>{var i=Oa(),a=yo(),o=a(function(u,c,d){i(u,c,d)});r.exports=o}),Fa=P((e,r)=>{var i=nt(),a=zn(),o="[object Symbol]";function u(c){return typeof c=="symbol"||a(c)&&i(c)==o}r.exports=u}),ct=P((e,r)=>{var i=sn(),a=Fa(),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,u=/^\w*$/;function c(d,_){if(i(d))return!1;var C=typeof d;return C=="number"||C=="symbol"||C=="boolean"||d==null||a(d)?!0:u.test(d)||!o.test(d)||_!=null&&d in Object(_)}r.exports=c}),$o=P((e,r)=>{var i=on(),a="Expected a function";function o(u,c){if(typeof u!="function"||c!=null&&typeof c!="function")throw new TypeError(a);var d=function(){var _=arguments,C=c?c.apply(this,_):_[0],F=d.cache;if(F.has(C))return F.get(C);var I=u.apply(this,_);return d.cache=F.set(C,I)||F,I};return d.cache=new(o.Cache||i),d}o.Cache=i,r.exports=o}),Ia=P((e,r)=>{var i=$o(),a=500;function o(u){var c=i(u,function(_){return d.size===a&&d.clear(),_}),d=c.cache;return c}r.exports=o}),Na=P((e,r)=>{var i=Ia(),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,u=i(function(c){var d=[];return c.charCodeAt(0)===46&&d.push(""),c.replace(a,function(_,C,F,I){d.push(F?I.replace(o,"$1"):C||_)}),d});r.exports=u}),Vo=P((e,r)=>{function i(a,o){for(var u=-1,c=a==null?0:a.length,d=Array(c);++u<c;)d[u]=o(a[u],u,a);return d}r.exports=i}),Ls=P((e,r)=>{var i=at(),a=Vo(),o=sn(),u=Fa(),c=1/0,d=i?i.prototype:void 0,_=d?d.toString:void 0;function C(F){if(typeof F=="string")return F;if(o(F))return a(F,C)+"";if(u(F))return _?_.call(F):"";var I=F+"";return I=="0"&&1/F==-c?"-0":I}r.exports=C}),Es=P((e,r)=>{var i=Ls();function a(o){return o==null?"":i(o)}r.exports=a}),Wo=P((e,r)=>{var i=sn(),a=ct(),o=Na(),u=Es();function c(d,_){return i(d)?d:a(d,_)?[d]:o(u(d))}r.exports=c}),xs=P((e,r)=>{var i=Fa(),a=1/0;function o(u){if(typeof u=="string"||i(u))return u;var c=u+"";return c=="0"&&1/u==-a?"-0":c}r.exports=o}),Ms=P((e,r)=>{var i=Wo(),a=xs();function o(u,c){c=i(c,u);for(var d=0,_=c.length;u!=null&&d<_;)u=u[a(c[d++])];return d&&d==_?u:void 0}r.exports=o}),Ga=P((e,r)=>{var i=Ms();function a(o,u,c){var d=o==null?void 0:i(o,u);return d===void 0?c:d}r.exports=a}),Ua=P((e,r)=>{(function(i,a){typeof e=="object"&&typeof r<"u"?r.exports=a():(fe=a,H=typeof fe=="function"?fe.call(Fe,Re,Fe,zt):fe,H!==void 0&&(zt.exports=H))})(e,function(){"use strict";function i(T,U,X,se,Z){(function ae(v,M,B,k,S){for(;k>B;){if(k-B>600){var D=k-B+1,z=M-B+1,j=Math.log(D),V=.5*Math.exp(2*j/3),ne=.5*Math.sqrt(j*V*(D-V)/D)*(z-D/2<0?-1:1),re=Math.max(B,Math.floor(M-z*V/D+ne)),Le=Math.min(k,Math.floor(M+(D-z)*V/D+ne));ae(v,M,re,Le,S)}var $e=v[M],Qe=B,Ge=k;for(a(v,B,M),S(v[k],$e)>0&&a(v,B,k);Qe<Ge;){for(a(v,Qe,Ge),Qe++,Ge--;S(v[Qe],$e)<0;)Qe++;for(;S(v[Ge],$e)>0;)Ge--}S(v[B],$e)===0?a(v,B,Ge):a(v,++Ge,k),Ge<=M&&(B=Ge+1),M<=Ge&&(k=Ge-1)}})(T,U,X||0,se||T.length-1,Z||o)}function a(T,U,X){var se=T[U];T[U]=T[X],T[X]=se}function o(T,U){return T<U?-1:T>U?1:0}var u=function(T){T===void 0&&(T=9),this._maxEntries=Math.max(4,T),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function c(T,U,X){if(!X)return U.indexOf(T);for(var se=0;se<U.length;se++)if(X(T,U[se]))return se;return-1}function d(T,U){_(T,0,T.children.length,U,T)}function _(T,U,X,se,Z){Z||(Z=Je(null)),Z.minX=1/0,Z.minY=1/0,Z.maxX=-1/0,Z.maxY=-1/0;for(var ae=U;ae<X;ae++){var v=T.children[ae];C(Z,T.leaf?se(v):v)}return Z}function C(T,U){return T.minX=Math.min(T.minX,U.minX),T.minY=Math.min(T.minY,U.minY),T.maxX=Math.max(T.maxX,U.maxX),T.maxY=Math.max(T.maxY,U.maxY),T}function F(T,U){return T.minX-U.minX}function I(T,U){return T.minY-U.minY}function ie(T){return(T.maxX-T.minX)*(T.maxY-T.minY)}function J(T){return T.maxX-T.minX+(T.maxY-T.minY)}function _e(T,U){return T.minX<=U.minX&&T.minY<=U.minY&&U.maxX<=T.maxX&&U.maxY<=T.maxY}function De(T,U){return U.minX<=T.maxX&&U.minY<=T.maxY&&U.maxX>=T.minX&&U.maxY>=T.minY}function Je(T){return{children:T,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function xt(T,U,X,se,Z){for(var ae=[U,X];ae.length;)if(!((X=ae.pop())-(U=ae.pop())<=se)){var v=U+Math.ceil((X-U)/se/2)*se;i(T,v,U,X,Z),ae.push(U,v,v,X)}}return u.prototype.all=function(){return this._all(this.data,[])},u.prototype.search=function(T){var U=this.data,X=[];if(!De(T,U))return X;for(var se=this.toBBox,Z=[];U;){for(var ae=0;ae<U.children.length;ae++){var v=U.children[ae],M=U.leaf?se(v):v;De(T,M)&&(U.leaf?X.push(v):_e(T,M)?this._all(v,X):Z.push(v))}U=Z.pop()}return X},u.prototype.collides=function(T){var U=this.data;if(!De(T,U))return!1;for(var X=[];U;){for(var se=0;se<U.children.length;se++){var Z=U.children[se],ae=U.leaf?this.toBBox(Z):Z;if(De(T,ae)){if(U.leaf||_e(T,ae))return!0;X.push(Z)}}U=X.pop()}return!1},u.prototype.load=function(T){if(!T||!T.length)return this;if(T.length<this._minEntries){for(var U=0;U<T.length;U++)this.insert(T[U]);return this}var X=this._build(T.slice(),0,T.length-1,0);if(this.data.children.length)if(this.data.height===X.height)this._splitRoot(this.data,X);else{if(this.data.height<X.height){var se=this.data;this.data=X,X=se}this._insert(X,this.data.height-X.height-1,!0)}else this.data=X;return this},u.prototype.insert=function(T){return T&&this._insert(T,this.data.height-1),this},u.prototype.clear=function(){return this.data=Je([]),this},u.prototype.remove=function(T,U){if(!T)return this;for(var X,se,Z,ae=this.data,v=this.toBBox(T),M=[],B=[];ae||M.length;){if(ae||(ae=M.pop(),se=M[M.length-1],X=B.pop(),Z=!0),ae.leaf){var k=c(T,ae.children,U);if(k!==-1)return ae.children.splice(k,1),M.push(ae),this._condense(M),this}Z||ae.leaf||!_e(ae,v)?se?(X++,ae=se.children[X],Z=!1):ae=null:(M.push(ae),B.push(X),X=0,se=ae,ae=ae.children[0])}return this},u.prototype.toBBox=function(T){return T},u.prototype.compareMinX=function(T,U){return T.minX-U.minX},u.prototype.compareMinY=function(T,U){return T.minY-U.minY},u.prototype.toJSON=function(){return this.data},u.prototype.fromJSON=function(T){return this.data=T,this},u.prototype._all=function(T,U){for(var X=[];T;)T.leaf?U.push.apply(U,T.children):X.push.apply(X,T.children),T=X.pop();return U},u.prototype._build=function(T,U,X,se){var Z,ae=X-U+1,v=this._maxEntries;if(ae<=v)return d(Z=Je(T.slice(U,X+1)),this.toBBox),Z;se||(se=Math.ceil(Math.log(ae)/Math.log(v)),v=Math.ceil(ae/Math.pow(v,se-1))),(Z=Je([])).leaf=!1,Z.height=se;var M=Math.ceil(ae/v),B=M*Math.ceil(Math.sqrt(v));xt(T,U,X,B,this.compareMinX);for(var k=U;k<=X;k+=B){var S=Math.min(k+B-1,X);xt(T,k,S,M,this.compareMinY);for(var D=k;D<=S;D+=M){var z=Math.min(D+M-1,S);Z.children.push(this._build(T,D,z,se-1))}}return d(Z,this.toBBox),Z},u.prototype._chooseSubtree=function(T,U,X,se){for(;se.push(U),!U.leaf&&se.length-1!==X;){for(var Z=1/0,ae=1/0,v=void 0,M=0;M<U.children.length;M++){var B=U.children[M],k=ie(B),S=(D=T,z=B,(Math.max(z.maxX,D.maxX)-Math.min(z.minX,D.minX))*(Math.max(z.maxY,D.maxY)-Math.min(z.minY,D.minY))-k);S<ae?(ae=S,Z=k<Z?k:Z,v=B):S===ae&&k<Z&&(Z=k,v=B)}U=v||U.children[0]}var D,z;return U},u.prototype._insert=function(T,U,X){var se=X?T:this.toBBox(T),Z=[],ae=this._chooseSubtree(se,this.data,U,Z);for(ae.children.push(T),C(ae,se);U>=0&&Z[U].children.length>this._maxEntries;)this._split(Z,U),U--;this._adjustParentBBoxes(se,Z,U)},u.prototype._split=function(T,U){var X=T[U],se=X.children.length,Z=this._minEntries;this._chooseSplitAxis(X,Z,se);var ae=this._chooseSplitIndex(X,Z,se),v=Je(X.children.splice(ae,X.children.length-ae));v.height=X.height,v.leaf=X.leaf,d(X,this.toBBox),d(v,this.toBBox),U?T[U-1].children.push(v):this._splitRoot(X,v)},u.prototype._splitRoot=function(T,U){this.data=Je([T,U]),this.data.height=T.height+1,this.data.leaf=!1,d(this.data,this.toBBox)},u.prototype._chooseSplitIndex=function(T,U,X){for(var se,Z,ae,v,M,B,k,S=1/0,D=1/0,z=U;z<=X-U;z++){var j=_(T,0,z,this.toBBox),V=_(T,z,X,this.toBBox),ne=(Z=j,ae=V,v=void 0,M=void 0,B=void 0,k=void 0,v=Math.max(Z.minX,ae.minX),M=Math.max(Z.minY,ae.minY),B=Math.min(Z.maxX,ae.maxX),k=Math.min(Z.maxY,ae.maxY),Math.max(0,B-v)*Math.max(0,k-M)),re=ie(j)+ie(V);ne<S?(S=ne,se=z,D=re<D?re:D):ne===S&&re<D&&(D=re,se=z)}return se||X-U},u.prototype._chooseSplitAxis=function(T,U,X){var se=T.leaf?this.compareMinX:F,Z=T.leaf?this.compareMinY:I;this._allDistMargin(T,U,X,se)<this._allDistMargin(T,U,X,Z)&&T.children.sort(se)},u.prototype._allDistMargin=function(T,U,X,se){T.children.sort(se);for(var Z=this.toBBox,ae=_(T,0,U,Z),v=_(T,X-U,X,Z),M=J(ae)+J(v),B=U;B<X-U;B++){var k=T.children[B];C(ae,T.leaf?Z(k):k),M+=J(ae)}for(var S=X-U-1;S>=U;S--){var D=T.children[S];C(v,T.leaf?Z(D):D),M+=J(v)}return M},u.prototype._adjustParentBBoxes=function(T,U,X){for(var se=X;se>=0;se--)C(U[se],T)},u.prototype._condense=function(T){for(var U=T.length-1,X=void 0;U>=0;U--)T[U].children.length===0?U>0?(X=T[U-1].children).splice(X.indexOf(T[U]),1):this.clear():d(T[U],this.toBBox)},u})}),ja=P(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.earthRadius=63710088e-1,e.factors={centimeters:e.earthRadius*100,centimetres:e.earthRadius*100,degrees:e.earthRadius/111325,feet:e.earthRadius*3.28084,inches:e.earthRadius*39.37,kilometers:e.earthRadius/1e3,kilometres:e.earthRadius/1e3,meters:e.earthRadius,metres:e.earthRadius,miles:e.earthRadius/1609.344,millimeters:e.earthRadius*1e3,millimetres:e.earthRadius*1e3,nauticalmiles:e.earthRadius/1852,radians:1,yards:e.earthRadius*1.0936},e.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:1/1e3,kilometres:1/1e3,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/e.earthRadius,yards:1.0936133},e.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function r(k,S,D){D===void 0&&(D={});var z={type:"Feature"};return(D.id===0||D.id)&&(z.id=D.id),D.bbox&&(z.bbox=D.bbox),z.properties=S||{},z.geometry=k,z}e.feature=r;function i(k,S,D){switch(D===void 0&&(D={}),k){case"Point":return a(S).geometry;case"LineString":return d(S).geometry;case"Polygon":return u(S).geometry;case"MultiPoint":return I(S).geometry;case"MultiLineString":return F(S).geometry;case"MultiPolygon":return ie(S).geometry;default:throw new Error(k+" is invalid")}}e.geometry=i;function a(k,S,D){if(D===void 0&&(D={}),!k)throw new Error("coordinates is required");if(!Array.isArray(k))throw new Error("coordinates must be an Array");if(k.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!ae(k[0])||!ae(k[1]))throw new Error("coordinates must contain numbers");var z={type:"Point",coordinates:k};return r(z,S,D)}e.point=a;function o(k,S,D){return D===void 0&&(D={}),C(k.map(function(z){return a(z,S)}),D)}e.points=o;function u(k,S,D){D===void 0&&(D={});for(var z=0,j=k;z<j.length;z++){var V=j[z];if(V.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var ne=0;ne<V[V.length-1].length;ne++)if(V[V.length-1][ne]!==V[0][ne])throw new Error("First and last Position are not equivalent.")}var re={type:"Polygon",coordinates:k};return r(re,S,D)}e.polygon=u;function c(k,S,D){return D===void 0&&(D={}),C(k.map(function(z){return u(z,S)}),D)}e.polygons=c;function d(k,S,D){if(D===void 0&&(D={}),k.length<2)throw new Error("coordinates must be an array of two or more positions");var z={type:"LineString",coordinates:k};return r(z,S,D)}e.lineString=d;function _(k,S,D){return D===void 0&&(D={}),C(k.map(function(z){return d(z,S)}),D)}e.lineStrings=_;function C(k,S){S===void 0&&(S={});var D={type:"FeatureCollection"};return S.id&&(D.id=S.id),S.bbox&&(D.bbox=S.bbox),D.features=k,D}e.featureCollection=C;function F(k,S,D){D===void 0&&(D={});var z={type:"MultiLineString",coordinates:k};return r(z,S,D)}e.multiLineString=F;function I(k,S,D){D===void 0&&(D={});var z={type:"MultiPoint",coordinates:k};return r(z,S,D)}e.multiPoint=I;function ie(k,S,D){D===void 0&&(D={});var z={type:"MultiPolygon",coordinates:k};return r(z,S,D)}e.multiPolygon=ie;function J(k,S,D){D===void 0&&(D={});var z={type:"GeometryCollection",geometries:k};return r(z,S,D)}e.geometryCollection=J;function _e(k,S){if(S===void 0&&(S=0),S&&!(S>=0))throw new Error("precision must be a positive number");var D=Math.pow(10,S||0);return Math.round(k*D)/D}e.round=_e;function De(k,S){S===void 0&&(S="kilometers");var D=e.factors[S];if(!D)throw new Error(S+" units is invalid");return k*D}e.radiansToLength=De;function Je(k,S){S===void 0&&(S="kilometers");var D=e.factors[S];if(!D)throw new Error(S+" units is invalid");return k/D}e.lengthToRadians=Je;function xt(k,S){return U(Je(k,S))}e.lengthToDegrees=xt;function T(k){var S=k%360;return S<0&&(S+=360),S}e.bearingToAzimuth=T;function U(k){var S=k%(2*Math.PI);return S*180/Math.PI}e.radiansToDegrees=U;function X(k){var S=k%360;return S*Math.PI/180}e.degreesToRadians=X;function se(k,S,D){if(S===void 0&&(S="kilometers"),D===void 0&&(D="kilometers"),!(k>=0))throw new Error("length must be a positive number");return De(Je(k,S),D)}e.convertLength=se;function Z(k,S,D){if(S===void 0&&(S="meters"),D===void 0&&(D="kilometers"),!(k>=0))throw new Error("area must be a positive number");var z=e.areaFactors[S];if(!z)throw new Error("invalid original units");var j=e.areaFactors[D];if(!j)throw new Error("invalid final units");return k/z*j}e.convertArea=Z;function ae(k){return!isNaN(k)&&k!==null&&!Array.isArray(k)}e.isNumber=ae;function v(k){return!!k&&k.constructor===Object}e.isObject=v;function M(k){if(!k)throw new Error("bbox is required");if(!Array.isArray(k))throw new Error("bbox must be an Array");if(k.length!==4&&k.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");k.forEach(function(S){if(!ae(S))throw new Error("bbox must only contain numbers")})}e.validateBBox=M;function B(k){if(!k)throw new Error("id is required");if(["string","number"].indexOf(typeof k)===-1)throw new Error("id must be a number or a string")}e.validateId=B}),ur=P(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=ja();function i(U,X,se){if(U!==null)for(var Z,ae,v,M,B,k,S,D=0,z=0,j,V=U.type,ne=V==="FeatureCollection",re=V==="Feature",Le=ne?U.features.length:1,$e=0;$e<Le;$e++){S=ne?U.features[$e].geometry:re?U.geometry:U,j=S?S.type==="GeometryCollection":!1,B=j?S.geometries.length:1;for(var Qe=0;Qe<B;Qe++){var Ge=0,He=0;if(M=j?S.geometries[Qe]:S,M!==null){k=M.coordinates;var ut=M.type;switch(D=se&&(ut==="Polygon"||ut==="MultiPolygon")?1:0,ut){case null:break;case"Point":if(X(k,z,$e,Ge,He)===!1)return!1;z++,Ge++;break;case"LineString":case"MultiPoint":for(Z=0;Z<k.length;Z++){if(X(k[Z],z,$e,Ge,He)===!1)return!1;z++,ut==="MultiPoint"&&Ge++}ut==="LineString"&&Ge++;break;case"Polygon":case"MultiLineString":for(Z=0;Z<k.length;Z++){for(ae=0;ae<k[Z].length-D;ae++){if(X(k[Z][ae],z,$e,Ge,He)===!1)return!1;z++}ut==="MultiLineString"&&Ge++,ut==="Polygon"&&He++}ut==="Polygon"&&Ge++;break;case"MultiPolygon":for(Z=0;Z<k.length;Z++){for(He=0,ae=0;ae<k[Z].length;ae++){for(v=0;v<k[Z][ae].length-D;v++){if(X(k[Z][ae][v],z,$e,Ge,He)===!1)return!1;z++}He++}Ge++}break;case"GeometryCollection":for(Z=0;Z<M.geometries.length;Z++)if(i(M.geometries[Z],X,se)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function a(U,X,se,Z){var ae=se;return i(U,function(v,M,B,k,S){M===0&&se===void 0?ae=v:ae=X(ae,v,M,B,k,S)},Z),ae}function o(U,X){var se;switch(U.type){case"FeatureCollection":for(se=0;se<U.features.length&&X(U.features[se].properties,se)!==!1;se++);break;case"Feature":X(U.properties,0);break}}function u(U,X,se){var Z=se;return o(U,function(ae,v){v===0&&se===void 0?Z=ae:Z=X(Z,ae,v)}),Z}function c(U,X){if(U.type==="Feature")X(U,0);else if(U.type==="FeatureCollection")for(var se=0;se<U.features.length&&X(U.features[se],se)!==!1;se++);}function d(U,X,se){var Z=se;return c(U,function(ae,v){v===0&&se===void 0?Z=ae:Z=X(Z,ae,v)}),Z}function _(U){var X=[];return i(U,function(se){X.push(se)}),X}function C(U,X){var se,Z,ae,v,M,B,k,S,D,z,j=0,V=U.type==="FeatureCollection",ne=U.type==="Feature",re=V?U.features.length:1;for(se=0;se<re;se++){for(B=V?U.features[se].geometry:ne?U.geometry:U,S=V?U.features[se].properties:ne?U.properties:{},D=V?U.features[se].bbox:ne?U.bbox:void 0,z=V?U.features[se].id:ne?U.id:void 0,k=B?B.type==="GeometryCollection":!1,M=k?B.geometries.length:1,ae=0;ae<M;ae++){if(v=k?B.geometries[ae]:B,v===null){if(X(null,j,S,D,z)===!1)return!1;continue}switch(v.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(X(v,j,S,D,z)===!1)return!1;break}case"GeometryCollection":{for(Z=0;Z<v.geometries.length;Z++)if(X(v.geometries[Z],j,S,D,z)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}j++}}function F(U,X,se){var Z=se;return C(U,function(ae,v,M,B,k){v===0&&se===void 0?Z=ae:Z=X(Z,ae,v,M,B,k)}),Z}function I(U,X){C(U,function(se,Z,ae,v,M){var B=se===null?null:se.type;switch(B){case null:case"Point":case"LineString":case"Polygon":return X(r.feature(se,ae,{bbox:v,id:M}),Z,0)===!1?!1:void 0}var k;switch(B){case"MultiPoint":k="Point";break;case"MultiLineString":k="LineString";break;case"MultiPolygon":k="Polygon";break}for(var S=0;S<se.coordinates.length;S++){var D=se.coordinates[S],z={type:k,coordinates:D};if(X(r.feature(z,ae),Z,S)===!1)return!1}})}function ie(U,X,se){var Z=se;return I(U,function(ae,v,M){v===0&&M===0&&se===void 0?Z=ae:Z=X(Z,ae,v,M)}),Z}function J(U,X){I(U,function(se,Z,ae){var v=0;if(se.geometry){var M=se.geometry.type;if(!(M==="Point"||M==="MultiPoint")){var B,k=0,S=0,D=0;if(i(se,function(z,j,V,ne,re){if(B===void 0||Z>k||ne>S||re>D){B=z,k=Z,S=ne,D=re,v=0;return}var Le=r.lineString([B,z],se.properties);if(X(Le,Z,ae,re,v)===!1)return!1;v++,B=z})===!1)return!1}}})}function _e(U,X,se){var Z=se,ae=!1;return J(U,function(v,M,B,k,S){ae===!1&&se===void 0?Z=v:Z=X(Z,v,M,B,k,S),ae=!0}),Z}function De(U,X){if(!U)throw new Error("geojson is required");I(U,function(se,Z,ae){if(se.geometry!==null){var v=se.geometry.type,M=se.geometry.coordinates;switch(v){case"LineString":if(X(se,Z,ae,0,0)===!1)return!1;break;case"Polygon":for(var B=0;B<M.length;B++)if(X(r.lineString(M[B],se.properties),Z,ae,B)===!1)return!1;break}}})}function Je(U,X,se){var Z=se;return De(U,function(ae,v,M,B){v===0&&se===void 0?Z=ae:Z=X(Z,ae,v,M,B)}),Z}function xt(U,X){if(X=X||{},!r.isObject(X))throw new Error("options is invalid");var se=X.featureIndex||0,Z=X.multiFeatureIndex||0,ae=X.geometryIndex||0,v=X.segmentIndex||0,M=X.properties,B;switch(U.type){case"FeatureCollection":se<0&&(se=U.features.length+se),M=M||U.features[se].properties,B=U.features[se].geometry;break;case"Feature":M=M||U.properties,B=U.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":B=U;break;default:throw new Error("geojson is invalid")}if(B===null)return null;var k=B.coordinates;switch(B.type){case"Point":case"MultiPoint":return null;case"LineString":return v<0&&(v=k.length+v-1),r.lineString([k[v],k[v+1]],M,X);case"Polygon":return ae<0&&(ae=k.length+ae),v<0&&(v=k[ae].length+v-1),r.lineString([k[ae][v],k[ae][v+1]],M,X);case"MultiLineString":return Z<0&&(Z=k.length+Z),v<0&&(v=k[Z].length+v-1),r.lineString([k[Z][v],k[Z][v+1]],M,X);case"MultiPolygon":return Z<0&&(Z=k.length+Z),ae<0&&(ae=k[Z].length+ae),v<0&&(v=k[Z][ae].length-v-1),r.lineString([k[Z][ae][v],k[Z][ae][v+1]],M,X)}throw new Error("geojson is invalid")}function T(U,X){if(X=X||{},!r.isObject(X))throw new Error("options is invalid");var se=X.featureIndex||0,Z=X.multiFeatureIndex||0,ae=X.geometryIndex||0,v=X.coordIndex||0,M=X.properties,B;switch(U.type){case"FeatureCollection":se<0&&(se=U.features.length+se),M=M||U.features[se].properties,B=U.features[se].geometry;break;case"Feature":M=M||U.properties,B=U.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":B=U;break;default:throw new Error("geojson is invalid")}if(B===null)return null;var k=B.coordinates;switch(B.type){case"Point":return r.point(k,M,X);case"MultiPoint":return Z<0&&(Z=k.length+Z),r.point(k[Z],M,X);case"LineString":return v<0&&(v=k.length+v),r.point(k[v],M,X);case"Polygon":return ae<0&&(ae=k.length+ae),v<0&&(v=k[ae].length+v),r.point(k[ae][v],M,X);case"MultiLineString":return Z<0&&(Z=k.length+Z),v<0&&(v=k[Z].length+v),r.point(k[Z][v],M,X);case"MultiPolygon":return Z<0&&(Z=k.length+Z),ae<0&&(ae=k[Z].length+ae),v<0&&(v=k[Z][ae].length-v),r.point(k[Z][ae][v],M,X)}throw new Error("geojson is invalid")}e.coordAll=_,e.coordEach=i,e.coordReduce=a,e.featureEach=c,e.featureReduce=d,e.findPoint=T,e.findSegment=xt,e.flattenEach=I,e.flattenReduce=ie,e.geomEach=C,e.geomReduce=F,e.lineEach=De,e.lineReduce=Je,e.propEach=o,e.propReduce=u,e.segmentEach=J,e.segmentReduce=_e}),Pi=P(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=ur();function i(a){var o=[1/0,1/0,-1/0,-1/0];return r.coordEach(a,function(u){o[0]>u[0]&&(o[0]=u[0]),o[1]>u[1]&&(o[1]=u[1]),o[2]<u[0]&&(o[2]=u[0]),o[3]<u[1]&&(o[3]=u[1])}),o}i.default=i,e.default=i}),za=P((e,r)=>{var i=Ua(),a=ja(),o=ur(),u=Pi().default,c=o.featureEach,d=o.coordEach,_=a.polygon,C=a.featureCollection;function F(I){var ie=new i(I);return ie.insert=function(J){if(J.type!=="Feature")throw new Error("invalid feature");return J.bbox=J.bbox?J.bbox:u(J),i.prototype.insert.call(this,J)},ie.load=function(J){var _e=[];return Array.isArray(J)?J.forEach(function(De){if(De.type!=="Feature")throw new Error("invalid features");De.bbox=De.bbox?De.bbox:u(De),_e.push(De)}):c(J,function(De){if(De.type!=="Feature")throw new Error("invalid features");De.bbox=De.bbox?De.bbox:u(De),_e.push(De)}),i.prototype.load.call(this,_e)},ie.remove=function(J,_e){if(J.type!=="Feature")throw new Error("invalid feature");return J.bbox=J.bbox?J.bbox:u(J),i.prototype.remove.call(this,J,_e)},ie.clear=function(){return i.prototype.clear.call(this)},ie.search=function(J){var _e=i.prototype.search.call(this,this.toBBox(J));return C(_e)},ie.collides=function(J){return i.prototype.collides.call(this,this.toBBox(J))},ie.all=function(){var J=i.prototype.all.call(this);return C(J)},ie.toJSON=function(){return i.prototype.toJSON.call(this)},ie.fromJSON=function(J){return i.prototype.fromJSON.call(this,J)},ie.toBBox=function(J){var _e;if(J.bbox)_e=J.bbox;else if(Array.isArray(J)&&J.length===4)_e=J;else if(Array.isArray(J)&&J.length===6)_e=[J[0],J[1],J[3],J[4]];else if(J.type==="Feature")_e=u(J);else if(J.type==="FeatureCollection")_e=u(J);else throw new Error("invalid geojson");return{minX:_e[0],minY:_e[1],maxX:_e[2],maxY:_e[3]}},ie}r.exports=F,r.exports.default=F});Array.prototype.findIndex=Array.prototype.findIndex||function(e){if(this===null)throw new TypeError("Array.prototype.findIndex called on null or undefined");if(typeof e!="function")throw new TypeError("callback must be a function");for(var r=Object(this),i=r.length>>>0,a=arguments[1],o=0;o<i;o++)if(e.call(a,r[o],o,r))return o;return-1},Array.prototype.find=Array.prototype.find||function(e){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof e!="function")throw new TypeError("callback must be a function");for(var r=Object(this),i=r.length>>>0,a=arguments[1],o=0;o<i;o++){var u=r[o];if(e.call(a,u,o,r))return u}},typeof Object.assign!="function"&&(Object.assign=function(e){"use strict";if(e==null)throw new TypeError("Cannot convert undefined or null to object");e=Object(e);for(var r=1;r<arguments.length;r++){var i=arguments[r];if(i!=null)for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e}),function(e){e.forEach(function(r){r.hasOwnProperty("remove")||Object.defineProperty(r,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})})}([Element.prototype,CharacterData.prototype,DocumentType.prototype]),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,r){if(this==null)throw new TypeError('"this" is null or not defined');var i=Object(this),a=i.length>>>0;if(a===0)return!1;var o=r|0,u=Math.max(o>=0?o:a-Math.abs(o),0);function c(d,_){return d===_||typeof d=="number"&&typeof _=="number"&&isNaN(d)&&isNaN(_)}for(;u<a;){if(c(i[u],e))return!0;u++}return!1}});var Ha={name:"@geoman-io/leaflet-geoman-free",version:"2.17.0",description:"A Leaflet Plugin For Editing Geometry Layers in Leaflet 1.0",keywords:["leaflet","geoman","polygon management","geometry editing","map data","map overlay","polygon","geojson","leaflet-draw","data-field-geojson","ui-leaflet-draw"],files:["dist"],main:"dist/leaflet-geoman.js",types:"dist/leaflet-geoman.d.ts",dependencies:{"@turf/boolean-contains":"^6.5.0","@turf/kinks":"^6.5.0","@turf/line-intersect":"^6.5.0","@turf/line-split":"^6.5.0",lodash:"4.17.21","polyclip-ts":"^0.16.5"},devDependencies:{"@types/leaflet":"^1.7.9","cross-env":"^7.0.3",cypress:"6.9.1","cypress-wait-until":"1.7.1",esbuild:"^0.20.0",eslint:"8.56.0","eslint-config-airbnb-base":"15.0.0","eslint-config-prettier":"9.1.0","eslint-plugin-cypress":"2.15.1","eslint-plugin-import":"2.29.1",husky:"^9.0.7",leaflet:"1.9.3","lint-staged":"^15.2.1",prettier:"3.2.4","prosthetic-hand":"1.3.1","ts-node":"^10.9.2"},peerDependencies:{leaflet:"^1.2.0"},scripts:{start:"pnpm run dev",dev:"cross-env DEV=true ts-node bundle.mjs",build:"ts-node bundle.mjs",test:"cypress run",cypress:"cypress open",prepare:"pnpm run build && husky","eslint-check":"eslint --print-config . | eslint-config-prettier-check",eslint:'eslint "{src,cypress,demo}/**/*.js" --fix ',prettier:'prettier --write "{src,cypress,demo}/**/*.{js,css}" --log-level=warn',lint:"pnpm run eslint && pnpm run prettier"},repository:{type:"git",url:"git://github.com/geoman-io/leaflet-geoman.git"},author:{name:"Geoman.io",email:"sales@geoman.io",url:"http://geoman.io"},license:"MIT",bugs:{url:"https://github.com/geoman-io/leaflet-geoman/issues"},homepage:"https://geoman.io",prettier:{trailingComma:"es5",tabWidth:2,semi:!0,singleQuote:!0},"lint-staged":{"*.js":'eslint "{src,cypress,demo}/**/*.js" --fix',"*.{js,css,md}":'prettier --write "{src,cypress,demo}/**/*.{js,css}"'}},Ka=q(un()),bo={tooltips:{placeMarker:"Click to place marker",firstVertex:"Click to place first vertex",continueLine:"Click to continue drawing",finishLine:"Click any existing marker to finish",finishPoly:"Click first marker to finish",finishRect:"Click to finish",startCircle:"Click to place circle center",finishCircle:"Click to finish circle",placeCircleMarker:"Click to place circle marker",placeText:"Click to place text",selectFirstLayerFor:"Select first layer for {action}",selectSecondLayerFor:"Select second layer for {action}"},actions:{finish:"Finish",cancel:"Cancel",removeLastVertex:"Remove Last Vertex"},buttonTitles:{drawMarkerButton:"Draw Marker",drawPolyButton:"Draw Polygons",drawLineButton:"Draw Polyline",drawCircleButton:"Draw Circle",drawRectButton:"Draw Rectangle",editButton:"Edit Layers",dragButton:"Drag Layers",cutButton:"Cut Layers",deleteButton:"Remove Layers",drawCircleMarkerButton:"Draw Circle Marker",snappingButton:"Snap dragged marker to other layers and vertices",pinningButton:"Pin shared vertices together",rotateButton:"Rotate Layers",drawTextButton:"Draw Text",scaleButton:"Scale Layers",autoTracingButton:"Auto trace Line",snapGuidesButton:"Show SnapGuides",unionButton:"Union layers",differenceButton:"Subtract layers"},measurements:{totalLength:"Length",segmentLength:"Segment length",area:"Area",radius:"Radius",perimeter:"Perimeter",height:"Height",width:"Width",coordinates:"Position",coordinatesMarker:"Position Marker"}},$a={tooltips:{placeMarker:"Platziere den Marker mit Klick",firstVertex:"Platziere den ersten Marker mit Klick",continueLine:"Klicke, um weiter zu zeichnen",finishLine:"Beende mit Klick auf existierenden Marker",finishPoly:"Beende mit Klick auf ersten Marker",finishRect:"Beende mit Klick",startCircle:"Platziere das Kreiszentrum mit Klick",finishCircle:"Beende den Kreis mit Klick",placeCircleMarker:"Platziere den Kreismarker mit Klick",placeText:"Platziere den Text mit Klick"},actions:{finish:"Beenden",cancel:"Abbrechen",removeLastVertex:"Letzten Vertex l\xF6schen"},buttonTitles:{drawMarkerButton:"Marker zeichnen",drawPolyButton:"Polygon zeichnen",drawLineButton:"Polyline zeichnen",drawCircleButton:"Kreis zeichnen",drawRectButton:"Rechteck zeichnen",editButton:"Layer editieren",dragButton:"Layer bewegen",cutButton:"Layer schneiden",deleteButton:"Layer l\xF6schen",drawCircleMarkerButton:"Kreismarker zeichnen",snappingButton:"Bewegter Layer an andere Layer oder Vertexe einhacken",pinningButton:"Vertexe an der gleichen Position verkn\xFCpfen",rotateButton:"Layer drehen",drawTextButton:"Text zeichnen",scaleButton:"Layer skalieren",autoTracingButton:"Linie automatisch nachzeichen"},measurements:{totalLength:"L\xE4nge",segmentLength:"Segment L\xE4nge",area:"Fl\xE4che",radius:"Radius",perimeter:"Umfang",height:"H\xF6he",width:"Breite",coordinates:"Position",coordinatesMarker:"Position Marker"}},fa={tooltips:{placeMarker:"Clicca per posizionare un Marker",firstVertex:"Clicca per posizionare il primo vertice",continueLine:"Clicca per continuare a disegnare",finishLine:"Clicca qualsiasi marker esistente per terminare",finishPoly:"Clicca il primo marker per terminare",finishRect:"Clicca per terminare",startCircle:"Clicca per posizionare il punto centrale del cerchio",finishCircle:"Clicca per terminare il cerchio",placeCircleMarker:"Clicca per posizionare un Marker del cherchio"},actions:{finish:"Termina",cancel:"Annulla",removeLastVertex:"Rimuovi l'ultimo vertice"},buttonTitles:{drawMarkerButton:"Disegna Marker",drawPolyButton:"Disegna Poligoni",drawLineButton:"Disegna Polilinea",drawCircleButton:"Disegna Cerchio",drawRectButton:"Disegna Rettangolo",editButton:"Modifica Livelli",dragButton:"Sposta Livelli",cutButton:"Ritaglia Livelli",deleteButton:"Elimina Livelli",drawCircleMarkerButton:"Disegna Marker del Cerchio",snappingButton:"Snap ha trascinato il pennarello su altri strati e vertici",pinningButton:"Pin condiviso vertici insieme",rotateButton:"Ruota livello"}},Xo={tooltips:{placeMarker:"Klik untuk menempatkan marker",firstVertex:"Klik untuk menempatkan vertex pertama",continueLine:"Klik untuk meneruskan digitasi",finishLine:"Klik pada sembarang marker yang ada untuk mengakhiri",finishPoly:"Klik marker pertama untuk mengakhiri",finishRect:"Klik untuk mengakhiri",startCircle:"Klik untuk menempatkan titik pusat lingkaran",finishCircle:"Klik untuk mengakhiri lingkaran",placeCircleMarker:"Klik untuk menempatkan penanda lingkarann"},actions:{finish:"Selesai",cancel:"Batal",removeLastVertex:"Hilangkan Vertex Terakhir"},buttonTitles:{drawMarkerButton:"Digitasi Marker",drawPolyButton:"Digitasi Polygon",drawLineButton:"Digitasi Polyline",drawCircleButton:"Digitasi Lingkaran",drawRectButton:"Digitasi Segi Empat",editButton:"Edit Layer",dragButton:"Geser Layer",cutButton:"Potong Layer",deleteButton:"Hilangkan Layer",drawCircleMarkerButton:"Digitasi Penanda Lingkaran",snappingButton:"Jepretkan penanda yang ditarik ke lapisan dan simpul lain",pinningButton:"Sematkan simpul bersama bersama",rotateButton:"Putar lapisan"}},gi={tooltips:{placeMarker:"Adaug\u0103 un punct",firstVertex:"Apas\u0103 aici pentru a ad\u0103uga primul Vertex",continueLine:"Apas\u0103 aici pentru a continua desenul",finishLine:"Apas\u0103 pe orice obiect pentru a finisa desenul",finishPoly:"Apas\u0103 pe primul obiect pentru a finisa",finishRect:"Apas\u0103 pentru a finisa",startCircle:"Apas\u0103 pentru a desena un cerc",finishCircle:"Apas\u0103 pentru a finisa un cerc",placeCircleMarker:"Adaug\u0103 un punct"},actions:{finish:"Termin\u0103",cancel:"Anuleaz\u0103",removeLastVertex:"\u0218terge ultimul Vertex"},buttonTitles:{drawMarkerButton:"Adaug\u0103 o bulin\u0103",drawPolyButton:"Deseneaz\u0103 un poligon",drawLineButton:"Deseneaz\u0103 o linie",drawCircleButton:"Deseneaz\u0103 un cerc",drawRectButton:"Deseneaz\u0103 un dreptunghi",editButton:"Editeaz\u0103 straturile",dragButton:"Mut\u0103 straturile",cutButton:"Taie straturile",deleteButton:"\u0218terge straturile",drawCircleMarkerButton:"Deseneaz\u0103 marcatorul cercului",snappingButton:"Fixa\u021Bi marcatorul glisat pe alte straturi \u0219i v\xE2rfuri",pinningButton:"Fixa\u021Bi v\xE2rfurile partajate \xEEmpreun\u0103",rotateButton:"Roti\u021Bi stratul"}},Yo={tooltips:{placeMarker:"\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u043D\u0430\u043D\u0435\u0441\u0442\u0438 \u043C\u0430\u0440\u043A\u0435\u0440",firstVertex:"\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u043D\u0430\u043D\u0435\u0441\u0442\u0438 \u043F\u0435\u0440\u0432\u044B\u0439 \u043E\u0431\u044A\u0435\u043A\u0442",continueLine:"\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u043F\u0440\u043E\u0434\u043E\u043B\u0436\u0438\u0442\u044C \u0440\u0438\u0441\u043E\u0432\u0430\u043D\u0438\u0435",finishLine:"\u041D\u0430\u0436\u043C\u0438\u0442\u0435 \u043B\u044E\u0431\u043E\u0439 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044E\u0449\u0438\u0439 \u043C\u0430\u0440\u043A\u0435\u0440 \u0434\u043B\u044F \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043D\u0438\u044F",finishPoly:"\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u043F\u0435\u0440\u0432\u0443\u044E \u0442\u043E\u0447\u043A\u0443, \u0447\u0442\u043E\u0431\u044B \u0437\u0430\u043A\u043E\u043D\u0447\u0438\u0442\u044C",finishRect:"\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u0437\u0430\u043A\u043E\u043D\u0447\u0438\u0442\u044C",startCircle:"\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u0434\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0446\u0435\u043D\u0442\u0440 \u043A\u0440\u0443\u0433\u0430",finishCircle:"\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u0437\u0430\u0434\u0430\u0442\u044C \u0440\u0430\u0434\u0438\u0443\u0441",placeCircleMarker:"\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u043D\u0430\u043D\u0435\u0441\u0442\u0438 \u043A\u0440\u0443\u0433\u043E\u0432\u043E\u0439 \u043C\u0430\u0440\u043A\u0435\u0440"},actions:{finish:"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044C",cancel:"\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C",removeLastVertex:"\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C \u043F\u043E\u0441\u043B\u0435\u0434\u043D\u0435\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435"},buttonTitles:{drawMarkerButton:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043C\u0430\u0440\u043A\u0435\u0440",drawPolyButton:"\u0420\u0438\u0441\u043E\u0432\u0430\u0442\u044C \u043F\u043E\u043B\u0438\u0433\u043E\u043D",drawLineButton:"\u0420\u0438\u0441\u043E\u0432\u0430\u0442\u044C \u043A\u0440\u0438\u0432\u0443\u044E",drawCircleButton:"\u0420\u0438\u0441\u043E\u0432\u0430\u0442\u044C \u043A\u0440\u0443\u0433",drawRectButton:"\u0420\u0438\u0441\u043E\u0432\u0430\u0442\u044C \u043F\u0440\u044F\u043C\u043E\u0443\u0433\u043E\u043B\u044C\u043D\u0438\u043A",editButton:"\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0441\u043B\u043E\u0439",dragButton:"\u041F\u0435\u0440\u0435\u043D\u0435\u0441\u0442\u0438 \u0441\u043B\u043E\u0439",cutButton:"\u0412\u044B\u0440\u0435\u0437\u0430\u0442\u044C \u0441\u043B\u043E\u0439",deleteButton:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0441\u043B\u043E\u0439",drawCircleMarkerButton:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043A\u0440\u0443\u0433\u043E\u0432\u043E\u0439 \u043C\u0430\u0440\u043A\u0435\u0440",snappingButton:"\u041F\u0440\u0438\u0432\u044F\u0437\u0430\u0442\u044C \u043F\u0435\u0440\u0435\u0442\u0430\u0441\u043A\u0438\u0432\u0430\u0435\u043C\u044B\u0439 \u043C\u0430\u0440\u043A\u0435\u0440 \u043A \u0434\u0440\u0443\u0433\u0438\u043C \u0441\u043B\u043E\u044F\u043C \u0438 \u0432\u0435\u0440\u0448\u0438\u043D\u0430\u043C",pinningButton:"\u0421\u0432\u044F\u0437\u0430\u0442\u044C \u043E\u0431\u0449\u0438\u0435 \u0442\u043E\u0447\u043A\u0438 \u0432\u043C\u0435\u0441\u0442\u0435",rotateButton:"\u041F\u043E\u0432\u043E\u0440\u043E\u0442 \u0441\u043B\u043E\u044F"}},Va={tooltips:{placeMarker:"Presiona para colocar un marcador",firstVertex:"Presiona para colocar el primer v\xE9rtice",continueLine:"Presiona para continuar dibujando",finishLine:"Presiona cualquier marcador existente para finalizar",finishPoly:"Presiona el primer marcador para finalizar",finishRect:"Presiona para finalizar",startCircle:"Presiona para colocar el centro del c\xEDrculo",finishCircle:"Presiona para finalizar el c\xEDrculo",placeCircleMarker:"Presiona para colocar un marcador de c\xEDrculo"},actions:{finish:"Finalizar",cancel:"Cancelar",removeLastVertex:"Eliminar \xFAltimo v\xE9rtice"},buttonTitles:{drawMarkerButton:"Dibujar Marcador",drawPolyButton:"Dibujar Pol\xEDgono",drawLineButton:"Dibujar L\xEDnea",drawCircleButton:"Dibujar C\xEDrculo",drawRectButton:"Dibujar Rect\xE1ngulo",editButton:"Editar Capas",dragButton:"Arrastrar Capas",cutButton:"Cortar Capas",deleteButton:"Eliminar Capas",drawCircleMarkerButton:"Dibujar Marcador de C\xEDrculo",snappingButton:"El marcador de Snap arrastrado a otras capas y v\xE9rtices",pinningButton:"Fijar juntos los v\xE9rtices compartidos",rotateButton:"Rotar capa"}},Co={tooltips:{placeMarker:"Klik om een marker te plaatsen",firstVertex:"Klik om het eerste punt te plaatsen",continueLine:"Klik om te blijven tekenen",finishLine:"Klik op een bestaand punt om te be\xEBindigen",finishPoly:"Klik op het eerst punt om te be\xEBindigen",finishRect:"Klik om te be\xEBindigen",startCircle:"Klik om het middelpunt te plaatsen",finishCircle:"Klik om de cirkel te be\xEBindigen",placeCircleMarker:"Klik om een marker te plaatsen"},actions:{finish:"Bewaar",cancel:"Annuleer",removeLastVertex:"Verwijder laatste punt"},buttonTitles:{drawMarkerButton:"Plaats Marker",drawPolyButton:"Teken een vlak",drawLineButton:"Teken een lijn",drawCircleButton:"Teken een cirkel",drawRectButton:"Teken een vierkant",editButton:"Bewerk",dragButton:"Verplaats",cutButton:"Knip",deleteButton:"Verwijder",drawCircleMarkerButton:"Plaats Marker",snappingButton:"Snap gesleepte marker naar andere lagen en hoekpunten",pinningButton:"Speld gedeelde hoekpunten samen",rotateButton:"Laag roteren"}},Lo={tooltips:{placeMarker:"Cliquez pour placer un marqueur",firstVertex:"Cliquez pour placer le premier sommet",continueLine:"Cliquez pour continuer \xE0 dessiner",finishLine:"Cliquez sur n'importe quel marqueur pour terminer",finishPoly:"Cliquez sur le premier marqueur pour terminer",finishRect:"Cliquez pour terminer",startCircle:"Cliquez pour placer le centre du cercle",finishCircle:"Cliquez pour finir le cercle",placeCircleMarker:"Cliquez pour placer le marqueur circulaire"},actions:{finish:"Terminer",cancel:"Annuler",removeLastVertex:"Retirer le dernier sommet"},buttonTitles:{drawMarkerButton:"Placer des marqueurs",drawPolyButton:"Dessiner des polygones",drawLineButton:"Dessiner des polylignes",drawCircleButton:"Dessiner un cercle",drawRectButton:"Dessiner un rectangle",editButton:"\xC9diter des calques",dragButton:"D\xE9placer des calques",cutButton:"Couper des calques",deleteButton:"Supprimer des calques",drawCircleMarkerButton:"Dessiner un marqueur circulaire",snappingButton:"Glisser le marqueur vers d'autres couches et sommets",pinningButton:"\xC9pingler ensemble les sommets partag\xE9s",rotateButton:"Tourner des calques"}},Wa={tooltips:{placeMarker:"\u5355\u51FB\u653E\u7F6E\u6807\u8BB0",firstVertex:"\u5355\u51FB\u653E\u7F6E\u9996\u4E2A\u9876\u70B9",continueLine:"\u5355\u51FB\u7EE7\u7EED\u7ED8\u5236",finishLine:"\u5355\u51FB\u4EFB\u4F55\u5B58\u5728\u7684\u6807\u8BB0\u4EE5\u5B8C\u6210",finishPoly:"\u5355\u51FB\u7B2C\u4E00\u4E2A\u6807\u8BB0\u4EE5\u5B8C\u6210",finishRect:"\u5355\u51FB\u5B8C\u6210",startCircle:"\u5355\u51FB\u653E\u7F6E\u5706\u5FC3",finishCircle:"\u5355\u51FB\u5B8C\u6210\u5706\u5F62",placeCircleMarker:"\u70B9\u51FB\u653E\u7F6E\u5706\u5F62\u6807\u8BB0"},actions:{finish:"\u5B8C\u6210",cancel:"\u53D6\u6D88",removeLastVertex:"\u79FB\u9664\u6700\u540E\u7684\u9876\u70B9"},buttonTitles:{drawMarkerButton:"\u7ED8\u5236\u6807\u8BB0",drawPolyButton:"\u7ED8\u5236\u591A\u8FB9\u5F62",drawLineButton:"\u7ED8\u5236\u7EBF\u6BB5",drawCircleButton:"\u7ED8\u5236\u5706\u5F62",drawRectButton:"\u7ED8\u5236\u957F\u65B9\u5F62",editButton:"\u7F16\u8F91\u56FE\u5C42",dragButton:"\u62D6\u62FD\u56FE\u5C42",cutButton:"\u526A\u5207\u56FE\u5C42",deleteButton:"\u5220\u9664\u56FE\u5C42",drawCircleMarkerButton:"\u753B\u5706\u5708\u6807\u8BB0",snappingButton:"\u5C06\u62D6\u52A8\u7684\u6807\u8BB0\u6355\u6349\u5230\u5176\u4ED6\u56FE\u5C42\u548C\u9876\u70B9",pinningButton:"\u5C06\u5171\u4EAB\u9876\u70B9\u56FA\u5B9A\u5728\u4E00\u8D77",rotateButton:"\u65CB\u8F6C\u56FE\u5C42"}},_n={tooltips:{placeMarker:"\u55AE\u64CA\u653E\u7F6E\u6A19\u8A18",firstVertex:"\u55AE\u64CA\u653E\u7F6E\u7B2C\u4E00\u500B\u9802\u9EDE",continueLine:"\u55AE\u64CA\u7E7C\u7E8C\u7E6A\u88FD",finishLine:"\u55AE\u64CA\u4EFB\u4F55\u5B58\u5728\u7684\u6A19\u8A18\u4EE5\u5B8C\u6210",finishPoly:"\u55AE\u64CA\u7B2C\u4E00\u500B\u6A19\u8A18\u4EE5\u5B8C\u6210",finishRect:"\u55AE\u64CA\u5B8C\u6210",startCircle:"\u55AE\u64CA\u653E\u7F6E\u5713\u5FC3",finishCircle:"\u55AE\u64CA\u5B8C\u6210\u5713\u5F62",placeCircleMarker:"\u9EDE\u64CA\u653E\u7F6E\u5713\u5F62\u6A19\u8A18"},actions:{finish:"\u5B8C\u6210",cancel:"\u53D6\u6D88",removeLastVertex:"\u79FB\u9664\u6700\u5F8C\u4E00\u500B\u9802\u9EDE"},buttonTitles:{drawMarkerButton:"\u653E\u7F6E\u6A19\u8A18",drawPolyButton:"\u7E6A\u88FD\u591A\u908A\u5F62",drawLineButton:"\u7E6A\u88FD\u7DDA\u6BB5",drawCircleButton:"\u7E6A\u88FD\u5713\u5F62",drawRectButton:"\u7E6A\u88FD\u65B9\u5F62",editButton:"\u7DE8\u8F2F\u5716\u5F62",dragButton:"\u79FB\u52D5\u5716\u5F62",cutButton:"\u88C1\u5207\u5716\u5F62",deleteButton:"\u522A\u9664\u5716\u5F62",drawCircleMarkerButton:"\u756B\u5713\u5708\u6A19\u8A18",snappingButton:"\u5C07\u62D6\u52D5\u7684\u6A19\u8A18\u5C0D\u9F4A\u5230\u5176\u4ED6\u5716\u5C64\u548C\u9802\u9EDE",pinningButton:"\u5C07\u5171\u4EAB\u9802\u9EDE\u56FA\u5B9A\u5728\u4E00\u8D77",rotateButton:"\u65CB\u8F49\u5716\u5F62"}},ws={tooltips:{placeMarker:"Clique para posicionar o marcador",firstVertex:"Clique para posicionar o primeiro v\xE9rtice",continueLine:"Clique para continuar desenhando",finishLine:"Clique em qualquer marcador existente para finalizar",finishPoly:"Clique no primeiro marcador para finalizar",finishRect:"Clique para finalizar",startCircle:"Clique para posicionar o centro do c\xEDrculo",finishCircle:"Clique para finalizar o c\xEDrculo",placeCircleMarker:"Clique para posicionar o marcador circular",placeText:"Clique para inserir texto"},actions:{finish:"Finalizar",cancel:"Cancelar",removeLastVertex:"Remover \xFAltimo v\xE9rtice"},buttonTitles:{drawMarkerButton:"Desenhar Marcador",drawPolyButton:"Desenhar Pol\xEDgonos",drawLineButton:"Desenhar Linha Poligonal",drawCircleButton:"Desenhar C\xEDrculo",drawRectButton:"Desenhar Ret\xE2ngulo",editButton:"Editar Camadas",dragButton:"Arrastar Camadas",cutButton:"Recortar Camadas",deleteButton:"Remover Camadas",drawCircleMarkerButton:"Desenhar Marcador de C\xEDrculo",snappingButton:"Ajustar marcador arrastado a outras camadas e v\xE9rtices",pinningButton:"Unir v\xE9rtices compartilhados",rotateButton:"Rotacionar Camadas",drawTextButton:"Desenhar Texto",scaleButton:"Redimensionar Camadas",autoTracingButton:"Tra\xE7ado Autom\xE1tico de Linha"},measurements:{totalLength:"Comprimento",segmentLength:"Comprimento do Segmento",area:"\xC1rea",radius:"Raio",perimeter:"Per\xEDmetro",height:"Altura",width:"Largura",coordinates:"Posi\xE7\xE3o",coordinatesMarker:"Marcador de Posi\xE7\xE3o"}},ks={tooltips:{placeMarker:"Clique para colocar marcador",firstVertex:"Clique para colocar primeiro v\xE9rtice",continueLine:"Clique para continuar a desenhar",finishLine:"Clique num marcador existente para terminar",finishPoly:"Clique no primeiro marcador para terminar",finishRect:"Clique para terminar",startCircle:"Clique para colocar o centro do c\xEDrculo",finishCircle:"Clique para terminar o c\xEDrculo",placeCircleMarker:"Clique para colocar marcador de c\xEDrculo",placeText:"Clique para colocar texto"},actions:{finish:"Terminar",cancel:"Cancelar",removeLastVertex:"Remover \xDAltimo V\xE9rtice"},buttonTitles:{drawMarkerButton:"Desenhar Marcador",drawPolyButton:"Desenhar Pol\xEDgonos",drawLineButton:"Desenhar Polilinha",drawCircleButton:"Desenhar C\xEDrculo",drawRectButton:"Desenhar Ret\xE2ngulo",editButton:"Editar Camadas",dragButton:"Arrastar Camadas",cutButton:"Cortar Camadas",deleteButton:"Remover Camadas",drawCircleMarkerButton:"Desenhar Marcador de C\xEDrculo",snappingButton:"Ajustar marcador arrastado a outras camadas e v\xE9rtices",pinningButton:"Unir v\xE9rtices partilhados",rotateButton:"Rodar Camadas",drawTextButton:"Desenhar Texto",scaleButton:"Escalar Camadas",autoTracingButton:"Tra\xE7ado Autom\xE1tico de Linha"},measurements:{totalLength:"Comprimento",segmentLength:"Comprimento do Segmento",area:"\xC1rea",radius:"Raio",perimeter:"Per\xEDmetro",height:"Altura",width:"Largura",coordinates:"Posi\xE7\xE3o",coordinatesMarker:"Marcador de Posi\xE7\xE3o"}},yt={tooltips:{placeMarker:"Kliknij, aby umie\u015Bci\u0107 znacznik",firstVertex:"Kliknij, aby umie\u015Bci\u0107 pierwszy wierzcho\u0142ek",continueLine:"Kliknij, aby kontynuowa\u0107 rysowanie",finishLine:"Kliknij dowolny istniej\u0105cy znacznik, aby zako\u0144czy\u0107",finishPoly:"Kliknij pierwszy znacznik, aby zako\u0144czy\u0107",finishRect:"Kliknij, aby zako\u0144czy\u0107",startCircle:"Kliknij, aby umie\u015Bci\u0107 \u015Brodek okr\u0119gu",finishCircle:"Kliknij, aby zako\u0144czy\u0107 okr\u0105g",placeCircleMarker:"Kliknij, aby umie\u015Bci\u0107 znacznik okr\u0119gu",placeText:"Kliknij, aby umie\u015Bci\u0107 tekst"},actions:{finish:"Zako\u0144cz",cancel:"Anuluj",removeLastVertex:"Usu\u0144 ostatni wierzcho\u0142ek"},buttonTitles:{drawMarkerButton:"Rysuj znacznik",drawPolyButton:"Rysuj wielok\u0105t",drawLineButton:"Rysuj lini\u0119",drawCircleButton:"Rysuj okr\u0105g",drawRectButton:"Rysuj prostok\u0105t",editButton:"Edytuj warstwy",dragButton:"Przeci\u0105gnij warstwy",cutButton:"Wytnij warstwy",deleteButton:"Usu\u0144 warstwy",drawCircleMarkerButton:"Rysuj znacznik okr\u0105g\u0142y",snappingButton:"Przyci\u0105gnij przenoszony znacznik do innych warstw i wierzcho\u0142k\xF3w",pinningButton:"Przypnij wsp\xF3lne wierzcho\u0142ki razem",rotateButton:"Obr\xF3\u0107 warstwy",drawTextButton:"Rysuj tekst",scaleButton:"Skaluj warstwy",autoTracingButton:"Automatyczne \u015Bledzenie linii"},measurements:{totalLength:"D\u0142ugo\u015B\u0107",segmentLength:"D\u0142ugo\u015B\u0107 odcinka",area:"Obszar",radius:"Promie\u0144",perimeter:"Obw\xF3d",height:"Wysoko\u015B\u0107",width:"Szeroko\u015B\u0107",coordinates:"Pozycja",coordinatesMarker:"Znacznik pozycji"}},ln={tooltips:{placeMarker:"Klicka f\xF6r att placera mark\xF6r",firstVertex:"Klicka f\xF6r att placera f\xF6rsta h\xF6rnet",continueLine:"Klicka f\xF6r att forts\xE4tta rita",finishLine:"Klicka p\xE5 en existerande punkt f\xF6r att slutf\xF6ra",finishPoly:"Klicka p\xE5 den f\xF6rsta punkten f\xF6r att slutf\xF6ra",finishRect:"Klicka f\xF6r att slutf\xF6ra",startCircle:"Klicka f\xF6r att placera cirkelns centrum",finishCircle:"Klicka f\xF6r att slutf\xF6ra cirkeln",placeCircleMarker:"Klicka f\xF6r att placera cirkelmark\xF6r"},actions:{finish:"Slutf\xF6r",cancel:"Avbryt",removeLastVertex:"Ta bort sista h\xF6rnet"},buttonTitles:{drawMarkerButton:"Rita Mark\xF6r",drawPolyButton:"Rita Polygoner",drawLineButton:"Rita Linje",drawCircleButton:"Rita Cirkel",drawRectButton:"Rita Rektangel",editButton:"Redigera Lager",dragButton:"Dra Lager",cutButton:"Klipp i Lager",deleteButton:"Ta bort Lager",drawCircleMarkerButton:"Rita Cirkelmark\xF6r",snappingButton:"Sn\xE4pp dra mark\xF6ren till andra lager och h\xF6rn",pinningButton:"F\xE4st delade h\xF6rn tillsammans",rotateButton:"Rotera lagret"}},da={tooltips:{placeMarker:"\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03C4\u03BF\u03C0\u03BF\u03B8\u03B5\u03C4\u03AE\u03C3\u03B5\u03C4\u03B5 \u0394\u03B5\u03AF\u03BA\u03C4\u03B7",firstVertex:"\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03C4\u03BF\u03C0\u03BF\u03B8\u03B5\u03C4\u03AE\u03C3\u03B5\u03C4\u03B5 \u03C4\u03BF \u03C0\u03C1\u03CE\u03C4\u03BF \u03C3\u03B7\u03BC\u03B5\u03AF\u03BF",continueLine:"\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03C3\u03C5\u03BD\u03B5\u03C7\u03AF\u03C3\u03B5\u03C4\u03B5 \u03BD\u03B1 \u03C3\u03C7\u03B5\u03B4\u03B9\u03AC\u03B6\u03B5\u03C4\u03B5",finishLine:"\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03C3\u03B5 \u03BF\u03C0\u03BF\u03B9\u03BF\u03BD\u03B4\u03AE\u03C0\u03BF\u03C4\u03B5 \u03C5\u03C0\u03AC\u03C1\u03C7\u03BF\u03BD \u03C3\u03B7\u03BC\u03B5\u03AF\u03BF \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03BF\u03BB\u03BF\u03BA\u03BB\u03B7\u03C1\u03C9\u03B8\u03B5\u03AF",finishPoly:"\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03C3\u03C4\u03BF \u03C0\u03C1\u03CE\u03C4\u03BF \u03C3\u03B7\u03BC\u03B5\u03AF\u03BF \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03C4\u03B5\u03BB\u03B5\u03B9\u03CE\u03C3\u03B5\u03C4\u03B5",finishRect:"\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03C4\u03B5\u03BB\u03B5\u03B9\u03CE\u03C3\u03B5\u03C4\u03B5",startCircle:"\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03C4\u03BF\u03C0\u03BF\u03B8\u03B5\u03C4\u03AE\u03C3\u03B5\u03C4\u03B5 \u03BA\u03AD\u03BD\u03C4\u03C1\u03BF \u039A\u03CD\u03BA\u03BB\u03BF\u03C5",finishCircle:"\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03BF\u03BB\u03BF\u03BA\u03BB\u03B7\u03C1\u03CE\u03C3\u03B5\u03C4\u03B5 \u03C4\u03BF\u03BD \u039A\u03CD\u03BA\u03BB\u03BF",placeCircleMarker:"\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03C4\u03BF\u03C0\u03BF\u03B8\u03B5\u03C4\u03AE\u03C3\u03B5\u03C4\u03B5 \u039A\u03C5\u03BA\u03BB\u03B9\u03BA\u03CC \u0394\u03B5\u03AF\u03BA\u03C4\u03B7"},actions:{finish:"\u03A4\u03AD\u03BB\u03BF\u03C2",cancel:"\u0391\u03BA\u03CD\u03C1\u03C9\u03C3\u03B7",removeLastVertex:"\u039A\u03B1\u03C4\u03AC\u03C1\u03B3\u03B7\u03C3\u03B7 \u03C4\u03B5\u03BB\u03B5\u03C5\u03C4\u03B1\u03AF\u03BF\u03C5 \u03C3\u03B7\u03BC\u03B5\u03AF\u03BF\u03C5"},buttonTitles:{drawMarkerButton:"\u03A3\u03C7\u03B5\u03B4\u03AF\u03B1\u03C3\u03B7 \u0394\u03B5\u03AF\u03BA\u03C4\u03B7",drawPolyButton:"\u03A3\u03C7\u03B5\u03B4\u03AF\u03B1\u03C3\u03B7 \u03A0\u03BF\u03BB\u03C5\u03B3\u03CE\u03BD\u03BF\u03C5",drawLineButton:"\u03A3\u03C7\u03B5\u03B4\u03AF\u03B1\u03C3\u03B7 \u0393\u03C1\u03B1\u03BC\u03BC\u03AE\u03C2",drawCircleButton:"\u03A3\u03C7\u03B5\u03B4\u03AF\u03B1\u03C3\u03B7 \u039A\u03CD\u03BA\u03BB\u03BF\u03C5",drawRectButton:"\u03A3\u03C7\u03B5\u03B4\u03AF\u03B1\u03C3\u03B7 \u039F\u03C1\u03B8\u03BF\u03B3\u03C9\u03BD\u03AF\u03BF\u03C5",editButton:"\u0395\u03C0\u03B5\u03BE\u03B5\u03C1\u03B3\u03B1\u03C3\u03AF\u03B1 \u0395\u03C0\u03B9\u03C0\u03AD\u03B4\u03C9\u03BD",dragButton:"\u039C\u03B5\u03C4\u03B1\u03C6\u03BF\u03C1\u03AC \u0395\u03C0\u03B9\u03C0\u03AD\u03B4\u03C9\u03BD",cutButton:"\u0391\u03C0\u03BF\u03BA\u03BF\u03C0\u03AE \u0395\u03C0\u03B9\u03C0\u03AD\u03B4\u03C9\u03BD",deleteButton:"\u039A\u03B1\u03C4\u03AC\u03C1\u03B3\u03B7\u03C3\u03B7 \u0395\u03C0\u03B9\u03C0\u03AD\u03B4\u03C9\u03BD",drawCircleMarkerButton:"\u03A3\u03C7\u03B5\u03B4\u03AF\u03B1\u03C3\u03B7 \u039A\u03C5\u03BA\u03BB\u03B9\u03BA\u03BF\u03CD \u0394\u03B5\u03AF\u03BA\u03C4\u03B7",snappingButton:"\u03A0\u03C1\u03BF\u03C3\u03BA\u03CC\u03BB\u03BB\u03B7\u03C3\u03B7 \u03C4\u03BF\u03C5 \u0394\u03B5\u03AF\u03BA\u03C4\u03B7 \u03BC\u03B5\u03C4\u03B1\u03C6\u03BF\u03C1\u03AC\u03C2 \u03C3\u03B5 \u03AC\u03BB\u03BB\u03B1 \u0395\u03C0\u03AF\u03C0\u03B5\u03B4\u03B1 \u03BA\u03B1\u03B9 \u039A\u03BF\u03C1\u03C5\u03C6\u03AD\u03C2",pinningButton:"\u03A0\u03B5\u03C1\u03B9\u03BA\u03BF\u03C0\u03AE \u03BA\u03BF\u03B9\u03BD\u03CE\u03BD \u03BA\u03BF\u03C1\u03C5\u03C6\u03CE\u03BD \u03BC\u03B1\u03B6\u03AF",rotateButton:"\u03A0\u03B5\u03C1\u03B9\u03C3\u03C4\u03C1\u03AD\u03C8\u03C4\u03B5 \u03C4\u03BF \u03C3\u03C4\u03C1\u03CE\u03BC\u03B1"}},gr={tooltips:{placeMarker:"Kattintson a jel\xF6l\u0151 elhelyez\xE9s\xE9hez",firstVertex:"Kattintson az els\u0151 pont elhelyez\xE9s\xE9hez",continueLine:"Kattintson a k\xF6vetkez\u0151 pont elhelyez\xE9s\xE9hez",finishLine:"A befejez\xE9shez kattintson egy megl\xE9v\u0151 pontra",finishPoly:"A befejez\xE9shez kattintson az els\u0151 pontra",finishRect:"Kattintson a befejez\xE9shez",startCircle:"Kattintson a k\xF6r k\xF6z\xE9ppontj\xE1nak elhelyez\xE9s\xE9hez",finishCircle:"Kattintson a k\xF6r befejez\xE9s\xE9hez",placeCircleMarker:"Kattintson a k\xF6rjel\xF6l\u0151 elhelyez\xE9s\xE9hez"},actions:{finish:"Befejez\xE9s",cancel:"M\xE9gse",removeLastVertex:"Utols\xF3 pont elt\xE1vol\xEDt\xE1sa"},buttonTitles:{drawMarkerButton:"Jel\xF6l\u0151 rajzol\xE1sa",drawPolyButton:"Poligon rajzol\xE1sa",drawLineButton:"Vonal rajzol\xE1sa",drawCircleButton:"K\xF6r rajzol\xE1sa",drawRectButton:"N\xE9gyzet rajzol\xE1sa",editButton:"Elemek szerkeszt\xE9se",dragButton:"Elemek mozgat\xE1sa",cutButton:"Elemek v\xE1g\xE1sa",deleteButton:"Elemek t\xF6rl\xE9se",drawCircleMarkerButton:"K\xF6r jel\xF6l\u0151 rajzol\xE1sa",snappingButton:"Kapcsolja a jel\xF6lt\u0151t m\xE1sik elemhez vagy ponthoz",pinningButton:"K\xF6z\xF6s pontok \xF6sszek\xF6t\xE9se",rotateButton:"F\xF3lia elforgat\xE1sa"}},Vi={tooltips:{placeMarker:"Tryk for at placere en mark\xF8r",firstVertex:"Tryk for at placere det f\xF8rste punkt",continueLine:"Tryk for at forts\xE6tte linjen",finishLine:"Tryk p\xE5 et eksisterende punkt for at afslutte",finishPoly:"Tryk p\xE5 det f\xF8rste punkt for at afslutte",finishRect:"Tryk for at afslutte",startCircle:"Tryk for at placere cirklens center",finishCircle:"Tryk for at afslutte cirklen",placeCircleMarker:"Tryk for at placere en cirkelmark\xF8r"},actions:{finish:"Afslut",cancel:"Afbryd",removeLastVertex:"Fjern sidste punkt"},buttonTitles:{drawMarkerButton:"Placer mark\xF8r",drawPolyButton:"Tegn polygon",drawLineButton:"Tegn linje",drawCircleButton:"Tegn cirkel",drawRectButton:"Tegn firkant",editButton:"Rediger",dragButton:"Tr\xE6k",cutButton:"Klip",deleteButton:"Fjern",drawCircleMarkerButton:"Tegn cirkelmark\xF8r",snappingButton:"Fastg\xF8r trukket mark\xF8r til andre elementer",pinningButton:"Sammenl\xE6g delte elementer",rotateButton:"Roter laget"}},Zr={tooltips:{placeMarker:"Klikk for \xE5 plassere punkt",firstVertex:"Klikk for \xE5 plassere f\xF8rste punkt",continueLine:"Klikk for \xE5 tegne videre",finishLine:"Klikk p\xE5 et eksisterende punkt for \xE5 fullf\xF8re",finishPoly:"Klikk f\xF8rste punkt for \xE5 fullf\xF8re",finishRect:"Klikk for \xE5 fullf\xF8re",startCircle:"Klikk for \xE5 sette sirkel midtpunkt",finishCircle:"Klikk for \xE5 fullf\xF8re sirkel",placeCircleMarker:"Klikk for \xE5 plassere sirkel",placeText:"Klikk for \xE5 plassere tekst"},actions:{finish:"Fullf\xF8r",cancel:"Kanseller",removeLastVertex:"Fjern forrige punkt"},buttonTitles:{drawMarkerButton:"Tegn punkt",drawPolyButton:"Tegn flate",drawLineButton:"Tegn linje",drawCircleButton:"Tegn sirkel",drawRectButton:"Tegn rektangel",editButton:"Rediger objekter",dragButton:"Dra objekter",cutButton:"Kutt objekter",deleteButton:"Fjern objekter",drawCircleMarkerButton:"Tegn sirkel-punkt",snappingButton:"Fest dratt punkt til andre objekter og punkt",pinningButton:"Pin delte punkter sammen",rotateButton:"Rot\xE9r objekter",drawTextButton:"Tegn tekst",scaleButton:"Skal\xE9r objekter",autoTracingButton:"Automatisk sporing av linje"},measurements:{totalLength:"Lengde",segmentLength:"Segmentlengde",area:"Omr\xE5de",radius:"Radius",perimeter:"Omriss",height:"H\xF8yde",width:"Bredde",coordinates:"Posisjon",coordinatesMarker:"Posisjonsmark\xF8r"}},Wi={tooltips:{placeMarker:"\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u062C\u0627\u0646\u0645\u0627\u06CC\u06CC \u0646\u0634\u0627\u0646",firstVertex:"\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u0631\u0633\u0645 \u0627\u0648\u0644\u06CC\u0646 \u0631\u0623\u0633",continueLine:"\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u0627\u062F\u0627\u0645\u0647 \u0631\u0633\u0645",finishLine:"\u06A9\u0644\u06CC\u06A9 \u0631\u0648\u06CC \u0647\u0631 \u0646\u0634\u0627\u0646 \u0645\u0648\u062C\u0648\u062F \u0628\u0631\u0627\u06CC \u067E\u0627\u06CC\u0627\u0646",finishPoly:"\u06A9\u0644\u06CC\u06A9 \u0631\u0648\u06CC \u0627\u0648\u0644\u06CC\u0646 \u0646\u0634\u0627\u0646 \u0628\u0631\u0627\u06CC \u067E\u0627\u06CC\u0627\u0646",finishRect:"\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u067E\u0627\u06CC\u0627\u0646",startCircle:"\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u0631\u0633\u0645 \u0645\u0631\u06A9\u0632 \u062F\u0627\u06CC\u0631\u0647",finishCircle:"\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u067E\u0627\u06CC\u0627\u0646 \u0631\u0633\u0645 \u062F\u0627\u06CC\u0631\u0647",placeCircleMarker:"\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u0631\u0633\u0645 \u0646\u0634\u0627\u0646 \u062F\u0627\u06CC\u0631\u0647",placeText:"\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u0646\u0648\u0634\u062A\u0646 \u0645\u062A\u0646"},actions:{finish:"\u067E\u0627\u06CC\u0627\u0646",cancel:"\u0644\u0641\u0648",removeLastVertex:"\u062D\u0630\u0641 \u0622\u062E\u0631\u06CC\u0646 \u0631\u0623\u0633"},buttonTitles:{drawMarkerButton:"\u062F\u0631\u062C \u0646\u0634\u0627\u0646",drawPolyButton:"\u0631\u0633\u0645 \u0686\u0646\u062F\u0636\u0644\u0639\u06CC",drawLineButton:"\u0631\u0633\u0645 \u062E\u0637",drawCircleButton:"\u0631\u0633\u0645 \u062F\u0627\u06CC\u0631\u0647",drawRectButton:"\u0631\u0633\u0645 \u0686\u0647\u0627\u0631\u0636\u0644\u0639\u06CC",editButton:"\u0648\u06CC\u0631\u0627\u06CC\u0634 \u0644\u0627\u06CC\u0647\u200C\u0647\u0627",dragButton:"\u062C\u0627\u0628\u062C\u0627\u06CC\u06CC \u0644\u0627\u06CC\u0647\u200C\u0647\u0627",cutButton:"\u0628\u0631\u0634 \u0644\u0627\u06CC\u0647\u200C\u0647\u0627",deleteButton:"\u062D\u0630\u0641 \u0644\u0627\u06CC\u0647\u200C\u0647\u0627",drawCircleMarkerButton:"\u0631\u0633\u0645 \u0646\u0634\u0627\u0646 \u062F\u0627\u06CC\u0631\u0647",snappingButton:"\u0646\u0634\u0627\u0646\u06AF\u0631 \u0631\u0627 \u0628\u0647 \u0644\u0627\u06CC\u0647\u200C\u0647\u0627 \u0648 \u0631\u0626\u0648\u0633 \u062F\u06CC\u06AF\u0631 \u0628\u06A9\u0634\u06CC\u062F",pinningButton:"\u0631\u0626\u0648\u0633 \u0645\u0634\u062A\u0631\u06A9 \u0631\u0627 \u0628\u0627 \u0647\u0645 \u067E\u06CC\u0646 \u06A9\u0646\u06CC\u062F",rotateButton:"\u0686\u0631\u062E\u0634 \u0644\u0627\u06CC\u0647",drawTextButton:"\u0631\u0633\u0645 \u0645\u062A\u0646",scaleButton:"\u0645\u0642\u06CC\u0627\u0633\u200C\u06AF\u0630\u0627\u0631\u06CC",autoTracingButton:"\u0631\u062F\u06CC\u0627\u0628 \u062E\u0648\u062F\u06A9\u0627\u0631"},measurements:{totalLength:"\u0637\u0648\u0644",segmentLength:"\u0637\u0648\u0644 \u0628\u062E\u0634",area:"\u0646\u0627\u062D\u06CC\u0647",radius:"\u0634\u0639\u0627\u0639",perimeter:"\u0645\u062D\u06CC\u0637",height:"\u0627\u0631\u062A\u0641\u0627\u0639",width:"\u0639\u0631\u0636",coordinates:"\u0645\u0648\u0642\u0639\u06CC\u062A",coordinatesMarker:"\u0645\u0648\u0642\u0639\u06CC\u062A \u0646\u0634\u0627\u0646"}},Yt={tooltips:{placeMarker:"\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C, \u0449\u043E\u0431 \u043D\u0430\u043D\u0435\u0441\u0442\u0438 \u043C\u0430\u0440\u043A\u0435\u0440",firstVertex:"\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C, \u0449\u043E\u0431 \u043D\u0430\u043D\u0435\u0441\u0442\u0438 \u043F\u0435\u0440\u0448\u0443 \u0432\u0435\u0440\u0448\u0438\u043D\u0443",continueLine:"\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C, \u0449\u043E\u0431 \u043F\u0440\u043E\u0434\u043E\u0432\u0436\u0438\u0442\u0438 \u043C\u0430\u043B\u044E\u0432\u0430\u0442\u0438",finishLine:"\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C \u0431\u0443\u0434\u044C-\u044F\u043A\u0438\u0439 \u0456\u0441\u043D\u0443\u044E\u0447\u0438\u0439 \u043C\u0430\u0440\u043A\u0435\u0440 \u0434\u043B\u044F \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043D\u043D\u044F",finishPoly:"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044C \u043F\u0435\u0440\u0448\u0438\u0439 \u043C\u0430\u0440\u043A\u0435\u0440, \u0449\u043E\u0431 \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u0438",finishRect:"\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C, \u0449\u043E\u0431 \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u0438",startCircle:"\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C, \u0449\u043E\u0431 \u0434\u043E\u0434\u0430\u0442\u0438 \u0446\u0435\u043D\u0442\u0440 \u043A\u043E\u043B\u0430",finishCircle:"\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C, \u0449\u043E\u0431 \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u0438 \u043A\u043E\u043B\u043E",placeCircleMarker:"\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C, \u0449\u043E\u0431 \u043D\u0430\u043D\u0435\u0441\u0442\u0438 \u043A\u0440\u0443\u0433\u043E\u0432\u0438\u0439 \u043C\u0430\u0440\u043A\u0435\u0440"},actions:{finish:"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u0438",cancel:"\u0412\u0456\u0434\u043C\u0456\u043D\u0438\u0442\u0438",removeLastVertex:"\u0412\u0438\u0434\u0430\u043B\u0438\u0442\u0438 \u043F\u043E\u043F\u0435\u0440\u0435\u0434\u043D\u044E \u0432\u0435\u0440\u0448\u0438\u043D\u0443"},buttonTitles:{drawMarkerButton:"\u041C\u0430\u043B\u044E\u0432\u0430\u0442\u0438 \u043C\u0430\u0440\u043A\u0435\u0440",drawPolyButton:"\u041C\u0430\u043B\u044E\u0432\u0430\u0442\u0438 \u043F\u043E\u043B\u0456\u0433\u043E\u043D",drawLineButton:"\u041C\u0430\u043B\u044E\u0432\u0430\u0442\u0438 \u043A\u0440\u0438\u0432\u0443",drawCircleButton:"\u041C\u0430\u043B\u044E\u0432\u0430\u0442\u0438 \u043A\u043E\u043B\u043E",drawRectButton:"\u041C\u0430\u043B\u044E\u0432\u0430\u0442\u0438 \u043F\u0440\u044F\u043C\u043E\u043A\u0443\u0442\u043D\u0438\u043A",editButton:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0448\u0430\u0440\u0438",dragButton:"\u041F\u0435\u0440\u0435\u043D\u0435\u0441\u0442\u0438 \u0448\u0430\u0440\u0438",cutButton:"\u0412\u0438\u0440\u0456\u0437\u0430\u0442\u0438 \u0448\u0430\u0440\u0438",deleteButton:"\u0412\u0438\u0434\u0430\u043B\u0438\u0442\u0438 \u0448\u0430\u0440\u0438",drawCircleMarkerButton:"\u041C\u0430\u043B\u044E\u0432\u0430\u0442\u0438 \u043A\u0440\u0443\u0433\u043E\u0432\u0438\u0439 \u043C\u0430\u0440\u043A\u0435\u0440",snappingButton:"\u041F\u0440\u0438\u0432\u2019\u044F\u0437\u0430\u0442\u0438 \u043F\u0435\u0440\u0435\u0442\u044F\u0433\u043D\u0443\u0442\u0438\u0439 \u043C\u0430\u0440\u043A\u0435\u0440 \u0434\u043E \u0456\u043D\u0448\u0438\u0445 \u0448\u0430\u0440\u0456\u0432 \u0442\u0430 \u0432\u0435\u0440\u0448\u0438\u043D",pinningButton:"\u0417\u0432'\u044F\u0437\u0430\u0442\u0438 \u0441\u043F\u0456\u043B\u044C\u043D\u0456 \u0432\u0435\u0440\u0448\u0438\u043D\u0438 \u0440\u0430\u0437\u043E\u043C",rotateButton:"\u041F\u043E\u0432\u0435\u0440\u043D\u0443\u0442\u0438 \u0448\u0430\u0440"}},pa={tooltips:{placeMarker:"\u0130\u015Faret\xE7i yerle\u015Ftirmek i\xE7in t\u0131klay\u0131n",firstVertex:"\u0130lk tepe noktas\u0131n\u0131 yerle\u015Ftirmek i\xE7in t\u0131klay\u0131n",continueLine:"\xC7izime devam etmek i\xE7in t\u0131klay\u0131n",finishLine:"Bitirmek i\xE7in mevcut herhangi bir i\u015Faret\xE7iyi t\u0131klay\u0131n",finishPoly:"Bitirmek i\xE7in ilk i\u015Faret\xE7iyi t\u0131klay\u0131n",finishRect:"Bitirmek i\xE7in t\u0131klay\u0131n",startCircle:"Daire merkezine yerle\u015Ftirmek i\xE7in t\u0131klay\u0131n",finishCircle:"Daireyi bitirmek i\xE7in t\u0131klay\u0131n",placeCircleMarker:"Daire i\u015Faret\xE7isi yerle\u015Ftirmek i\xE7in t\u0131klay\u0131n"},actions:{finish:"Bitir",cancel:"\u0130ptal",removeLastVertex:"Son k\xF6\u015Feyi kald\u0131r"},buttonTitles:{drawMarkerButton:"\xC7izim \u0130\u015Faret\xE7isi",drawPolyButton:"\xC7okgenler \xE7iz",drawLineButton:"\xC7oklu \xE7izgi \xE7iz",drawCircleButton:"\xC7ember \xE7iz",drawRectButton:"Dikd\xF6rtgen \xE7iz",editButton:"Katmanlar\u0131 d\xFCzenle",dragButton:"Katmanlar\u0131 s\xFCr\xFCkle",cutButton:"Katmanlar\u0131 kes",deleteButton:"Katmanlar\u0131 kald\u0131r",drawCircleMarkerButton:"Daire i\u015Faret\xE7isi \xE7iz",snappingButton:"S\xFCr\xFCklenen i\u015Faret\xE7iyi di\u011Fer katmanlara ve k\xF6\u015Felere yap\u0131\u015Ft\u0131r",pinningButton:"Payla\u015F\u0131lan k\xF6\u015Feleri birbirine sabitle",rotateButton:"Katman\u0131 d\xF6nd\xFCr"}},Xa={tooltips:{placeMarker:"Kliknut\xEDm vytvo\u0159\xEDte zna\u010Dku",firstVertex:"Kliknut\xEDm vytvo\u0159\xEDte prvn\xED objekt",continueLine:"Kliknut\xEDm pokra\u010Dujte v kreslen\xED",finishLine:"Kliknut\xED na libovolnou existuj\xEDc\xED zna\u010Dku pro dokon\u010Den\xED",finishPoly:"Vyberte prvn\xED bod pro dokon\u010Den\xED",finishRect:"Klikn\u011Bte pro dokon\u010Den\xED",startCircle:"Kliknut\xEDm p\u0159idejte st\u0159ed kruhu",finishCircle:"\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u0437\u0430\u0434\u0430\u0442\u044C \u0440\u0430\u0434\u0438\u0443\u0441",placeCircleMarker:"Kliknut\xEDm nastavte polom\u011Br"},actions:{finish:"Dokon\u010Dit",cancel:"Zru\u0161it",removeLastVertex:"Zru\u0161it posledn\xED akci"},buttonTitles:{drawMarkerButton:"P\u0159idat zna\u010Dku",drawPolyButton:"Nakreslit polygon",drawLineButton:"Nakreslit k\u0159ivku",drawCircleButton:"Nakreslit kruh",drawRectButton:"Nakreslit obd\xE9ln\xEDk",editButton:"Upravit vrstvu",dragButton:"P\u0159eneste vrstvu",cutButton:"Vyjmout vrstvu",deleteButton:"Smazat vrstvu",drawCircleMarkerButton:"P\u0159idat kruhovou zna\u010Dku",snappingButton:"Nav\xE1zat ta\u017Enou zna\u010Dku k dal\u0161\xEDm vrstv\xE1m a vrchol\u016Fm",pinningButton:"Spojit spole\u010Dn\xE9 body dohromady",rotateButton:"Oto\u010Dte vrstvu"}},Bs={tooltips:{placeMarker:"\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u30DE\u30FC\u30AB\u30FC\u3092\u914D\u7F6E",firstVertex:"\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u6700\u521D\u306E\u9802\u70B9\u3092\u914D\u7F6E",continueLine:"\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u63CF\u753B\u3092\u7D9A\u3051\u308B",finishLine:"\u4EFB\u610F\u306E\u30DE\u30FC\u30AB\u30FC\u3092\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u7D42\u4E86",finishPoly:"\u6700\u521D\u306E\u30DE\u30FC\u30AB\u30FC\u3092\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u7D42\u4E86",finishRect:"\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u7D42\u4E86",startCircle:"\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u5186\u306E\u4E2D\u5FC3\u3092\u914D\u7F6E",finishCircle:"\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u5186\u306E\u63CF\u753B\u3092\u7D42\u4E86",placeCircleMarker:"\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u5186\u30DE\u30FC\u30AB\u30FC\u3092\u914D\u7F6E",placeText:"\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u30C6\u30AD\u30B9\u30C8\u3092\u914D\u7F6E"},actions:{finish:"\u7D42\u4E86",cancel:"\u30AD\u30E3\u30F3\u30BB\u30EB",removeLastVertex:"\u6700\u5F8C\u306E\u9802\u70B9\u3092\u524A\u9664"},buttonTitles:{drawMarkerButton:"\u30DE\u30FC\u30AB\u30FC\u3092\u63CF\u753B",drawPolyButton:"\u30DD\u30EA\u30B4\u30F3\u3092\u63CF\u753B",drawLineButton:"\u6298\u308C\u7DDA\u3092\u63CF\u753B",drawCircleButton:"\u5186\u3092\u63CF\u753B",drawRectButton:"\u77E9\u5F62\u3092\u63CF\u753B",editButton:"\u30EC\u30A4\u30E4\u30FC\u3092\u7DE8\u96C6",dragButton:"\u30EC\u30A4\u30E4\u30FC\u3092\u30C9\u30E9\u30C3\u30B0",cutButton:"\u30EC\u30A4\u30E4\u30FC\u3092\u5207\u308A\u53D6\u308A",deleteButton:"\u30EC\u30A4\u30E4\u30FC\u3092\u524A\u9664",drawCircleMarkerButton:"\u5186\u30DE\u30FC\u30AB\u30FC\u3092\u63CF\u753B",snappingButton:"\u30C9\u30E9\u30C3\u30B0\u3057\u305F\u30DE\u30FC\u30AB\u30FC\u3092\u4ED6\u306E\u30EC\u30A4\u30E4\u30FC\u3084\u9802\u70B9\u306B\u30B9\u30CA\u30C3\u30D7\u3059\u308B",pinningButton:"\u5171\u6709\u3059\u308B\u9802\u70B9\u3092\u540C\u6642\u306B\u52D5\u304B\u3059",rotateButton:"\u30EC\u30A4\u30E4\u30FC\u3092\u56DE\u8EE2",drawTextButton:"\u30C6\u30AD\u30B9\u30C8\u3092\u63CF\u753B"}},As={tooltips:{placeMarker:"Klikkaa asettaaksesi merkin",firstVertex:"Klikkaa asettaakseni ensimm\xE4isen osuuden",continueLine:"Klikkaa jatkaaksesi piirt\xE4mist\xE4",finishLine:"Klikkaa olemassa olevaa merkki\xE4 lopettaaksesi",finishPoly:"Klikkaa ensimm\xE4ist\xE4 merkki\xE4 lopettaaksesi",finishRect:"Klikkaa lopettaaksesi",startCircle:"Klikkaa asettaaksesi ympyr\xE4n keskipisteen",finishCircle:"Klikkaa lopettaaksesi ympyr\xE4n",placeCircleMarker:"Klikkaa asettaaksesi ympyr\xE4merkin",placeText:"Klikkaa asettaaksesi tekstin"},actions:{finish:"Valmis",cancel:"Peruuta",removeLastVertex:"Poista viimeinen osuus"},buttonTitles:{drawMarkerButton:"Piirr\xE4 merkkej\xE4",drawPolyButton:"Piirr\xE4 monikulmioita",drawLineButton:"Piirr\xE4 viivoja",drawCircleButton:"Piirr\xE4 ympyr\xE4",drawRectButton:"Piirr\xE4 neliskulmioita",editButton:"Muokkaa",dragButton:"Siirr\xE4",cutButton:"Leikkaa",deleteButton:"Poista",drawCircleMarkerButton:"Piirr\xE4 ympyr\xE4merkki",snappingButton:"Kiinnit\xE4 siirrett\xE4v\xE4 merkki toisiin muotoihin",pinningButton:"Kiinnit\xE4 jaetut muodot yhteen",rotateButton:"K\xE4\xE4nn\xE4",drawTextButton:"Piirr\xE4 teksti\xE4"}},qo={tooltips:{placeMarker:"\uB9C8\uCEE4 \uC704\uCE58\uB97C \uD074\uB9AD\uD558\uC138\uC694",firstVertex:"\uCCAB\uBC88\uC9F8 \uAF2D\uC9C0\uC810 \uC704\uCE58\uC744 \uD074\uB9AD\uD558\uC138\uC694",continueLine:"\uACC4\uC18D \uADF8\uB9AC\uB824\uBA74 \uD074\uB9AD\uD558\uC138\uC694",finishLine:"\uB05D\uB0B4\uB824\uBA74 \uAE30\uC874 \uB9C8\uCEE4\uB97C \uD074\uB9AD\uD558\uC138\uC694",finishPoly:"\uB05D\uB0B4\uB824\uBA74 \uCC98\uC74C \uB9C8\uCEE4\uB97C \uD074\uB9AD\uD558\uC138\uC694",finishRect:"\uB05D\uB0B4\uB824\uBA74 \uD074\uB9AD\uD558\uC138\uC694",startCircle:"\uC6D0\uC758 \uC911\uC2EC\uC774 \uB420 \uC704\uCE58\uB97C \uD074\uB9AD\uD558\uC138\uC694",finishCircle:"\uC6D0\uC744 \uB05D\uB0B4\uB824\uBA74 \uD074\uB9AD\uD558\uC138\uC694",placeCircleMarker:"\uC6D0 \uB9C8\uCEE4 \uC704\uCE58\uB97C \uD074\uB9AD\uD558\uC138\uC694",placeText:"\uD14D\uC2A4\uD2B8 \uC704\uCE58\uB97C \uD074\uB9AD\uD558\uC138\uC694"},actions:{finish:"\uB05D\uB0B4\uAE30",cancel:"\uCDE8\uC18C",removeLastVertex:"\uB9C8\uC9C0\uB9C9 \uAF2D\uC9C0\uC810 \uC81C\uAC70"},buttonTitles:{drawMarkerButton:"\uB9C8\uCEE4 \uADF8\uB9AC\uAE30",drawPolyButton:"\uB2E4\uAC01\uD615 \uADF8\uB9AC\uAE30",drawLineButton:"\uB2E4\uAC01\uC120 \uADF8\uB9AC\uAE30",drawCircleButton:"\uC6D0 \uADF8\uB9AC\uAE30",drawRectButton:"\uC9C1\uC0AC\uAC01\uD615 \uADF8\uB9AC\uAE30",editButton:"\uB808\uC774\uC5B4 \uD3B8\uC9D1\uD558\uAE30",dragButton:"\uB808\uC774\uC5B4 \uB04C\uAE30",cutButton:"\uB808\uC774\uC5B4 \uC790\uB974\uAE30",deleteButton:"\uB808\uC774\uC5B4 \uC81C\uAC70\uD558\uAE30",drawCircleMarkerButton:"\uC6D0 \uB9C8\uCEE4 \uADF8\uB9AC\uAE30",snappingButton:"\uC7A1\uC544\uB048 \uB9C8\uCEE4\uB97C \uB2E4\uB978 \uB808\uC774\uC5B4 \uBC0F \uAF2D\uC9C0\uC810\uC5D0 \uB4E4\uB7EC\uBD99\uAC8C \uD558\uAE30",pinningButton:"\uACF5\uC720 \uAF2D\uC9C0\uC810\uC744 \uD568\uAED8 \uCC0D\uAE30",rotateButton:"\uB808\uC774\uC5B4 \uD68C\uC804\uD558\uAE30",drawTextButton:"\uD14D\uC2A4\uD2B8 \uADF8\uB9AC\uAE30"}},Cr={tooltips:{placeMarker:"\u041C\u0430\u0440\u043A\u0435\u0440\u0434\u0438 \u0436\u0430\u0439\u0433\u0430\u0448\u0442\u044B\u0440\u0443\u0443 \u04AF\u0447\u04AF\u043D \u0431\u0430\u0441\u044B\u04A3\u044B\u0437",firstVertex:"\u0411\u0438\u0440\u0438\u043D\u0447\u0438 \u0447\u043E\u043A\u0443\u043D\u0443 \u0436\u0430\u0439\u0433\u0430\u0448\u0442\u044B\u0440\u0443\u0443\u043D\u0443 \u04AF\u0447\u04AF\u043D \u0431\u0430\u0441\u044B\u04A3\u044B\u0437",continueLine:"\u0421\u04AF\u0440\u04E9\u0442 \u0442\u0430\u0440\u0442\u0443\u0443\u043D\u0443 \u0443\u043B\u0430\u043D\u0442\u0443\u0443 \u04AF\u0447\u04AF\u043D \u0431\u0430\u0441\u044B\u04A3\u044B\u0437",finishLine:"\u0410\u044F\u043A\u0442\u043E\u043E \u04AF\u0447\u04AF\u043D \u0443\u0447\u0443\u0440\u0434\u0430\u0433\u044B \u043C\u0430\u0440\u043A\u0435\u0440\u0434\u0438 \u0431\u0430\u0441\u044B\u04A3\u044B\u0437",finishPoly:"\u0411\u04AF\u0442\u04AF\u0440\u04AF\u04AF \u04AF\u0447\u04AF\u043D \u0431\u0438\u0440\u0438\u043D\u0447\u0438 \u043C\u0430\u0440\u043A\u0435\u0440\u0434\u0438 \u0431\u0430\u0441\u044B\u04A3\u044B\u0437",finishRect:"\u0411\u04AF\u0442\u04AF\u0440\u04AF\u04AF \u04AF\u0447\u04AF\u043D \u0431\u0430\u0441\u044B\u04A3\u044B\u0437",startCircle:"\u0410\u0439\u043B\u0430\u043D\u0430\u043D\u044B\u043D \u0431\u043E\u0440\u0431\u043E\u0440\u0443\u043D \u0436\u0430\u0439\u0433\u0430\u0448\u0442\u044B\u0440\u0443\u0443\u043D\u0443 \u04AF\u0447\u04AF\u043D \u0431\u0430\u0441\u044B\u04A3\u044B\u0437",finishCircle:"\u0410\u0439\u043B\u0430\u043D\u0430\u043D\u044B \u0431\u04AF\u0442\u04AF\u0440\u04AF\u04AF \u04AF\u0447\u04AF\u043D \u0431\u0430\u0441\u044B\u04A3\u044B\u0437",placeCircleMarker:"\u0422\u0435\u0433\u0435\u0440\u0435\u043A \u043C\u0430\u0440\u043A\u0435\u0440\u0434\u0438 \u0436\u0430\u0439\u0433\u0430\u0448\u0442\u044B\u0440\u0443\u0443 \u04AF\u0447\u04AF\u043D \u0431\u0430\u0441\u044B\u04A3\u044B\u0437",placeText:"\u0422\u0435\u043A\u0441\u0442\u0442\u0438 \u0436\u0430\u0439\u0433\u0430\u0448\u0442\u044B\u0440\u0443\u0443 \u04AF\u0447\u04AF\u043D \u0431\u0430\u0441\u044B\u04A3\u044B\u0437"},actions:{finish:"\u0410\u044F\u0433\u044B",cancel:"\u0416\u043E\u043A \u043A\u044B\u043B\u0443\u0443",removeLastVertex:"\u0410\u043A\u044B\u0440\u043A\u044B \u0447\u043E\u043A\u0443\u043D\u0443 \u04E9\u0447\u04AF\u0440\u04AF\u04AF"},buttonTitles:{drawMarkerButton:"\u041C\u0430\u0440\u043A\u0435\u0440\u0434\u0438 \u0447\u0438\u0437\u0443\u0443",drawPolyButton:"\u041F\u043E\u043B\u0438\u0433\u043E\u043D \u0447\u0438\u0437\u0443\u0443",drawLineButton:"\u041F\u043E\u043B\u0438\u043B\u0438\u043D\u0438\u044F \u0447\u0438\u0437\u0443\u0443",drawCircleButton:"\u0414\u0430\u0439\u044B\u043D\u0434\u044B \u0447\u0438\u0437\u0443\u0443",drawRectButton:"\u041F\u0440\u044F\u043C\u043E\u0443\u0433\u043E\u043B\u044C\u043D\u0438\u043A \u0447\u0438\u0437\u0443\u0443",editButton:"\u0421\u043B\u043E\u043E\u043F\u0442\u0443 \u0442\u04AF\u0437\u04E9\u0442\u04AF\u04AF",dragButton:"\u0421\u043B\u043E\u043E\u043F\u0442\u0443 \u043A\u0430\u0440\u0430\u043F \u0441\u04AF\u0439\u043B\u04E9\u04AF",cutButton:"\u0421\u043B\u043E\u043E\u043F\u0442\u0443\u043D \u0431\u0430\u0448\u044B\u043D \u043A\u0435\u0441\u04AF\u04AF",deleteButton:"\u0421\u043B\u043E\u043E\u043F\u0442\u0443\u043D \u04E9\u0447\u04AF\u0440\u04AF\u04AF",drawCircleMarkerButton:"\u0414\u0430\u0439\u044B\u043D\u0434\u044B \u043C\u0430\u0440\u043A\u0435\u0440\u0434\u0438 \u0447\u0438\u0437\u0443\u0443",snappingButton:"\u0411\u0430\u0448\u043A\u0430 \u0441\u043B\u043E\u043E\u043F\u0442\u043E\u0440\u0434\u0443\u043D \u0436\u0430\u043D\u0430 \u0432\u0435\u0440\u0442\u0435\u043A\u0441\u0442\u0435\u0440\u0434\u0438\u043D \u0430\u0440\u0430\u0441\u044B\u043D\u0430 \u0447\u0435\u043A\u0438\u043B\u0434\u04E9\u04E9",pinningButton:"\u0411\u04E9\u043B\u04AF\u0448\u043A\u04E9\u043D \u0432\u0435\u0440\u0442\u0435\u043A\u0441\u0442\u0435\u0440\u0434\u0438 \u0431\u0438\u0440\u0433\u0435 \u0442\u0443\u0442\u0443\u0448\u0442\u0443\u0440\u0443\u0443",rotateButton:"\u0421\u043B\u043E\u043E\u043F\u0442\u0443\u043D \u04E9\u0437\u0433\u04E9\u0440\u0442\u04AF\u04AF",drawTextButton:"\u0422\u0435\u043A\u0441\u0442 \u0447\u0438\u0437\u0443\u0443",scaleButton:"\u0421\u043B\u043E\u043E\u043F\u0442\u0443\u043D \u04E9\u043B\u0447\u04E9\u043C\u04AF\u043D \u04E9\u0437\u0433\u04E9\u0440\u0442\u04AF\u04AF",autoTracingButton:"\u0410\u0432\u0442\u043E\u043C\u0430\u0442\u0442\u044B\u043A \u0442\u0438\u0437\u043C\u0435\u0433\u0438 \u0447\u0438\u0437\u0443\u0443"},measurements:{totalLength:"\u0423\u0437\u0443\u043D\u0434\u0443\u043A",segmentLength:"\u0421\u0435\u0433\u043C\u0435\u043D\u0442 \u0443\u0437\u0443\u043D\u0434\u0443\u0433\u0443",area:"\u0410\u0439\u043C\u0430\u043A",radius:"\u0420\u0430\u0434\u0438\u0443\u0441",perimeter:"\u041F\u0435\u0440\u0438\u043C\u0435\u0442\u0440",height:"\u0414\u0438\u0430\u043C\u0435\u0442\u0440",width:"\u041A\u0435\u043D\u0447\u0438\u043B\u0438\u043A",coordinates:"\u041A\u043E\u043E\u0440\u0434\u0438\u043D\u0430\u0442\u0442\u0430\u0440",coordinatesMarker:"\u041C\u0430\u0440\u043A\u0435\u0440\u0434\u0438\u043D \u043A\u043E\u043E\u0440\u0434\u0438\u043D\u0430\u0442\u0442\u0430\u0440\u044B"}},Qr={en:bo,de:$a,it:fa,id:Xo,ro:gi,ru:Yo,es:Va,nl:Co,fr:Lo,pt_br:ws,pt_pt:ks,zh:Wa,zh_tw:_n,pl:yt,sv:ln,el:da,hu:gr,da:Vi,no:Zr,fa:Wi,ua:Yt,tr:pa,cz:Xa,ja:Bs,fi:As,ko:qo,ky:Cr},E={_globalEditModeEnabled:!1,enableGlobalEditMode(e){let r={...e};this._globalEditModeEnabled=!0,this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),L.PM.Utils.findLayers(this.map).forEach(i=>{this._isRelevantForEdit(i)&&i.pm.enable(r)}),this.throttledReInitEdit||(this.throttledReInitEdit=L.Util.throttle(this.handleLayerAdditionInGlobalEditMode,100,this)),this._addedLayersEdit={},this.map.on("layeradd",this._layerAddedEdit,this),this.map.on("layeradd",this.throttledReInitEdit,this),this._fireGlobalEditModeToggled(!0)},disableGlobalEditMode(){this._globalEditModeEnabled=!1,L.PM.Utils.findLayers(this.map).forEach(e=>{e.pm.disable()}),this.map.off("layeradd",this._layerAddedEdit,this),this.map.off("layeradd",this.throttledReInitEdit,this),this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),this._fireGlobalEditModeToggled(!1)},globalEditEnabled(){return this.globalEditModeEnabled()},globalEditModeEnabled(){return this._globalEditModeEnabled},toggleGlobalEditMode(e=this.globalOptions){this.globalEditModeEnabled()?this.disableGlobalEditMode():this.enableGlobalEditMode(e)},handleLayerAdditionInGlobalEditMode(){let e=this._addedLayersEdit;if(this._addedLayersEdit={},this.globalEditModeEnabled())for(let r in e){let i=e[r];this._isRelevantForEdit(i)&&i.pm.enable({...this.globalOptions})}},_layerAddedEdit({layer:e}){this._addedLayersEdit[L.stamp(e)]=e},_isRelevantForEdit(e){return e.pm&&!(e instanceof L.LayerGroup)&&(!L.PM.optIn&&!e.options.pmIgnore||L.PM.optIn&&e.options.pmIgnore===!1)&&!e._pmTempLayer&&e.pm.options.allowEditing}},g=E,m={_globalDragModeEnabled:!1,enableGlobalDragMode(){let e=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!0,this._addedLayersDrag={},e.forEach(r=>{this._isRelevantForDrag(r)&&r.pm.enableLayerDrag()}),this.throttledReInitDrag||(this.throttledReInitDrag=L.Util.throttle(this.reinitGlobalDragMode,100,this)),this.map.on("layeradd",this._layerAddedDrag,this),this.map.on("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!0)},disableGlobalDragMode(){let e=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!1,e.forEach(r=>{r.pm.disableLayerDrag()}),this.map.off("layeradd",this._layerAddedDrag,this),this.map.off("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!1)},globalDragModeEnabled(){return!!this._globalDragModeEnabled},toggleGlobalDragMode(){this.globalDragModeEnabled()?this.disableGlobalDragMode():this.enableGlobalDragMode()},reinitGlobalDragMode(){let e=this._addedLayersDrag;if(this._addedLayersDrag={},this.globalDragModeEnabled())for(let r in e){let i=e[r];this._isRelevantForDrag(i)&&i.pm.enableLayerDrag()}},_layerAddedDrag({layer:e}){this._addedLayersDrag[L.stamp(e)]=e},_isRelevantForDrag(e){return e.pm&&!(e instanceof L.LayerGroup)&&(!L.PM.optIn&&!e.options.pmIgnore||L.PM.optIn&&e.options.pmIgnore===!1)&&!e._pmTempLayer&&e.pm.options.draggable}},b=m,R={_globalRemovalModeEnabled:!1,enableGlobalRemovalMode(){this._globalRemovalModeEnabled=!0,this.map.eachLayer(e=>{this._isRelevantForRemoval(e)&&(e.pm.enabled()&&e.pm.disable(),e.on("click",this.removeLayer,this))}),this.throttledReInitRemoval||(this.throttledReInitRemoval=L.Util.throttle(this.handleLayerAdditionInGlobalRemovalMode,100,this)),this._addedLayersRemoval={},this.map.on("layeradd",this._layerAddedRemoval,this),this.map.on("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!0)},disableGlobalRemovalMode(){this._globalRemovalModeEnabled=!1,this.map.eachLayer(e=>{e.off("click",this.removeLayer,this)}),this.map.off("layeradd",this._layerAddedRemoval,this),this.map.off("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!1)},globalRemovalEnabled(){return this.globalRemovalModeEnabled()},globalRemovalModeEnabled(){return!!this._globalRemovalModeEnabled},toggleGlobalRemovalMode(){this.globalRemovalModeEnabled()?this.disableGlobalRemovalMode():this.enableGlobalRemovalMode()},removeLayer(e){let r=e.target;this._isRelevantForRemoval(r)&&!r.pm.dragging()&&(r.removeFrom(this.map.pm._getContainingLayer()),r.remove(),r instanceof L.LayerGroup?(this._fireRemoveLayerGroup(r),this._fireRemoveLayerGroup(this.map,r)):(r.pm._fireRemove(r),r.pm._fireRemove(this.map,r)))},_isRelevantForRemoval(e){return e.pm&&!(e instanceof L.LayerGroup)&&(!L.PM.optIn&&!e.options.pmIgnore||L.PM.optIn&&e.options.pmIgnore===!1)&&!e._pmTempLayer&&e.pm.options.allowRemoval},handleLayerAdditionInGlobalRemovalMode(){let e=this._addedLayersRemoval;if(this._addedLayersRemoval={},this.globalRemovalModeEnabled())for(let r in e){let i=e[r];this._isRelevantForRemoval(i)&&(i.pm.enabled()&&i.pm.disable(),i.on("click",this.removeLayer,this))}},_layerAddedRemoval({layer:e}){this._addedLayersRemoval[L.stamp(e)]=e}},K=R,te={_globalRotateModeEnabled:!1,enableGlobalRotateMode(){this._globalRotateModeEnabled=!0,L.PM.Utils.findLayers(this.map).filter(e=>e instanceof L.Polyline).forEach(e=>{this._isRelevantForRotate(e)&&e.pm.enableRotate()}),this.throttledReInitRotate||(this.throttledReInitRotate=L.Util.throttle(this.handleLayerAdditionInGlobalRotateMode,100,this)),this._addedLayersRotate={},this.map.on("layeradd",this._layerAddedRotate,this),this.map.on("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},disableGlobalRotateMode(){this._globalRotateModeEnabled=!1,L.PM.Utils.findLayers(this.map).filter(e=>e instanceof L.Polyline).forEach(e=>{e.pm.disableRotate()}),this.map.off("layeradd",this._layerAddedRotate,this),this.map.off("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},globalRotateModeEnabled(){return!!this._globalRotateModeEnabled},toggleGlobalRotateMode(){this.globalRotateModeEnabled()?this.disableGlobalRotateMode():this.enableGlobalRotateMode()},_isRelevantForRotate(e){return e.pm&&e instanceof L.Polyline&&!(e instanceof L.LayerGroup)&&(!L.PM.optIn&&!e.options.pmIgnore||L.PM.optIn&&e.options.pmIgnore===!1)&&!e._pmTempLayer&&e.pm.options.allowRotation},handleLayerAdditionInGlobalRotateMode(){let e=this._addedLayersRotate;if(this._addedLayersRotate={},this.globalRotateModeEnabled())for(let r in e){let i=e[r];this._isRelevantForRemoval(i)&&i.pm.enableRotate()}},_layerAddedRotate({layer:e}){this._addedLayersRotate[L.stamp(e)]=e}},pe=te,we=q(un()),Se={_fireDrawStart(e="Draw",r={}){this.__fire(this._map,"pm:drawstart",{shape:this._shape,workingLayer:this._layer},e,r)},_fireDrawEnd(e="Draw",r={}){this.__fire(this._map,"pm:drawend",{shape:this._shape},e,r)},_fireCreate(e,r="Draw",i={}){this.__fire(this._map,"pm:create",{shape:this._shape,marker:e,layer:e},r,i)},_fireCenterPlaced(e="Draw",r={}){let i=e==="Draw"?this._layer:void 0,a=e!=="Draw"?this._layer:void 0;this.__fire(this._layer,"pm:centerplaced",{shape:this._shape,workingLayer:i,layer:a,latlng:this._layer.getLatLng()},e,r)},_fireCut(e,r,i,a="Draw",o={}){this.__fire(e,"pm:cut",{shape:this._shape,layer:r,originalLayer:i},a,o)},_fireEdit(e=this._layer,r="Edit",i={}){this.__fire(e,"pm:edit",{layer:this._layer,shape:this.getShape()},r,i)},_fireEnable(e="Edit",r={}){this.__fire(this._layer,"pm:enable",{layer:this._layer,shape:this.getShape()},e,r)},_fireDisable(e="Edit",r={}){this.__fire(this._layer,"pm:disable",{layer:this._layer,shape:this.getShape()},e,r)},_fireUpdate(e="Edit",r={}){this.__fire(this._layer,"pm:update",{layer:this._layer,shape:this.getShape()},e,r)},_fireMarkerDragStart(e,r=void 0,i="Edit",a={}){this.__fire(this._layer,"pm:markerdragstart",{layer:this._layer,markerEvent:e,shape:this.getShape(),indexPath:r},i,a)},_fireMarkerDrag(e,r=void 0,i="Edit",a={}){this.__fire(this._layer,"pm:markerdrag",{layer:this._layer,markerEvent:e,shape:this.getShape(),indexPath:r},i,a)},_fireMarkerDragEnd(e,r=void 0,i=void 0,a="Edit",o={}){this.__fire(this._layer,"pm:markerdragend",{layer:this._layer,markerEvent:e,shape:this.getShape(),indexPath:r,intersectionReset:i},a,o)},_fireDragStart(e="Edit",r={}){this.__fire(this._layer,"pm:dragstart",{layer:this._layer,shape:this.getShape()},e,r)},_fireDrag(e,r="Edit",i={}){this.__fire(this._layer,"pm:drag",{...e,shape:this.getShape()},r,i)},_fireDragEnd(e="Edit",r={}){this.__fire(this._layer,"pm:dragend",{layer:this._layer,shape:this.getShape()},e,r)},_fireDragEnable(e="Edit",r={}){this.__fire(this._layer,"pm:dragenable",{layer:this._layer,shape:this.getShape()},e,r)},_fireDragDisable(e="Edit",r={}){this.__fire(this._layer,"pm:dragdisable",{layer:this._layer,shape:this.getShape()},e,r)},_fireRemove(e,r=e,i="Edit",a={}){this.__fire(e,"pm:remove",{layer:r,shape:this.getShape()},i,a)},_fireVertexAdded(e,r,i,a="Edit",o={}){this.__fire(this._layer,"pm:vertexadded",{layer:this._layer,workingLayer:this._layer,marker:e,indexPath:r,latlng:i,shape:this.getShape()},a,o)},_fireVertexRemoved(e,r,i="Edit",a={}){this.__fire(this._layer,"pm:vertexremoved",{layer:this._layer,marker:e,indexPath:r,shape:this.getShape()},i,a)},_fireVertexClick(e,r,i="Edit",a={}){this.__fire(this._layer,"pm:vertexclick",{layer:this._layer,markerEvent:e,indexPath:r,shape:this.getShape()},i,a)},_fireIntersect(e,r=this._layer,i="Edit",a={}){this.__fire(r,"pm:intersect",{layer:this._layer,intersection:e,shape:this.getShape()},i,a)},_fireLayerReset(e,r,i="Edit",a={}){this.__fire(this._layer,"pm:layerreset",{layer:this._layer,markerEvent:e,indexPath:r,shape:this.getShape()},i,a)},_fireChange(e,r="Edit",i={}){this.__fire(this._layer,"pm:change",{layer:this._layer,latlngs:e,shape:this.getShape()},r,i)},_fireTextChange(e,r="Edit",i={}){this.__fire(this._layer,"pm:textchange",{layer:this._layer,text:e,shape:this.getShape()},r,i)},_fireTextFocus(e="Edit",r={}){this.__fire(this._layer,"pm:textfocus",{layer:this._layer,shape:this.getShape()},e,r)},_fireTextBlur(e="Edit",r={}){this.__fire(this._layer,"pm:textblur",{layer:this._layer,shape:this.getShape()},e,r)},_fireSnapDrag(e,r,i="Snapping",a={}){this.__fire(e,"pm:snapdrag",r,i,a)},_fireSnap(e,r,i="Snapping",a={}){this.__fire(e,"pm:snap",r,i,a)},_fireUnsnap(e,r,i="Snapping",a={}){this.__fire(e,"pm:unsnap",r,i,a)},_fireRotationEnable(e,r,i="Rotation",a={}){this.__fire(e,"pm:rotateenable",{layer:this._layer,helpLayer:this._rotatePoly,shape:this.getShape()},i,a)},_fireRotationDisable(e,r="Rotation",i={}){this.__fire(e,"pm:rotatedisable",{layer:this._layer,shape:this.getShape()},r,i)},_fireRotationStart(e,r,i="Rotation",a={}){this.__fire(e,"pm:rotatestart",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:this._startAngle,originLatLngs:r},i,a)},_fireRotation(e,r,i,a=this._rotationLayer,o="Rotation",u={}){this.__fire(e,"pm:rotate",{layer:a,helpLayer:this._layer,startAngle:this._startAngle,angle:a.pm.getAngle(),angleDiff:r,oldLatLngs:i,newLatLngs:a.getLatLngs()},o,u)},_fireRotationEnd(e,r,i,a="Rotation",o={}){this.__fire(e,"pm:rotateend",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:r,angle:this._rotationLayer.pm.getAngle(),originLatLngs:i,newLatLngs:this._rotationLayer.getLatLngs()},a,o)},_fireActionClick(e,r,i,a="Toolbar",o={}){this.__fire(this._map,"pm:actionclick",{text:e.text,action:e,btnName:r,button:i},a,o)},_fireButtonClick(e,r,i="Toolbar",a={}){this.__fire(this._map,"pm:buttonclick",{btnName:e,button:r},i,a)},_fireLangChange(e,r,i,a,o="Global",u={}){this.__fire(this.map,"pm:langchange",{oldLang:e,activeLang:r,fallback:i,translations:a},o,u)},_fireGlobalDragModeToggled(e,r="Global",i={}){this.__fire(this.map,"pm:globaldragmodetoggled",{enabled:e,map:this.map},r,i)},_fireGlobalEditModeToggled(e,r="Global",i={}){this.__fire(this.map,"pm:globaleditmodetoggled",{enabled:e,map:this.map},r,i)},_fireGlobalRemovalModeToggled(e,r="Global",i={}){this.__fire(this.map,"pm:globalremovalmodetoggled",{enabled:e,map:this.map},r,i)},_fireGlobalCutModeToggled(e="Global",r={}){this.__fire(this._map,"pm:globalcutmodetoggled",{enabled:!!this._enabled,map:this._map},e,r)},_fireGlobalDrawModeToggled(e="Global",r={}){this.__fire(this._map,"pm:globaldrawmodetoggled",{enabled:this._enabled,shape:this._shape,map:this._map},e,r)},_fireGlobalRotateModeToggled(e="Global",r={}){this.__fire(this.map,"pm:globalrotatemodetoggled",{enabled:this.globalRotateModeEnabled(),map:this.map},e,r)},_fireRemoveLayerGroup(e,r=e,i="Edit",a={}){this.__fire(e,"pm:remove",{layer:r,shape:void 0},i,a)},_fireKeyeventEvent(e,r,i,a="Global",o={}){this.__fire(this.map,"pm:keyevent",{event:e,eventType:r,focusOn:i},a,o)},__fire(e,r,i,a,o={}){i=(0,we.default)(i,o,{source:a}),L.PM.Utils._fireEvent(e,r,i)}},Ve=Se,je=()=>({_lastEvents:{keydown:void 0,keyup:void 0,current:void 0},_initKeyListener(e){this.map=e,L.DomEvent.on(document,"keydown keyup",this._onKeyListener,this),L.DomEvent.on(window,"blur",this._onBlur,this),e.once("unload",this._unbindKeyListenerEvents,this)},_unbindKeyListenerEvents(){L.DomEvent.off(document,"keydown keyup",this._onKeyListener,this),L.DomEvent.off(window,"blur",this._onBlur,this)},_onKeyListener(e){let r="document";this.map.getContainer().contains(e.target)&&(r="map");let i={event:e,eventType:e.type,focusOn:r};this._lastEvents[e.type]=i,this._lastEvents.current=i,this.map.pm._fireKeyeventEvent(e,e.type,r)},_onBlur(e){e.altKey=!1;let r={event:e,eventType:e.type,focusOn:"document"};this._lastEvents[e.type]=r,this._lastEvents.current=r},getLastKeyEvent(e="current"){return this._lastEvents[e]},isShiftKeyPressed(){return this._lastEvents.current?.event.shiftKey},isAltKeyPressed(){return this._lastEvents.current?.event.altKey},isCtrlKeyPressed(){return this._lastEvents.current?.event.ctrlKey},isMetaKeyPressed(){return this._lastEvents.current?.event.metaKey},getPressedKey(){return this._lastEvents.current?.event.key}}),lt=je,kt=q(Ga());function ze(e){let r=L.PM.activeLang;return(0,kt.default)(Qr[r],e)||(0,kt.default)(Qr.en,e)||e}function Bt(e){for(let r=0;r<e.length;r+=1){let i=e[r];if(Array.isArray(i)){if(Bt(i))return!0}else if(i!=null&&i!=="")return!0}return!1}function ir(e){return e.reduce((r,i)=>{if(i.length!==0){let a=Array.isArray(i)?ir(i):i;Array.isArray(a)?a.length!==0&&r.push(a):r.push(a)}return r},[])}function vn(e,r,i){let a={a:L.CRS.Earth.R,b:63567523142e-4,f:.0033528106647474805},{a:o,b:u,f:c}=a,d=e.lng,_=e.lat,C=i,F=Math.PI,I=r*F/180,ie=Math.sin(I),J=Math.cos(I),_e=(1-c)*Math.tan(_*F/180),De=1/Math.sqrt(1+_e*_e),Je=_e*De,xt=Math.atan2(_e,J),T=De*ie,U=1-T*T,X=U*(o*o-u*u)/(u*u),se=1+X/16384*(4096+X*(-768+X*(320-175*X))),Z=X/1024*(256+X*(-128+X*(74-47*X))),ae=C/(u*se),v=2*Math.PI,M,B,k;for(;Math.abs(ae-v)>1e-12;){M=Math.cos(2*xt+ae),B=Math.sin(ae),k=Math.cos(ae);let Le=Z*B*(M+Z/4*(k*(-1+2*M*M)-Z/6*M*(-3+4*B*B)*(-3+4*M*M)));v=ae,ae=C/(u*se)+Le}let S=Je*B-De*k*J,D=Math.atan2(Je*k+De*B*J,(1-c)*Math.sqrt(T*T+S*S)),z=Math.atan2(B*ie,De*k-Je*B*J),j=c/16*U*(4+c*(4-3*U)),V=z-(1-j)*c*T*(ae+j*B*(M+j*k*(-1+2*M*M))),ne=d+V*180/F,re=D*180/F;return L.latLng(ne,re)}function mr(e,r,i,a,o=!0){let u,c,d,_=[];for(let C=0;C<i;C+=1){if(o)u=C*360/i+a,c=vn(e,u,r),d=L.latLng(c.lng,c.lat);else{let F=e.lat+Math.cos(2*C*Math.PI/i)*r,I=e.lng+Math.sin(2*C*Math.PI/i)*r;d=L.latLng(F,I)}_.push(d)}return _}function en(e,r,i){r=(r+360)%360;let a=Math.PI/180,o=180/Math.PI,{R:u}=L.CRS.Earth,c=e.lng*a,d=e.lat*a,_=r*a,C=Math.sin(d),F=Math.cos(d),I=Math.cos(i/u),ie=Math.sin(i/u),J=Math.asin(C*I+F*ie*Math.cos(_)),_e=c+Math.atan2(Math.sin(_)*ie*F,I-C*Math.sin(J));_e*=o;let De=_e-360,Je=_e<-180?_e+360:_e;return _e=_e>180?De:Je,L.latLng([J*o,_e])}function St(e,r,i){let a=e.latLngToContainerPoint(r),o=e.latLngToContainerPoint(i),u=Math.atan2(o.y-a.y,o.x-a.x)*180/Math.PI+90;return u+=u<0?360:0,u}function Fr(e,r,i,a){let o=St(e,r,i);return en(r,o,a)}function Hn(e,r,i="asc"){if(!r||Object.keys(r).length===0)return(_,C)=>_-C;let a=Object.keys(r),o,u=a.length-1,c={};for(;u>=0;)o=a[u],c[o.toLowerCase()]=r[o],u-=1;function d(_){if(_ instanceof L.Marker)return"Marker";if(_ instanceof L.Circle)return"Circle";if(_ instanceof L.CircleMarker)return"CircleMarker";if(_ instanceof L.Rectangle)return"Rectangle";if(_ instanceof L.Polygon)return"Polygon";if(_ instanceof L.Polyline)return"Line"}return(_,C)=>{let F,I;if(e==="instanceofShape"){if(F=d(_.layer).toLowerCase(),I=d(C.layer).toLowerCase(),!F||!I)return 0}else{if(!_.hasOwnProperty(e)||!C.hasOwnProperty(e))return 0;F=_[e].toLowerCase(),I=C[e].toLowerCase()}let ie=F in c?c[F]:Number.MAX_SAFE_INTEGER,J=I in c?c[I]:Number.MAX_SAFE_INTEGER,_e=0;return ie<J?_e=-1:ie>J&&(_e=1),i==="desc"?_e*-1:_e}}function $r(e,r=e.getLatLngs()){return e instanceof L.Polygon?L.polygon(r).getLatLngs():L.polyline(r).getLatLngs()}function Xi(e,r){if(r.options.crs?.projection?.MAX_LATITUDE){let i=r.options.crs?.projection?.MAX_LATITUDE;e.lat=Math.max(Math.min(i,e.lat),-i)}return e}function Mr(e){return e.options.renderer||e._map&&(e._map._getPaneRenderer(e.options.pane)||e._map.options.renderer||e._map._renderer)||e._renderer}var Yi=L.Class.extend({includes:[g,b,K,pe,Ve],initialize(e){this.map=e,this.Draw=new L.PM.Draw(e),this.Toolbar=new L.PM.Toolbar(e),this.Keyboard=lt(),this.globalOptions={snappable:!0,layerGroup:void 0,snappingOrder:["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],panes:{vertexPane:"markerPane",layerPane:"overlayPane",markerPane:"markerPane"},draggable:!0},this.Keyboard._initKeyListener(e)},setLang(e="en",r,i="en"){let a=L.PM.activeLang;r&&(Qr[e]=(0,Ka.default)(Qr[i],r)),L.PM.activeLang=e,this.map.pm.Toolbar.reinit(),this._fireLangChange(a,e,i,Qr[e])},addControls(e){this.Toolbar.addControls(e)},removeControls(){this.Toolbar.removeControls()},toggleControls(){this.Toolbar.toggleControls()},controlsVisible(){return this.Toolbar.isVisible},enableDraw(e="Polygon",r){e==="Poly"&&(e="Polygon"),this.Draw.enable(e,r)},disableDraw(e="Polygon"){e==="Poly"&&(e="Polygon"),this.Draw.disable(e)},setPathOptions(e,r={}){let i=r.ignoreShapes||[],a=r.merge||!1;this.map.pm.Draw.shapes.forEach(o=>{i.indexOf(o)===-1&&this.map.pm.Draw[o].setPathOptions(e,a)})},getGlobalOptions(){return this.globalOptions},setGlobalOptions(e){let r=(0,Ka.default)(this.globalOptions,e);r.editable&&(r.resizeableCircleMarker=r.editable,delete r.editable);let i=!1;this.map.pm.Draw.CircleMarker.enabled()&&!!this.map.pm.Draw.CircleMarker.options.resizeableCircleMarker!=!!r.resizeableCircleMarker&&(this.map.pm.Draw.CircleMarker.disable(),i=!0);let a=!1;this.map.pm.Draw.Circle.enabled()&&!!this.map.pm.Draw.Circle.options.resizableCircle!=!!r.resizableCircle&&(this.map.pm.Draw.Circle.disable(),a=!0),this.map.pm.Draw.shapes.forEach(o=>{this.map.pm.Draw[o].setOptions(r)}),i&&this.map.pm.Draw.CircleMarker.enable(),a&&this.map.pm.Draw.Circle.enable(),L.PM.Utils.findLayers(this.map).forEach(o=>{o.pm.setOptions(r)}),this.map.fire("pm:globaloptionschanged"),this.globalOptions=r,this.applyGlobalOptions()},applyGlobalOptions(){L.PM.Utils.findLayers(this.map).forEach(e=>{e.pm.enabled()&&e.pm.applyOptions()})},globalDrawModeEnabled(){return!!this.Draw.getActiveShape()},globalCutModeEnabled(){return!!this.Draw.Cut.enabled()},enableGlobalCutMode(e){return this.Draw.Cut.enable(e)},toggleGlobalCutMode(e){return this.Draw.Cut.toggle(e)},disableGlobalCutMode(){return this.Draw.Cut.disable()},getGeomanLayers(e=!1){let r=L.PM.Utils.findLayers(this.map);if(!e)return r;let i=L.featureGroup();return i._pmTempLayer=!0,r.forEach(a=>{i.addLayer(a)}),i},getGeomanDrawLayers(e=!1){let r=L.PM.Utils.findLayers(this.map).filter(a=>a._drawnByGeoman===!0);if(!e)return r;let i=L.featureGroup();return i._pmTempLayer=!0,r.forEach(a=>{i.addLayer(a)}),i},_getContainingLayer(){return this.globalOptions.layerGroup&&this.globalOptions.layerGroup instanceof L.LayerGroup?this.globalOptions.layerGroup:this.map},_isCRSSimple(){return this.map.options.crs===L.CRS.Simple},_touchEventCounter:0,_addTouchEvents(e){this._touchEventCounter===0&&(L.DomEvent.on(e,"touchmove",this._canvasTouchMove,this),L.DomEvent.on(e,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter+=1},_removeTouchEvents(e){this._touchEventCounter===1&&(L.DomEvent.off(e,"touchmove",this._canvasTouchMove,this),L.DomEvent.off(e,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter=this._touchEventCounter<=1?0:this._touchEventCounter-1},_canvasTouchMove(e){Mr(this.map)._onMouseMove(this._createMouseEvent("mousemove",e))},_canvasTouchClick(e){let r="";e.type==="touchstart"||e.type==="pointerdown"?r="mousedown":(e.type==="touchend"||e.type==="pointerup"||e.type==="touchcancel"||e.type==="pointercancel")&&(r="mouseup"),r&&Mr(this.map)._onClick(this._createMouseEvent(r,e))},_createMouseEvent(e,r){let i,a=r.touches[0]||r.changedTouches[0];try{i=new MouseEvent(e,{bubbles:r.bubbles,cancelable:r.cancelable,view:r.view,detail:a.detail,screenX:a.screenX,screenY:a.screenY,clientX:a.clientX,clientY:a.clientY,ctrlKey:r.ctrlKey,altKey:r.altKey,shiftKey:r.shiftKey,metaKey:r.metaKey,button:r.button,relatedTarget:r.relatedTarget})}catch{i=document.createEvent("MouseEvents"),i.initMouseEvent(e,r.bubbles,r.cancelable,r.view,a.detail,a.screenX,a.screenY,a.clientX,a.clientY,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,r.button,r.relatedTarget)}return i}}),Kn=Yi,Ti=L.Control.extend({includes:[Ve],options:{position:"topleft",disableByOtherButtons:!0},initialize(e){this._button=L.Util.extend({},this.options,e)},onAdd(e){return this._map=e,this._map.pm.Toolbar.options.oneBlock?this._container=this._map.pm.Toolbar._createContainer(this.options.position):this._button.tool==="edit"?this._container=this._map.pm.Toolbar.editContainer:this._button.tool==="options"?this._container=this._map.pm.Toolbar.optionsContainer:this._button.tool==="custom"?this._container=this._map.pm.Toolbar.customContainer:this._container=this._map.pm.Toolbar.drawContainer,this._renderButton(),this._container},_renderButton(){let e=this.buttonsDomNode;this.buttonsDomNode=this._makeButton(this._button),e?e.replaceWith(this.buttonsDomNode):this._container.appendChild(this.buttonsDomNode)},onRemove(){return this.buttonsDomNode.remove(),this._container},getText(){return this._button.text},getIconUrl(){return this._button.iconUrl},destroy(){this._button={},this._update()},toggle(e){return typeof e=="boolean"?this._button.toggleStatus=e:this._button.toggleStatus=!this._button.toggleStatus,this._applyStyleClasses(),this._button.toggleStatus},toggled(){return this._button.toggleStatus},onCreate(){this.toggle(!1)},disable(){this.toggle(!1),this._button.disabled=!0,this._updateDisabled()},enable(){this._button.disabled=!1,this._updateDisabled()},_triggerClick(e){e&&e.preventDefault(),!this._button.disabled&&(this._button.onClick(e,{button:this,event:e}),this._clicked(e),this._button.afterClick(e,{button:this,event:e}))},_makeButton(e){let r=this.options.position.indexOf("right")>-1?"pos-right":"",i=L.DomUtil.create("div",`button-container  ${r}`,this._container);e.title&&i.setAttribute("title",e.title);let a=L.DomUtil.create("a","leaflet-buttons-control-button",i);a.setAttribute("role","button"),a.setAttribute("tabindex","0"),a.href="#";let o=L.DomUtil.create("div",`leaflet-pm-actions-container ${r}`,i),u=e.actions,c={cancel:{text:ze("actions.cancel"),title:ze("actions.cancel"),onClick(){this._triggerClick()}},finishMode:{text:ze("actions.finish"),title:ze("actions.finish"),onClick(){this._triggerClick()}},removeLastVertex:{text:ze("actions.removeLastVertex"),title:ze("actions.removeLastVertex"),onClick(){this._map.pm.Draw[e.jsClass]._removeLastVertex()}},finish:{text:ze("actions.finish"),title:ze("actions.finish"),onClick(_){this._map.pm.Draw[e.jsClass]._finishShape(_)}}};u.forEach(_=>{let C=typeof _=="string"?_:_.name,F;if(c[C])F=c[C];else if(_.text)F=_;else return;let I=L.DomUtil.create("a",`leaflet-pm-action ${r} action-${C}`,o);if(I.setAttribute("role","button"),I.setAttribute("tabindex","0"),I.href="#",F.title&&(I.title=F.title),I.innerHTML=F.text,L.DomEvent.disableClickPropagation(I),L.DomEvent.on(I,"click",L.DomEvent.stop),!e.disabled&&F.onClick){let ie=J=>{J.preventDefault();let _e="",{buttons:De}=this._map.pm.Toolbar;for(let Je in De)if(De[Je]._button===e){_e=Je;break}this._fireActionClick(F,_e,e)};L.DomEvent.addListener(I,"click",ie,this),L.DomEvent.addListener(I,"click",F.onClick,this)}}),e.toggleStatus&&L.DomUtil.addClass(i,"active");let d=L.DomUtil.create("div","control-icon",a);return e.iconUrl&&d.setAttribute("src",e.iconUrl),e.className&&L.DomUtil.addClass(d,e.className),L.DomEvent.disableClickPropagation(a),L.DomEvent.on(a,"click",L.DomEvent.stop),e.disabled||(L.DomEvent.addListener(a,"click",this._onBtnClick,this),L.DomEvent.addListener(a,"click",this._triggerClick,this)),e.disabled&&(L.DomUtil.addClass(a,"pm-disabled"),a.setAttribute("aria-disabled","true")),i},_applyStyleClasses(){this._container&&(!this._button.toggleStatus||this._button.cssToggle===!1?(L.DomUtil.removeClass(this.buttonsDomNode,"active"),L.DomUtil.removeClass(this._container,"activeChild")):(L.DomUtil.addClass(this.buttonsDomNode,"active"),L.DomUtil.addClass(this._container,"activeChild")))},_onBtnClick(){if(this._button.disabled)return;this._button.disableOtherButtons&&this._map.pm.Toolbar.triggerClickOnToggledButtons(this);let e="",{buttons:r}=this._map.pm.Toolbar;for(let i in r)if(r[i]._button===this._button){e=i;break}this._fireButtonClick(e,this._button)},_clicked(){this._button.doToggle&&this.toggle()},_updateDisabled(){if(!this._container)return;let e="pm-disabled",r=this.buttonsDomNode.children[0];this._button.disabled?(L.DomUtil.addClass(r,e),r.setAttribute("aria-disabled","true")):(L.DomUtil.removeClass(r,e),r.setAttribute("aria-disabled","false"))}}),tn=Ti;L.Control.PMButton=tn;var st=L.Class.extend({options:{drawMarker:!0,drawRectangle:!0,drawPolyline:!0,drawPolygon:!0,drawCircle:!0,drawCircleMarker:!0,drawText:!0,editMode:!0,dragMode:!0,cutPolygon:!0,removalMode:!0,rotateMode:!0,snappingOption:!0,drawControls:!0,editControls:!0,optionsControls:!0,customControls:!0,oneBlock:!1,position:"topleft",positions:{draw:"",edit:"",options:"",custom:""}},customButtons:[],initialize(e){this.customButtons=[],this.options.positions={draw:"",edit:"",options:"",custom:""},this.init(e)},reinit(){let e=this.isVisible;this.removeControls(),this._defineButtons(),e&&this.addControls()},init(e){this.map=e,this.buttons={},this.isVisible=!1,this.drawContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-draw leaflet-bar leaflet-control"),this.editContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-edit leaflet-bar leaflet-control"),this.optionsContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-options leaflet-bar leaflet-control"),this.customContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-custom leaflet-bar leaflet-control"),this._defineButtons()},_createContainer(e){let r=`${e}Container`;return this[r]||(this[r]=L.DomUtil.create("div",`leaflet-pm-toolbar leaflet-pm-${e} leaflet-bar leaflet-control`)),this[r]},getButtons(){return this.buttons},addControls(e=this.options){typeof e.editPolygon<"u"&&(e.editMode=e.editPolygon),typeof e.deleteLayer<"u"&&(e.removalMode=e.deleteLayer),L.Util.setOptions(this,e),this.applyIconStyle(),this.isVisible=!0,this._showHideButtons()},applyIconStyle(){let e=this.getButtons(),r={geomanIcons:{drawMarker:"control-icon leaflet-pm-icon-marker",drawPolyline:"control-icon leaflet-pm-icon-polyline",drawRectangle:"control-icon leaflet-pm-icon-rectangle",drawPolygon:"control-icon leaflet-pm-icon-polygon",drawCircle:"control-icon leaflet-pm-icon-circle",drawCircleMarker:"control-icon leaflet-pm-icon-circle-marker",editMode:"control-icon leaflet-pm-icon-edit",dragMode:"control-icon leaflet-pm-icon-drag",cutPolygon:"control-icon leaflet-pm-icon-cut",removalMode:"control-icon leaflet-pm-icon-delete",drawText:"control-icon leaflet-pm-icon-text"}};for(let i in e){let a=e[i];L.Util.setOptions(a,{className:r.geomanIcons[i]})}},removeControls(){let e=this.getButtons();for(let r in e)e[r].remove();this.isVisible=!1},toggleControls(e=this.options){this.isVisible?this.removeControls():this.addControls(e)},_addButton(e,r){return this.buttons[e]=r,this.options[e]=!!this.options[e]||!1,this.buttons[e]},triggerClickOnToggledButtons(e){for(let r in this.buttons){let i=this.buttons[r];i._button.disableByOtherButtons&&i!==e&&i.toggled()&&i._triggerClick()}},toggleButton(e,r,i=!0){return e==="editPolygon"&&(e="editMode"),e==="deleteLayer"&&(e="removalMode"),i&&this.triggerClickOnToggledButtons(this.buttons[e]),this.buttons[e]?this.buttons[e].toggle(r):!1},_defineButtons(){let e={className:"control-icon leaflet-pm-icon-marker",title:ze("buttonTitles.drawMarkerButton"),jsClass:"Marker",onClick:()=>{},afterClick:(ie,J)=>{this.map.pm.Draw[J.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},r={title:ze("buttonTitles.drawPolyButton"),className:"control-icon leaflet-pm-icon-polygon",jsClass:"Polygon",onClick:()=>{},afterClick:(ie,J)=>{this.map.pm.Draw[J.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},i={className:"control-icon leaflet-pm-icon-polyline",title:ze("buttonTitles.drawLineButton"),jsClass:"Line",onClick:()=>{},afterClick:(ie,J)=>{this.map.pm.Draw[J.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},a={title:ze("buttonTitles.drawCircleButton"),className:"control-icon leaflet-pm-icon-circle",jsClass:"Circle",onClick:()=>{},afterClick:(ie,J)=>{this.map.pm.Draw[J.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},o={title:ze("buttonTitles.drawCircleMarkerButton"),className:"control-icon leaflet-pm-icon-circle-marker",jsClass:"CircleMarker",onClick:()=>{},afterClick:(ie,J)=>{this.map.pm.Draw[J.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},u={title:ze("buttonTitles.drawRectButton"),className:"control-icon leaflet-pm-icon-rectangle",jsClass:"Rectangle",onClick:()=>{},afterClick:(ie,J)=>{this.map.pm.Draw[J.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},c={title:ze("buttonTitles.editButton"),className:"control-icon leaflet-pm-icon-edit",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalEditMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},d={title:ze("buttonTitles.dragButton"),className:"control-icon leaflet-pm-icon-drag",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalDragMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},_={title:ze("buttonTitles.cutButton"),className:"control-icon leaflet-pm-icon-cut",jsClass:"Cut",onClick:()=>{},afterClick:(ie,J)=>{this.map.pm.Draw[J.button._button.jsClass].toggle({snappable:!0,cursorMarker:!0,allowSelfIntersection:!1})},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finish","removeLastVertex","cancel"]},C={title:ze("buttonTitles.deleteButton"),className:"control-icon leaflet-pm-icon-delete",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalRemovalMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},F={title:ze("buttonTitles.rotateButton"),className:"control-icon leaflet-pm-icon-rotate",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalRotateMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},I={className:"control-icon leaflet-pm-icon-text",title:ze("buttonTitles.drawTextButton"),jsClass:"Text",onClick:()=>{},afterClick:(ie,J)=>{this.map.pm.Draw[J.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]};this._addButton("drawMarker",new L.Control.PMButton(e)),this._addButton("drawPolyline",new L.Control.PMButton(i)),this._addButton("drawRectangle",new L.Control.PMButton(u)),this._addButton("drawPolygon",new L.Control.PMButton(r)),this._addButton("drawCircle",new L.Control.PMButton(a)),this._addButton("drawCircleMarker",new L.Control.PMButton(o)),this._addButton("drawText",new L.Control.PMButton(I)),this._addButton("editMode",new L.Control.PMButton(c)),this._addButton("dragMode",new L.Control.PMButton(d)),this._addButton("cutPolygon",new L.Control.PMButton(_)),this._addButton("removalMode",new L.Control.PMButton(C)),this._addButton("rotateMode",new L.Control.PMButton(F))},_showHideButtons(){if(!this.isVisible)return;this.removeControls(),this.isVisible=!0;let e=this.getButtons(),r=[];this.options.drawControls===!1&&(r=r.concat(Object.keys(e).filter(i=>!e[i]._button.tool))),this.options.editControls===!1&&(r=r.concat(Object.keys(e).filter(i=>e[i]._button.tool==="edit"))),this.options.optionsControls===!1&&(r=r.concat(Object.keys(e).filter(i=>e[i]._button.tool==="options"))),this.options.customControls===!1&&(r=r.concat(Object.keys(e).filter(i=>e[i]._button.tool==="custom")));for(let i in e)if(this.options[i]&&r.indexOf(i)===-1){let a=e[i]._button.tool;a||(a="draw"),e[i].setPosition(this._getBtnPosition(a)),e[i].addTo(this.map)}},_getBtnPosition(e){return this.options.positions&&this.options.positions[e]?this.options.positions[e]:this.options.position},setBlockPosition(e,r){this.options.positions[e]=r,this._showHideButtons(),this.changeControlOrder()},getBlockPositions(){return this.options.positions},copyDrawControl(e,r){if(r)typeof r!="object"&&(r={name:r});else throw new TypeError("Button has no name");let i=this._btnNameMapping(e);if(!r.name)throw new TypeError("Button has no name");if(this.buttons[r.name])throw new TypeError("Button with this name already exists");let a=this.map.pm.Draw.createNewDrawInstance(r.name,i);r={...this.buttons[i]._button,...r};let o=this.createCustomControl(r);return{drawInstance:a,control:o}},createCustomControl(e){if(!e.name)throw new TypeError("Button has no name");if(this.buttons[e.name])throw new TypeError("Button with this name already exists");e.onClick||(e.onClick=()=>{}),e.afterClick||(e.afterClick=()=>{}),e.toggle!==!1&&(e.toggle=!0),e.block&&(e.block=e.block.toLowerCase()),(!e.block||e.block==="draw")&&(e.block=""),e.className?e.className.indexOf("control-icon")===-1&&(e.className=`control-icon ${e.className}`):e.className="control-icon";let r={tool:e.block,className:e.className,title:e.title||"",jsClass:e.name,onClick:e.onClick,afterClick:e.afterClick,doToggle:e.toggle,toggleStatus:!1,disableOtherButtons:e.disableOtherButtons??!0,disableByOtherButtons:e.disableByOtherButtons??!0,cssToggle:e.toggle,position:this.options.position,actions:e.actions||[],disabled:!!e.disabled};this.options[e.name]!==!1&&(this.options[e.name]=!0);let i=this._addButton(e.name,new L.Control.PMButton(r));return this.changeControlOrder(),i},controlExists(e){return!!this.getButton(e)},getButton(e){return this.getButtons()[e]},getButtonsInBlock(e){let r={};if(e)for(let i in this.getButtons()){let a=this.getButtons()[i];(a._button.tool===e||e==="draw"&&!a._button.tool)&&(r[i]=a)}return r},changeControlOrder(e=[]){let r=this._shapeMapping(),i=[];e.forEach(u=>{r[u]?i.push(r[u]):i.push(u)});let a=this.getButtons(),o={};i.forEach(u=>{a[u]&&(o[u]=a[u])}),Object.keys(a).filter(u=>!a[u]._button.tool).forEach(u=>{i.indexOf(u)===-1&&(o[u]=a[u])}),Object.keys(a).filter(u=>a[u]._button.tool==="edit").forEach(u=>{i.indexOf(u)===-1&&(o[u]=a[u])}),Object.keys(a).filter(u=>a[u]._button.tool==="options").forEach(u=>{i.indexOf(u)===-1&&(o[u]=a[u])}),Object.keys(a).filter(u=>a[u]._button.tool==="custom").forEach(u=>{i.indexOf(u)===-1&&(o[u]=a[u])}),Object.keys(a).forEach(u=>{i.indexOf(u)===-1&&(o[u]=a[u])}),this.map.pm.Toolbar.buttons=o,this._showHideButtons()},getControlOrder(){let e=this.getButtons(),r=[];for(let i in e)r.push(i);return r},changeActionsOfControl(e,r){let i=this._btnNameMapping(e);if(!i)throw new TypeError("No name passed");if(!r)throw new TypeError("No actions passed");if(!this.buttons[i])throw new TypeError("Button with this name not exists");this.buttons[i]._button.actions=r,this.changeControlOrder()},setButtonDisabled(e,r){let i=this._btnNameMapping(e);r?this.buttons[i].disable():this.buttons[i].enable()},_shapeMapping(){return{Marker:"drawMarker",Circle:"drawCircle",Polygon:"drawPolygon",Rectangle:"drawRectangle",Polyline:"drawPolyline",Line:"drawPolyline",CircleMarker:"drawCircleMarker",Edit:"editMode",Drag:"dragMode",Cut:"cutPolygon",Removal:"removalMode",Rotate:"rotateMode",Text:"drawText"}},_btnNameMapping(e){let r=this._shapeMapping();return r[e]?r[e]:e}}),_r=st,mi=q(un()),$n={_initSnappableMarkers(){this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,this._assignEvents(this._markers),this._layer.off("pm:dragstart",this._unsnap,this),this._layer.on("pm:dragstart",this._unsnap,this)},_disableSnapping(){this._layer.off("pm:dragstart",this._unsnap,this)},_assignEvents(e){e.forEach(r=>{if(Array.isArray(r)){this._assignEvents(r);return}r.off("drag",this._handleSnapping,this),r.on("drag",this._handleSnapping,this),r.off("dragend",this._cleanupSnapping,this),r.on("dragend",this._cleanupSnapping,this)})},_cleanupSnapping(e){if(e){let r=e.target;r._snapped=!1}delete this._snapList,this.throttledList&&(this._map.off("layeradd",this.throttledList,this),this.throttledList=void 0),this._map.off("layerremove",this._handleSnapLayerRemoval,this),this.debugIndicatorLines&&this.debugIndicatorLines.forEach(r=>{r.remove()})},_handleThrottleSnapping(){this.throttledList&&this._createSnapList()},_handleSnapping(e){let r=e.target;if(r._snapped=!1,this.throttledList||(this.throttledList=L.Util.throttle(this._handleThrottleSnapping,100,this)),e?.originalEvent?.altKey||this._map?.pm?.Keyboard.isAltKeyPressed()||(this._snapList===void 0&&(this._createSnapList(),this._map.off("layeradd",this.throttledList,this),this._map.on("layeradd",this.throttledList,this)),this._snapList.length<=0))return!1;let i=this._calcClosestLayer(r.getLatLng(),this._snapList);if(Object.keys(i).length===0)return!1;let a=i.layer instanceof L.Marker||i.layer instanceof L.CircleMarker||!this.options.snapSegment,o;a?o=i.latlng:o=this._checkPrioritiySnapping(i);let u=this.options.snapDistance,c={marker:r,shape:this._shape,snapLatLng:o,segment:i.segment,layer:this._layer,workingLayer:this._layer,layerInteractedWith:i.layer,distance:i.distance};if(this._fireSnapDrag(c.marker,c),this._fireSnapDrag(this._layer,c),i.distance<u){r._orgLatLng=r.getLatLng(),r.setLatLng(o),r._snapped=!0,r._snapInfo=c;let d=()=>{this._snapLatLng=o,this._fireSnap(r,c),this._fireSnap(this._layer,c)},_=this._snapLatLng||{},C=o||{};(_.lat!==C.lat||_.lng!==C.lng)&&d()}else this._snapLatLng&&(this._unsnap(c),r._snapped=!1,r._snapInfo=void 0,this._fireUnsnap(c.marker,c),this._fireUnsnap(this._layer,c));return!0},_createSnapList(){let e=[],r=[],i=this._map;i.off("layerremove",this._handleSnapLayerRemoval,this),i.on("layerremove",this._handleSnapLayerRemoval,this),i.eachLayer(a=>{if((a instanceof L.Polyline||a instanceof L.Marker||a instanceof L.CircleMarker||a instanceof L.ImageOverlay)&&a.options.snapIgnore!==!0){if(a.options.snapIgnore===void 0&&(!L.PM.optIn&&a.options.pmIgnore===!0||L.PM.optIn&&a.options.pmIgnore!==!1))return;(a instanceof L.Circle||a instanceof L.CircleMarker)&&a.pm&&a.pm._hiddenPolyCircle?e.push(a.pm._hiddenPolyCircle):a instanceof L.ImageOverlay&&(a=L.rectangle(a.getBounds())),e.push(a);let o=L.polyline([],{color:"red",pmIgnore:!0});o._pmTempLayer=!0,r.push(o),(a instanceof L.Circle||a instanceof L.CircleMarker)&&r.push(o)}}),e=e.filter(a=>this._layer!==a),e=e.filter(a=>a._latlng||a._latlngs&&Bt(a._latlngs)),e=e.filter(a=>!a._pmTempLayer),this._otherSnapLayers?(this._otherSnapLayers.forEach(()=>{let a=L.polyline([],{color:"red",pmIgnore:!0});a._pmTempLayer=!0,r.push(a)}),this._snapList=e.concat(this._otherSnapLayers)):this._snapList=e,this.debugIndicatorLines=r},_handleSnapLayerRemoval({layer:e}){if(!e._leaflet_id)return;let r=this._snapList.findIndex(i=>i._leaflet_id===e._leaflet_id);r>-1&&this._snapList.splice(r,1)},_calcClosestLayer(e,r){return this._calcClosestLayers(e,r,1)[0]},_calcClosestLayers(e,r,i=1){let a=[],o={};r.forEach((c,d)=>{if(c._parentCopy&&c._parentCopy===this._layer)return;let _=this._calcLayerDistances(e,c);if(_.distance=Math.floor(_.distance),this.debugIndicatorLines){if(!this.debugIndicatorLines[d]){let C=L.polyline([],{color:"red",pmIgnore:!0});C._pmTempLayer=!0,this.debugIndicatorLines[d]=C}this.debugIndicatorLines[d].setLatLngs([e,_.latlng])}i===1&&(o.distance===void 0||_.distance-5<=o.distance)?(_.distance+5<o.distance&&(a=[]),o=_,o.layer=c,a.push(o)):i!==1&&(o={},o=_,o.layer=c,a.push(o))}),i!==1&&(a=a.sort((c,d)=>c.distance-d.distance)),i===-1&&(i=a.length);let u=this._getClosestLayerByPriority(a,i);return L.Util.isArray(u)?u:[u]},_calcLayerDistances(e,r){let i=this._map,a=r instanceof L.Marker||r instanceof L.CircleMarker,o=r instanceof L.Polygon,u=e;if(a){let c=r.getLatLng();return{latlng:{...c},distance:this._getDistance(i,c,u)}}return this._calcLatLngDistances(u,r.getLatLngs(),i,o)},_calcLatLngDistances(e,r,i,a=!1){let o,u,c,d=_=>{_.forEach((C,F)=>{if(Array.isArray(C)){d(C);return}if(this.options.snapSegment){let I=C,ie;a?ie=F+1===_.length?0:F+1:ie=F+1===_.length?void 0:F+1;let J=_[ie];if(J){let _e=this._getDistanceToSegment(i,e,I,J);(u===void 0||_e<u)&&(u=_e,c=[I,J])}}else{let I=this._getDistance(i,e,C);(u===void 0||I<u)&&(u=I,o=C)}})};return d(r),this.options.snapSegment?{latlng:{...this._getClosestPointOnSegment(i,e,c[0],c[1])},segment:c,distance:u}:{latlng:o,distance:u}},_getClosestLayerByPriority(e,r=1){e=e.sort((c,d)=>c._leaflet_id-d._leaflet_id);let i=["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],a=this._map.pm.globalOptions.snappingOrder||[],o=0,u={};return a.concat(i).forEach(c=>{u[c]||(o+=1,u[c]=o)}),e.sort(Hn("instanceofShape",u)),r===1?e[0]||{}:e.slice(0,r)},_checkPrioritiySnapping(e){let r=this._map,i=e.segment[0],a=e.segment[1],o=e.latlng,u=this._getDistance(r,i,o),c=this._getDistance(r,a,o),d=u<c?i:a,_=u<c?u:c;if(this.options.snapMiddle){let I=L.PM.Utils.calcMiddleLatLng(r,i,a),ie=this._getDistance(r,I,o);ie<u&&ie<c&&(d=I,_=ie)}let C=this.options.snapDistance,F;return _<C?F=d:F=o,{...F}},_unsnap(){delete this._snapLatLng},_getClosestPointOnSegment(e,r,i,a){let o=e.getMaxZoom();o===1/0&&(o=e.getZoom());let u=e.project(r,o),c=e.project(i,o),d=e.project(a,o),_=L.LineUtil.closestPointOnSegment(u,c,d);return e.unproject(_,o)},_getDistanceToSegment(e,r,i,a){let o=e.latLngToLayerPoint(r),u=e.latLngToLayerPoint(i),c=e.latLngToLayerPoint(a);return L.LineUtil.pointToSegmentDistance(o,u,c)},_getDistance(e,r,i){return e.latLngToLayerPoint(r).distanceTo(e.latLngToLayerPoint(i))}},qi=$n,Ss=L.Class.extend({includes:[qi,Ve],options:{snappable:!0,snapDistance:20,snapMiddle:!1,allowSelfIntersection:!0,tooltips:!0,templineStyle:{},hintlineStyle:{color:"#3388ff",dashArray:"5,5"},pathOptions:null,cursorMarker:!0,finishOn:null,markerStyle:{draggable:!0,icon:L.icon()},hideMiddleMarkers:!1,minRadiusCircle:null,maxRadiusCircle:null,minRadiusCircleMarker:null,maxRadiusCircleMarker:null,resizeableCircleMarker:!1,resizableCircle:!0,markerEditable:!0,continueDrawing:!1,snapSegment:!0,requireSnapToFinish:!1,rectangleAngle:0},setOptions(e){L.Util.setOptions(this,e),this.setStyle(this.options)},setStyle(){},getOptions(){return this.options},initialize(e){let r=new L.Icon.Default;r.options.tooltipAnchor=[0,0],this.options.markerStyle.icon=r,this._map=e,this.shapes=["Marker","CircleMarker","Line","Polygon","Rectangle","Circle","Cut","Text"],this.shapes.forEach(i=>{this[i]=new L.PM.Draw[i](this._map)}),this.Marker.setOptions({continueDrawing:!0}),this.CircleMarker.setOptions({continueDrawing:!0})},setPathOptions(e,r=!1){r?this.options.pathOptions=(0,mi.default)(this.options.pathOptions,e):this.options.pathOptions=e},getShapes(){return this.shapes},getShape(){return this._shape},enable(e,r){if(!e)throw new Error(`Error: Please pass a shape as a parameter. Possible shapes are: ${this.getShapes().join(",")}`);this.disable(),this[e].enable(r)},disable(){this.shapes.forEach(e=>{this[e].disable()})},addControls(){this.shapes.forEach(e=>{this[e].addButton()})},getActiveShape(){let e;return this.shapes.forEach(r=>{this[r]._enabled&&(e=r)}),e},_setGlobalDrawMode(){this._shape==="Cut"?this._fireGlobalCutModeToggled():this._fireGlobalDrawModeToggled();let e=[];this._map.eachLayer(r=>{(r instanceof L.Polyline||r instanceof L.Marker||r instanceof L.Circle||r instanceof L.CircleMarker||r instanceof L.ImageOverlay)&&(r._pmTempLayer||e.push(r))}),this._enabled?e.forEach(r=>{L.PM.Utils.disablePopup(r)}):e.forEach(r=>{L.PM.Utils.enablePopup(r)})},createNewDrawInstance(e,r){let i=this._getShapeFromBtnName(r);if(this[e])throw new TypeError("Draw Type already exists");if(!L.PM.Draw[i])throw new TypeError(`There is no class L.PM.Draw.${i}`);return this[e]=new L.PM.Draw[i](this._map),this[e].toolbarButtonName=e,this[e]._shape=e,this.shapes.push(e),this[r]&&this[e].setOptions(this[r].options),this[e].setOptions(this[e].options),this[e]},_getShapeFromBtnName(e){let r={drawMarker:"Marker",drawCircle:"Circle",drawPolygon:"Polygon",drawPolyline:"Line",drawRectangle:"Rectangle",drawCircleMarker:"CircleMarker",editMode:"Edit",dragMode:"Drag",cutPolygon:"Cut",removalMode:"Removal",rotateMode:"Rotate",drawText:"Text"};return r[e]?r[e]:this[e]?this[e]._shape:e},_finishLayer(e){e.pm&&(e.pm.setOptions(this.options),e.pm._shape=this._shape,e.pm._map=this._map),this._addDrawnLayerProp(e)},_addDrawnLayerProp(e){e._drawnByGeoman=!0},_setPane(e,r){r==="layerPane"?e.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":r==="vertexPane"?e.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":r==="markerPane"&&(e.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},_isFirstLayer(){return(this._map||this._layer._map).pm.getGeomanLayers().length===0}}),Dr=Ss;Dr.Marker=Dr.extend({initialize(e){this._map=e,this._shape="Marker",this.toolbarButtonName="drawMarker"},enable(e){L.Util.setOptions(this,e),this._enabled=!0,this._map.getContainer().classList.add("geoman-draw-cursor"),this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),this.options.markerStyle),this._setPane(this._hintMarker,"markerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.tooltips&&this._hintMarker.bindTooltip(ze("tooltips.placeMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this.options.markerEditable&&this._map.eachLayer(r=>{this.isRelevantMarker(r)&&r.pm.enable()}),this._fireDrawStart(),this._setGlobalDrawMode()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("click",this._createMarker,this),this._hintMarker.remove(),this._map.off("mousemove",this._syncHintMarker,this),this._map.eachLayer(e=>{this.isRelevantMarker(e)&&e.pm.disable()}),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(e){this.enabled()?this.disable():this.enable(e)},isRelevantMarker(e){return e instanceof L.Marker&&e.pm&&!e._pmTempLayer&&!e.pm._initTextMarker},_syncHintMarker(e){if(this._hintMarker.setLatLng(e.latlng),this.options.snappable){let r=e;r.target=this._hintMarker,this._handleSnapping(r)}this._fireChange(this._hintMarker.getLatLng(),"Draw")},_createMarker(e){if(!e.latlng||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;this._hintMarker._snapped||this._hintMarker.setLatLng(e.latlng);let r=this._hintMarker.getLatLng(),i=new L.Marker(r,this.options.markerStyle);this._setPane(i,"markerPane"),this._finishLayer(i),i.pm||(i.options.draggable=!1),i.addTo(this._map.pm._getContainingLayer()),i.pm&&this.options.markerEditable?i.pm.enable():i.dragging&&i.dragging.disable(),this._fireCreate(i),this._cleanupSnapping(),this.options.continueDrawing||this.disable()},setStyle(){this.options.markerStyle?.icon&&this._hintMarker?.setIcon(this.options.markerStyle.icon)}});var Ir=63710088e-1,Jo={centimeters:Ir*100,centimetres:Ir*100,degrees:Ir/111325,feet:Ir*3.28084,inches:Ir*39.37,kilometers:Ir/1e3,kilometres:Ir/1e3,meters:Ir,metres:Ir,miles:Ir/1609.344,millimeters:Ir*1e3,millimetres:Ir*1e3,nauticalmiles:Ir/1852,radians:1,yards:Ir*1.0936},Vh={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:1/1e3,kilometres:1/1e3,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/Ir,yards:1.0936133};function Ya(e,r,i){i===void 0&&(i={});var a={type:"Feature"};return(i.id===0||i.id)&&(a.id=i.id),i.bbox&&(a.bbox=i.bbox),a.properties=r||{},a.geometry=e,a}function qa(e,r,i){if(i===void 0&&(i={}),!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!ou(e[0])||!ou(e[1]))throw new Error("coordinates must contain numbers");var a={type:"Point",coordinates:e};return Ya(a,r,i)}function Eo(e,r,i){if(i===void 0&&(i={}),e.length<2)throw new Error("coordinates must be an array of two or more positions");var a={type:"LineString",coordinates:e};return Ya(a,r,i)}function Ji(e,r){r===void 0&&(r={});var i={type:"FeatureCollection"};return r.id&&(i.id=r.id),r.bbox&&(i.bbox=r.bbox),i.features=e,i}function ul(e,r){r===void 0&&(r="kilometers");var i=Jo[r];if(!i)throw new Error(r+" units is invalid");return e*i}function ll(e,r){r===void 0&&(r="kilometers");var i=Jo[r];if(!i)throw new Error(r+" units is invalid");return e/i}function Ds(e){var r=e%(2*Math.PI);return r*180/Math.PI}function Qn(e){var r=e%360;return r*Math.PI/180}function ou(e){return!isNaN(e)&&e!==null&&!Array.isArray(e)}function xo(e){var r,i,a={type:"FeatureCollection",features:[]};if(e.type==="Feature"?i=e.geometry:i=e,i.type==="LineString")r=[i.coordinates];else if(i.type==="MultiLineString")r=i.coordinates;else if(i.type==="MultiPolygon")r=[].concat.apply([],i.coordinates);else if(i.type==="Polygon")r=i.coordinates;else throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");return r.forEach(function(o){r.forEach(function(u){for(var c=0;c<o.length-1;c++)for(var d=c;d<u.length-1;d++)if(!(o===u&&(Math.abs(c-d)===1||c===0&&d===o.length-2&&o[c][0]===o[o.length-1][0]&&o[c][1]===o[o.length-1][1]))){var _=hl(o[c][0],o[c][1],o[c+1][0],o[c+1][1],u[d][0],u[d][1],u[d+1][0],u[d+1][1]);_&&a.features.push(qa([_[0],_[1]]))}})}),a}function hl(e,r,i,a,o,u,c,d){var _,C,F,I,ie,J={x:null,y:null,onLine1:!1,onLine2:!1};return _=(d-u)*(i-e)-(c-o)*(a-r),_===0?J.x!==null&&J.y!==null?J:!1:(C=r-u,F=e-o,I=(c-o)*C-(d-u)*F,ie=(i-e)*C-(a-r)*F,C=I/_,F=ie/_,J.x=e+C*(i-e),J.y=r+C*(a-r),C>=0&&C<=1&&(J.onLine1=!0),F>=0&&F<=1&&(J.onLine2=!0),J.onLine1&&J.onLine2?[J.x,J.y]:!1)}Dr.Line=Dr.extend({initialize(e){this._map=e,this._shape="Line",this.toolbarButtonName="drawPolyline",this._doesSelfIntersect=!1},enable(e){L.Util.setOptions(this,e),this._enabled=!0,this._markers=[],this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.polyline([],{...this.options.templineStyle,pmIgnore:!1}),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._layerGroup.addLayer(this._layer),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(ze("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._map.getContainer().classList.add("geoman-draw-cursor"),this._map.on("click",this._createVertex,this),this.options.finishOn&&this.options.finishOn!=="snap"&&this._map.on(this.options.finishOn,this._finishShape,this),this.options.finishOn==="dblclick"&&(this.tempMapDoubleClickZoomState=this._map.doubleClickZoom._enabled,this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.disable()),this._map.on("mousemove",this._syncHintMarker,this),this._hintMarker.on("move",this._syncHintLine,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this.isRed=!1,this._fireDrawStart(),this._setGlobalDrawMode()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("click",this._createVertex,this),this._map.off("mousemove",this._syncHintMarker,this),this.options.finishOn&&this.options.finishOn!=="snap"&&this._map.off(this.options.finishOn,this._finishShape,this),this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.enable(),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(e){this.enabled()?this.disable():this.enable(e)},_syncHintLine(){let e=this._layer.getLatLngs();if(e.length>0){let r=e[e.length-1];this._hintline.setLatLngs([r,this._hintMarker.getLatLng()])}},_syncHintMarker(e){if(this._hintMarker.setLatLng(e.latlng),this.options.snappable){let i=e;i.target=this._hintMarker,this._handleSnapping(i)}this.options.allowSelfIntersection||this._handleSelfIntersection(!0,this._hintMarker.getLatLng());let r=this._layer._defaultShape().slice();r.push(this._hintMarker.getLatLng()),this._change(r)},hasSelfIntersection(){return xo(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersection(e,r){let i=L.polyline(this._layer.getLatLngs());e&&(r||(r=this._hintMarker.getLatLng()),i.addLatLng(r));let a=xo(i.toGeoJSON(15));this._doesSelfIntersect=a.features.length>0,this._doesSelfIntersect?this.isRed||(this.isRed=!0,this._hintline.setStyle({color:"#f00000ff"}),this._fireIntersect(a,this._map,"Draw")):this._hintline.isEmpty()||(this.isRed=!1,this._hintline.setStyle(this.options.hintlineStyle))},_createVertex(e){if(!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!0,e.latlng),this._doesSelfIntersect))return;this._hintMarker._snapped||this._hintMarker.setLatLng(e.latlng);let r=this._hintMarker.getLatLng(),i=this._layer.getLatLngs(),a=i[i.length-1];if(r.equals(i[0])||i.length>0&&r.equals(a)){this._finishShape();return}this._layer._latlngInfo=this._layer._latlngInfo||[],this._layer._latlngInfo.push({latlng:r,snapInfo:this._hintMarker._snapInfo}),this._layer.addLatLng(r);let o=this._createMarker(r);this._setTooltipText(),this._setHintLineAfterNewVertex(r),this._fireVertexAdded(o,void 0,r,"Draw"),this._change(this._layer.getLatLngs()),this.options.finishOn==="snap"&&this._hintMarker._snapped&&this._finishShape(e)},_setHintLineAfterNewVertex(e){this._hintline.setLatLngs([e,e])},_removeLastVertex(){let e=this._markers;if(e.length<=1){this.disable();return}let r=this._layer.getLatLngs(),i=e[e.length-1],{indexPath:a}=L.PM.Utils.findDeepMarkerIndex(e,i);e.pop(),this._layerGroup.removeLayer(i);let o=e[e.length-1],u=r.indexOf(o.getLatLng());r=r.slice(0,u+1),this._layer.setLatLngs(r),this._layer._latlngInfo.pop(),this._syncHintLine(),this._setTooltipText(),this._fireVertexRemoved(i,a,"Draw"),this._change(this._layer.getLatLngs())},_finishShape(){if(!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!1),this._doesSelfIntersect)||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;let e=this._layer.getLatLngs();if(e.length<=1)return;let r=L.polyline(e,this.options.pathOptions);this._setPane(r,"layerPane"),this._finishLayer(r),r.addTo(this._map.pm._getContainingLayer()),this._fireCreate(r),this.options.snappable&&this._cleanupSnapping(),this.disable(),this.options.continueDrawing&&this.enable()},_createMarker(e){let r=new L.Marker(e,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(r,"vertexPane"),r._pmTempLayer=!0,this._layerGroup.addLayer(r),this._markers.push(r),r.on("click",this._finishShape,this),r},_setTooltipText(){let{length:e}=this._layer.getLatLngs().flat(),r="";e<=1?r=ze("tooltips.continueLine"):r=ze("tooltips.finishLine"),this._hintMarker.setTooltipContent(r)},_change(e){this._fireChange(e,"Draw")},setStyle(){this._layer?.setStyle(this.options.templineStyle),this._hintline?.setStyle(this.options.hintlineStyle)}}),Dr.Polygon=Dr.Line.extend({initialize(e){this._map=e,this._shape="Polygon",this.toolbarButtonName="drawPolygon"},enable(e){L.PM.Draw.Line.prototype.enable.call(this,e),this._layer.pm._shape="Polygon"},_createMarker(e){let r=new L.Marker(e,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(r,"vertexPane"),r._pmTempLayer=!0,this._layerGroup.addLayer(r),this._markers.push(r),this._layer.getLatLngs().flat().length===1?(r.on("click",this._finishShape,this),this._tempSnapLayerIndex=this._otherSnapLayers.push(r)-1,this.options.snappable&&this._cleanupSnapping()):r.on("click",()=>1),r},_setTooltipText(){let{length:e}=this._layer.getLatLngs().flat(),r="";e<=2?r=ze("tooltips.continueLine"):r=ze("tooltips.finishPoly"),this._hintMarker.setTooltipContent(r)},_finishShape(){if(!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),this._doesSelfIntersect)||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;let e=this._layer.getLatLngs();if(e.length<=2)return;let r=L.polygon(e,this.options.pathOptions);this._setPane(r,"layerPane"),this._finishLayer(r),r.addTo(this._map.pm._getContainingLayer()),this._fireCreate(r),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex,this.disable(),this.options.continueDrawing&&this.enable()}}),Dr.Rectangle=Dr.extend({initialize(e){this._map=e,this._shape="Rectangle",this.toolbarButtonName="drawRectangle"},enable(e){if(L.Util.setOptions(this,e),this._enabled=!0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.rectangle([[0,0],[0,0]],this.options.pathOptions),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._startMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-start-marker"}),draggable:!1,zIndexOffset:-100,opacity:this.options.cursorMarker?1:0}),this._setPane(this._startMarker,"vertexPane"),this._startMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._startMarker),this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:150,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(ze("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this.options.cursorMarker){this._styleMarkers=[];for(let r=0;r<2;r+=1){let i=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-style-marker"}),draggable:!1,zIndexOffset:100});this._setPane(i,"vertexPane"),i._pmTempLayer=!0,this._layerGroup.addLayer(i),this._styleMarkers.push(i)}}this._map.getContainer().classList.add("geoman-draw-cursor"),this._map.on("click",this._placeStartingMarkers,this),this._map.on("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("click",this._finishShape,this),this._map.off("click",this._placeStartingMarkers,this),this._map.off("mousemove",this._syncHintMarker,this),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(e){this.enabled()?this.disable():this.enable(e)},_placeStartingMarkers(e){this._hintMarker._snapped||this._hintMarker.setLatLng(e.latlng);let r=this._hintMarker.getLatLng();L.DomUtil.addClass(this._startMarker._icon,"visible"),this._startMarker.setLatLng(r),this.options.cursorMarker&&this._styleMarkers&&this._styleMarkers.forEach(i=>{L.DomUtil.addClass(i._icon,"visible"),i.setLatLng(r)}),this._map.off("click",this._placeStartingMarkers,this),this._map.on("click",this._finishShape,this),this._hintMarker.setTooltipContent(ze("tooltips.finishRect")),this._setRectangleOrigin()},_setRectangleOrigin(){let e=this._startMarker.getLatLng();e&&(this._layerGroup.addLayer(this._layer),this._layer.setLatLngs([e,e]),this._hintMarker.on("move",this._syncRectangleSize,this))},_syncHintMarker(e){if(this._hintMarker.setLatLng(e.latlng),this.options.snappable){let i=e;i.target=this._hintMarker,this._handleSnapping(i)}let r=this._layerGroup&&this._layerGroup.hasLayer(this._layer)?this._layer.getLatLngs():[this._hintMarker.getLatLng()];this._fireChange(r,"Draw")},_syncRectangleSize(){let e=Xi(this._startMarker.getLatLng(),this._map),r=Xi(this._hintMarker.getLatLng(),this._map),i=L.PM.Utils._getRotatedRectangle(e,r,this.options.rectangleAngle||0,this._map);if(this._layer.setLatLngs(i),this.options.cursorMarker&&this._styleMarkers){let a=[];i.forEach(o=>{!o.equals(e,1e-8)&&!o.equals(r,1e-8)&&a.push(o)}),a.forEach((o,u)=>{try{this._styleMarkers[u].setLatLng(o)}catch{}})}},_findCorners(){let e=this._layer.getLatLngs()[0];return L.PM.Utils._getRotatedRectangle(e[0],e[2],this.options.rectangleAngle||0,this._map)},_finishShape(e){this._hintMarker._snapped||this._hintMarker.setLatLng(e.latlng);let r=this._hintMarker.getLatLng(),i=this._startMarker.getLatLng();if(this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer()||i.equals(r))return;let a=L.rectangle([i,r],this.options.pathOptions);if(this.options.rectangleAngle){let o=L.PM.Utils._getRotatedRectangle(i,r,this.options.rectangleAngle||0,this._map);a.setLatLngs(o),a.pm&&a.pm._setAngle(this.options.rectangleAngle||0)}this._setPane(a,"layerPane"),this._finishLayer(a),a.addTo(this._map.pm._getContainingLayer()),this._fireCreate(a),this.disable(),this.options.continueDrawing&&this.enable()},setStyle(){this._layer?.setStyle(this.options.pathOptions)}}),Dr.CircleMarker=Dr.extend({initialize(e){this._map=e,this._shape="CircleMarker",this.toolbarButtonName="drawCircleMarker",this._layerIsDragging=!1,this._BaseCircleClass=L.CircleMarker,this._minRadiusOption="minRadiusCircleMarker",this._maxRadiusOption="maxRadiusCircleMarker",this._editableOption="resizeableCircleMarker",this._defaultRadius=10},enable(e){if(L.Util.setOptions(this,e),this.options.editable&&(this.options.resizeableCircleMarker=this.options.editable,delete this.options.editable),this._enabled=!0,this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._map.getContainer().classList.add("geoman-draw-cursor"),this.options[this._editableOption]){let r={};L.extend(r,this.options.templineStyle),r.radius=0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=new this._BaseCircleClass(this._map.getCenter(),r),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._centerMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon"}),draggable:!1,zIndexOffset:100}),this._setPane(this._centerMarker,"vertexPane"),this._centerMarker._pmTempLayer=!0,this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:110,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(ze("tooltips.startCircle"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._map.on("click",this._placeCenterMarker,this)}else this._map.on("click",this._createMarker,this),this._hintMarker=new this._BaseCircleClass(this._map.getCenter(),{radius:this._defaultRadius,...this.options.templineStyle}),this._setPane(this._hintMarker,"layerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this._layer=this._hintMarker,this.options.tooltips&&this._hintMarker.bindTooltip(ze("tooltips.placeCircleMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip();this._map.on("mousemove",this._syncHintMarker,this),this._extendingEnable(),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},_extendingEnable(){!this.options[this._editableOption]&&this.options.markerEditable&&this._map.eachLayer(e=>{this.isRelevantMarker(e)&&e.pm.enable()}),this._layer.bringToBack()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this.options[this._editableOption]?(this._map.off("click",this._finishShape,this),this._map.off("click",this._placeCenterMarker,this),this._map.removeLayer(this._layerGroup)):(this._map.off("click",this._createMarker,this),this._extendingDisable(),this._hintMarker.remove()),this._map.off("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},_extendingDisable(){this._map.eachLayer(e=>{this.isRelevantMarker(e)&&e.pm.disable()})},enabled(){return this._enabled},toggle(e){this.enabled()?this.disable():this.enable(e)},_placeCenterMarker(e){this._layerGroup.addLayer(this._layer),this._layerGroup.addLayer(this._centerMarker),this._hintMarker._snapped||this._hintMarker.setLatLng(e.latlng);let r=this._hintMarker.getLatLng();this._layerGroup.addLayer(this._layer),this._centerMarker.setLatLng(r),this._map.off("click",this._placeCenterMarker,this),this._map.on("click",this._finishShape,this),this._placeCircleCenter()},_placeCircleCenter(){let e=this._centerMarker.getLatLng();e&&(this._layer.setLatLng(e),this._hintMarker.on("move",this._syncHintLine,this),this._hintMarker.on("move",this._syncCircleRadius,this),this._hintMarker.setTooltipContent(ze("tooltips.finishCircle")),this._fireCenterPlaced(),this._fireChange(this._layer.getLatLng(),"Draw"))},_syncHintLine(){let e=this._centerMarker.getLatLng(),r=this._getNewDestinationOfHintMarker();this._hintline.setLatLngs([e,r])},_syncCircleRadius(){let e=this._centerMarker.getLatLng(),r=this._hintMarker.getLatLng(),i=this._distanceCalculation(e,r);this.options[this._minRadiusOption]&&i<this.options[this._minRadiusOption]?this._layer.setRadius(this.options[this._minRadiusOption]):this.options[this._maxRadiusOption]&&i>this.options[this._maxRadiusOption]?this._layer.setRadius(this.options[this._maxRadiusOption]):this._layer.setRadius(i)},_syncHintMarker(e){if(this._hintMarker.setLatLng(e.latlng),this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker()),this.options.snappable){let i=e;i.target=this._hintMarker,this._handleSnapping(i)}this._handleHintMarkerSnapping();let r=this._layerGroup&&this._layerGroup.hasLayer(this._centerMarker)?this._centerMarker.getLatLng():this._hintMarker.getLatLng();this._fireChange(r,"Draw")},isRelevantMarker(e){return e instanceof L.CircleMarker&&!(e instanceof L.Circle)&&e.pm&&!e._pmTempLayer},_createMarker(e){if(this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer()||!e.latlng||this._layerIsDragging)return;this._hintMarker._snapped||this._hintMarker.setLatLng(e.latlng);let r=this._hintMarker.getLatLng(),i=new this._BaseCircleClass(r,{radius:this._defaultRadius,...this.options.pathOptions});this._setPane(i,"layerPane"),this._finishLayer(i),i.addTo(this._map.pm._getContainingLayer()),this._extendingCreateMarker(i),this._fireCreate(i),this._cleanupSnapping(),this.options.continueDrawing||this.disable()},_extendingCreateMarker(e){e.pm&&this.options.markerEditable&&e.pm.enable()},_finishShape(e){if(this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;this._hintMarker._snapped||this._hintMarker.setLatLng(e.latlng);let r=this._centerMarker.getLatLng(),i=this._defaultRadius;if(this.options[this._editableOption]){let u=this._hintMarker.getLatLng();i=this._distanceCalculation(r,u),this.options[this._minRadiusOption]&&i<this.options[this._minRadiusOption]?i=this.options[this._minRadiusOption]:this.options[this._maxRadiusOption]&&i>this.options[this._maxRadiusOption]&&(i=this.options[this._maxRadiusOption])}let a={...this.options.pathOptions,radius:i},o=new this._BaseCircleClass(r,a);this._setPane(o,"layerPane"),this._finishLayer(o),o.addTo(this._map.pm._getContainingLayer()),o.pm&&o.pm._updateHiddenPolyCircle(),this._fireCreate(o),this.disable(),this.options.continueDrawing&&this.enable()},_getNewDestinationOfHintMarker(){let e=this._hintMarker.getLatLng();if(this.options[this._editableOption]){if(!this._layerGroup.hasLayer(this._centerMarker))return e;let r=this._centerMarker.getLatLng(),i=this._distanceCalculation(r,e);this.options[this._minRadiusOption]&&i<this.options[this._minRadiusOption]?e=Fr(this._map,r,e,this._getMinDistanceInMeter()):this.options[this._maxRadiusOption]&&i>this.options[this._maxRadiusOption]&&(e=Fr(this._map,r,e,this._getMaxDistanceInMeter()))}return e},_getMinDistanceInMeter(){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._minRadiusOption],this._map,this._centerMarker.getLatLng())},_getMaxDistanceInMeter(){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._maxRadiusOption],this._map,this._centerMarker.getLatLng())},_handleHintMarkerSnapping(){if(this.options[this._editableOption]){if(this._hintMarker._snapped){let e=this._centerMarker.getLatLng(),r=this._hintMarker.getLatLng(),i=this._distanceCalculation(e,r);this._layerGroup.hasLayer(this._centerMarker)&&(this.options[this._minRadiusOption]&&i<this.options[this._minRadiusOption]?this._hintMarker.setLatLng(this._hintMarker._orgLatLng):this.options[this._maxRadiusOption]&&i>this.options[this._maxRadiusOption]&&this._hintMarker.setLatLng(this._hintMarker._orgLatLng))}this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker())}},setStyle(){let e={};L.extend(e,this.options.templineStyle),this.options[this._editableOption]&&(e.radius=0),this._layer?.setStyle(e),this._hintline?.setStyle(this.options.hintlineStyle)},_distanceCalculation(e,r){return this._map.project(e).distanceTo(this._map.project(r))}}),Dr.Circle=Dr.CircleMarker.extend({initialize(e){this._map=e,this._shape="Circle",this.toolbarButtonName="drawCircle",this._BaseCircleClass=L.Circle,this._minRadiusOption="minRadiusCircle",this._maxRadiusOption="maxRadiusCircle",this._editableOption="resizableCircle",this._defaultRadius=100},_extendingEnable(){},_extendingDisable(){},_extendingCreateMarker(){},isRelevantMarker(){},_getMinDistanceInMeter(){return this.options[this._minRadiusOption]},_getMaxDistanceInMeter(){return this.options[this._maxRadiusOption]},_distanceCalculation(e,r){return this._map.distance(e,r)}});function _i(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if(e.type==="Feature"&&e.geometry!==null&&e.geometry.type==="Point")return e.geometry.coordinates;if(e.type==="Point")return e.coordinates}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return e;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function vi(e){if(Array.isArray(e))return e;if(e.type==="Feature"){if(e.geometry!==null)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function Ps(e){return e.type==="Feature"?e.geometry:e}function su(e,r){return e.type==="FeatureCollection"?"FeatureCollection":e.type==="GeometryCollection"?"GeometryCollection":e.type==="Feature"&&e.geometry!==null?e.geometry.type:e.type}function Ts(e,r,i){if(e!==null)for(var a,o,u,c,d,_,C,F=0,I=0,ie,J=e.type,_e=J==="FeatureCollection",De=J==="Feature",Je=_e?e.features.length:1,xt=0;xt<Je;xt++){C=_e?e.features[xt].geometry:De?e.geometry:e,ie=C?C.type==="GeometryCollection":!1,d=ie?C.geometries.length:1;for(var T=0;T<d;T++){var U=0,X=0;if(c=ie?C.geometries[T]:C,c!==null){_=c.coordinates;var se=c.type;switch(F=i&&(se==="Polygon"||se==="MultiPolygon")?1:0,se){case null:break;case"Point":if(r(_,I,xt,U,X)===!1)return!1;I++,U++;break;case"LineString":case"MultiPoint":for(a=0;a<_.length;a++){if(r(_[a],I,xt,U,X)===!1)return!1;I++,se==="MultiPoint"&&U++}se==="LineString"&&U++;break;case"Polygon":case"MultiLineString":for(a=0;a<_.length;a++){for(o=0;o<_[a].length-F;o++){if(r(_[a][o],I,xt,U,X)===!1)return!1;I++}se==="MultiLineString"&&U++,se==="Polygon"&&X++}se==="Polygon"&&U++;break;case"MultiPolygon":for(a=0;a<_.length;a++){for(X=0,o=0;o<_[a].length;o++){for(u=0;u<_[a][o].length-F;u++){if(r(_[a][o][u],I,xt,U,X)===!1)return!1;I++}X++}U++}break;case"GeometryCollection":for(a=0;a<c.geometries.length;a++)if(Ts(c.geometries[a],r,i)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function Zo(e,r){if(e.type==="Feature")r(e,0);else if(e.type==="FeatureCollection")for(var i=0;i<e.features.length&&r(e.features[i],i)!==!1;i++);}function cl(e,r,i){var a=i;return Zo(e,function(o,u){u===0&&i===void 0?a=o:a=r(a,o,u)}),a}function Rs(e,r){var i,a,o,u,c,d,_,C,F,I,ie=0,J=e.type==="FeatureCollection",_e=e.type==="Feature",De=J?e.features.length:1;for(i=0;i<De;i++){for(d=J?e.features[i].geometry:_e?e.geometry:e,C=J?e.features[i].properties:_e?e.properties:{},F=J?e.features[i].bbox:_e?e.bbox:void 0,I=J?e.features[i].id:_e?e.id:void 0,_=d?d.type==="GeometryCollection":!1,c=_?d.geometries.length:1,o=0;o<c;o++){if(u=_?d.geometries[o]:d,u===null){if(r(null,ie,C,F,I)===!1)return!1;continue}switch(u.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(r(u,ie,C,F,I)===!1)return!1;break}case"GeometryCollection":{for(a=0;a<u.geometries.length;a++)if(r(u.geometries[a],ie,C,F,I)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}ie++}}function uu(e,r){Rs(e,function(i,a,o,u,c){var d=i===null?null:i.type;switch(d){case null:case"Point":case"LineString":case"Polygon":return r(Ya(i,o,{bbox:u,id:c}),a,0)===!1?!1:void 0}var _;switch(d){case"MultiPoint":_="Point";break;case"MultiLineString":_="LineString";break;case"MultiPolygon":_="Polygon";break}for(var C=0;C<i.coordinates.length;C++){var F=i.coordinates[C],I={type:_,coordinates:F};if(r(Ya(I,o),a,C)===!1)return!1}})}function Wh(e){if(!e)throw new Error("geojson is required");var r=[];return uu(e,function(i){lu(i,r)}),Ji(r)}function lu(e,r){var i=[],a=e.geometry;if(a!==null){switch(a.type){case"Polygon":i=vi(a);break;case"LineString":i=[vi(a)]}i.forEach(function(o){var u=Os(o,e.properties);u.forEach(function(c){c.id=r.length,r.push(c)})})}}function Os(e,r){var i=[];return e.reduce(function(a,o){var u=Eo([a,o],r);return u.bbox=fl(a,o),i.push(u),o}),i}function fl(e,r){var i=e[0],a=e[1],o=r[0],u=r[1],c=i<o?i:o,d=a<u?a:u,_=i>o?i:o,C=a>u?a:u;return[c,d,_,C]}var Qo=Wh,dl=q(za(),1);function Xh(e,r){var i={},a=[];if(e.type==="LineString"&&(e=Ya(e)),r.type==="LineString"&&(r=Ya(r)),e.type==="Feature"&&r.type==="Feature"&&e.geometry!==null&&r.geometry!==null&&e.geometry.type==="LineString"&&r.geometry.type==="LineString"&&e.geometry.coordinates.length===2&&r.geometry.coordinates.length===2){var o=Fs(e,r);return o&&a.push(o),Ji(a)}var u=(0,dl.default)();return u.load(Qo(r)),Zo(Qo(e),function(c){Zo(u.search(c),function(d){var _=Fs(c,d);if(_){var C=vi(_).join(",");i[C]||(i[C]=!0,a.push(_))}})}),Ji(a)}function Fs(e,r){var i=vi(e),a=vi(r);if(i.length!==2)throw new Error("<intersects> line1 must only contain 2 coordinates");if(a.length!==2)throw new Error("<intersects> line2 must only contain 2 coordinates");var o=i[0][0],u=i[0][1],c=i[1][0],d=i[1][1],_=a[0][0],C=a[0][1],F=a[1][0],I=a[1][1],ie=(I-C)*(c-o)-(F-_)*(d-u),J=(F-_)*(u-C)-(I-C)*(o-_),_e=(c-o)*(u-C)-(d-u)*(o-_);if(ie===0)return null;var De=J/ie,Je=_e/ie;if(De>=0&&De<=1&&Je>=0&&Je<=1){var xt=o+De*(c-o),T=u+De*(d-u);return qa([xt,T])}return null}var ga=Xh,hu=q(za(),1);function pl(e,r,i){i===void 0&&(i={});var a=_i(e),o=_i(r),u=Qn(o[1]-a[1]),c=Qn(o[0]-a[0]),d=Qn(a[1]),_=Qn(o[1]),C=Math.pow(Math.sin(u/2),2)+Math.pow(Math.sin(c/2),2)*Math.cos(d)*Math.cos(_);return ul(2*Math.atan2(Math.sqrt(C),Math.sqrt(1-C)),i.units)}var ma=pl;function Yh(e){var r=e[0],i=e[1],a=e[2],o=e[3],u=ma(e.slice(0,2),[a,i]),c=ma(e.slice(0,2),[r,o]);if(u>=c){var d=(i+o)/2;return[r,d-(a-r)/2,a,d+(a-r)/2]}else{var _=(r+a)/2;return[_-(o-i)/2,i,_+(o-i)/2,o]}}var gl=Yh;function Is(e){var r=[1/0,1/0,-1/0,-1/0];return Ts(e,function(i){r[0]>i[0]&&(r[0]=i[0]),r[1]>i[1]&&(r[1]=i[1]),r[2]<i[0]&&(r[2]=i[0]),r[3]<i[1]&&(r[3]=i[1])}),r}Is.default=Is;var Mo=Is;function ml(e,r){r===void 0&&(r={});var i=r.precision,a=r.coordinates,o=r.mutate;if(i=i==null||isNaN(i)?6:i,a=a==null||isNaN(a)?3:a,!e)throw new Error("<geojson> is required");if(typeof i!="number")throw new Error("<precision> must be a number");if(typeof a!="number")throw new Error("<coordinates> must be a number");(o===!1||o===void 0)&&(e=JSON.parse(JSON.stringify(e)));var u=Math.pow(10,i);return Ts(e,function(c){_l(c,u,a)}),e}function _l(e,r,i){e.length>i&&e.splice(i,e.length);for(var a=0;a<e.length;a++)e[a]=Math.round(e[a]*r)/r;return e}var vl=ml;function cu(e,r,i){if(i===void 0&&(i={}),i.final===!0)return yl(e,r);var a=_i(e),o=_i(r),u=Qn(a[0]),c=Qn(o[0]),d=Qn(a[1]),_=Qn(o[1]),C=Math.sin(c-u)*Math.cos(_),F=Math.cos(d)*Math.sin(_)-Math.sin(d)*Math.cos(_)*Math.cos(c-u);return Ds(Math.atan2(C,F))}function yl(e,r){var i=cu(r,e);return i=(i+180)%360,i}function fu(e,r,i,a){a===void 0&&(a={});var o=_i(e),u=Qn(o[0]),c=Qn(o[1]),d=Qn(i),_=ll(r,a.units),C=Math.asin(Math.sin(c)*Math.cos(_)+Math.cos(c)*Math.sin(_)*Math.cos(d)),F=u+Math.atan2(Math.sin(d)*Math.sin(_)*Math.cos(c),Math.cos(_)-Math.sin(c)*Math.sin(C)),I=Ds(F),ie=Ds(C);return qa([I,ie],a.properties)}function bl(e,r,i){i===void 0&&(i={});var a=qa([1/0,1/0],{dist:1/0}),o=0;return uu(e,function(u){for(var c=vi(u),d=0;d<c.length-1;d++){var _=qa(c[d]);_.properties.dist=ma(r,_,i);var C=qa(c[d+1]);C.properties.dist=ma(r,C,i);var F=ma(_,C,i),I=Math.max(_.properties.dist,C.properties.dist),ie=cu(_,C),J=fu(r,I,ie+90,i),_e=fu(r,I,ie-90,i),De=ga(Eo([J.geometry.coordinates,_e.geometry.coordinates]),Eo([_.geometry.coordinates,C.geometry.coordinates])),Je=null;De.features.length>0&&(Je=De.features[0],Je.properties.dist=ma(r,Je,i),Je.properties.location=o+ma(_,Je,i)),_.properties.dist<a.properties.dist&&(a=_,a.properties.index=d,a.properties.location=o),C.properties.dist<a.properties.dist&&(a=C,a.properties.index=d+1,a.properties.location=o+F),Je&&Je.properties.dist<a.properties.dist&&(a=Je,a.properties.index=d),o+=F}}),a}var Cl=bl;function Ll(e,r){if(!e)throw new Error("line is required");if(!r)throw new Error("splitter is required");var i=su(e),a=su(r);if(i!=="LineString")throw new Error("line must be LineString");if(a==="FeatureCollection")throw new Error("splitter cannot be a FeatureCollection");if(a==="GeometryCollection")throw new Error("splitter cannot be a GeometryCollection");var o=vl(r,{precision:7});switch(a){case"Point":return Ja(e,o);case"MultiPoint":return du(e,o);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return du(e,ga(e,o))}}function du(e,r){var i=[],a=(0,hu.default)();return uu(r,function(o){if(i.forEach(function(d,_){d.id=_}),!i.length)i=Ja(e,o).features,i.forEach(function(d){d.bbox||(d.bbox=gl(Mo(d)))}),a.load(Ji(i));else{var u=a.search(o);if(u.features.length){var c=_a(o,u);i=i.filter(function(d){return d.id!==c.id}),a.remove(c),Zo(Ja(c,o),function(d){i.push(d),a.insert(d)})}}}),Ji(i)}function Ja(e,r){var i=[],a=vi(e)[0],o=vi(e)[e.geometry.coordinates.length-1];if(pu(a,_i(r))||pu(o,_i(r)))return Ji([e]);var u=(0,hu.default)(),c=Qo(e);u.load(c);var d=u.search(r);if(!d.features.length)return Ji([e]);var _=_a(r,d),C=[a],F=cl(c,function(I,ie,J){var _e=vi(ie)[1],De=_i(r);return J===_.id?(I.push(De),i.push(Eo(I)),pu(De,_e)?[De]:[De,_e]):(I.push(_e),I)},C);return F.length>1&&i.push(Eo(F)),Ji(i)}function _a(e,r){if(!r.features.length)throw new Error("lines must contain features");if(r.features.length===1)return r.features[0];var i,a=1/0;return Zo(r,function(o){var u=Cl(o,e),c=u.properties.dist;c<a&&(i=o,a=c)}),i}function pu(e,r){return e[0]===r[0]&&e[1]===r[1]}var qh=Ll;function es(e,r,i){if(i===void 0&&(i={}),!e)throw new Error("point is required");if(!r)throw new Error("polygon is required");var a=_i(e),o=Ps(r),u=o.type,c=r.bbox,d=o.coordinates;if(c&&El(a,c)===!1)return!1;u==="Polygon"&&(d=[d]);for(var _=!1,C=0;C<d.length&&!_;C++)if(gu(a,d[C][0],i.ignoreBoundary)){for(var F=!1,I=1;I<d[C].length&&!F;)gu(a,d[C][I],!i.ignoreBoundary)&&(F=!0),I++;F||(_=!0)}return _}function gu(e,r,i){var a=!1;r[0][0]===r[r.length-1][0]&&r[0][1]===r[r.length-1][1]&&(r=r.slice(0,r.length-1));for(var o=0,u=r.length-1;o<r.length;u=o++){var c=r[o][0],d=r[o][1],_=r[u][0],C=r[u][1],F=e[1]*(c-_)+d*(_-e[0])+C*(e[0]-c)===0&&(c-e[0])*(_-e[0])<=0&&(d-e[1])*(C-e[1])<=0;if(F)return!i;var I=d>e[1]!=C>e[1]&&e[0]<(_-c)*(e[1]-d)/(C-d)+c;I&&(a=!a)}return a}function El(e,r){return r[0]<=e[0]&&r[1]<=e[1]&&r[2]>=e[0]&&r[3]>=e[1]}function Jh(e,r,i){i===void 0&&(i={});for(var a=_i(e),o=vi(r),u=0;u<o.length-1;u++){var c=!1;if(i.ignoreEndVertices&&(u===0&&(c="start"),u===o.length-2&&(c="end"),u===0&&u+1===o.length-1&&(c="both")),Zh(o[u],o[u+1],a,c,typeof i.epsilon>"u"?null:i.epsilon))return!0}return!1}function Zh(e,r,i,a,o){var u=i[0],c=i[1],d=e[0],_=e[1],C=r[0],F=r[1],I=i[0]-d,ie=i[1]-_,J=C-d,_e=F-_,De=I*_e-ie*J;if(o!==null){if(Math.abs(De)>o)return!1}else if(De!==0)return!1;if(a){if(a==="start")return Math.abs(J)>=Math.abs(_e)?J>0?d<u&&u<=C:C<=u&&u<d:_e>0?_<c&&c<=F:F<=c&&c<_;if(a==="end")return Math.abs(J)>=Math.abs(_e)?J>0?d<=u&&u<C:C<u&&u<=d:_e>0?_<=c&&c<F:F<c&&c<=_;if(a==="both")return Math.abs(J)>=Math.abs(_e)?J>0?d<u&&u<C:C<u&&u<d:_e>0?_<c&&c<F:F<c&&c<_}else return Math.abs(J)>=Math.abs(_e)?J>0?d<=u&&u<=C:C<=u&&u<=d:_e>0?_<=c&&c<=F:F<=c&&c<=_;return!1}var ts=Jh;function Qh(e,r){var i=Ps(e),a=Ps(r),o=i.type,u=a.type,c=i.coordinates,d=a.coordinates;switch(o){case"Point":switch(u){case"Point":return Ut(c,d);default:throw new Error("feature2 "+u+" geometry not supported")}case"MultiPoint":switch(u){case"Point":return ec(i,a);case"MultiPoint":return xl(i,a);default:throw new Error("feature2 "+u+" geometry not supported")}case"LineString":switch(u){case"Point":return ts(a,i,{ignoreEndVertices:!0});case"LineString":return mu(i,a);case"MultiPoint":return Ml(i,a);default:throw new Error("feature2 "+u+" geometry not supported")}case"Polygon":switch(u){case"Point":return es(a,i,{ignoreBoundary:!0});case"LineString":return wo(i,a);case"Polygon":return wl(i,a);case"MultiPoint":return rs(i,a);default:throw new Error("feature2 "+u+" geometry not supported")}default:throw new Error("feature1 "+o+" geometry not supported")}}function ec(e,r){var i,a=!1;for(i=0;i<e.coordinates.length;i++)if(Ut(e.coordinates[i],r.coordinates)){a=!0;break}return a}function xl(e,r){for(var i=0,a=r.coordinates;i<a.length;i++){for(var o=a[i],u=!1,c=0,d=e.coordinates;c<d.length;c++){var _=d[c];if(Ut(o,_)){u=!0;break}}if(!u)return!1}return!0}function Ml(e,r){for(var i=!1,a=0,o=r.coordinates;a<o.length;a++){var u=o[a];if(ts(u,e,{ignoreEndVertices:!0})&&(i=!0),!ts(u,e))return!1}return!!i}function rs(e,r){for(var i=0,a=r.coordinates;i<a.length;i++){var o=a[i];if(!es(o,e,{ignoreBoundary:!0}))return!1}return!0}function mu(e,r){for(var i=!1,a=0,o=r.coordinates;a<o.length;a++){var u=o[a];if(ts({type:"Point",coordinates:u},e,{ignoreEndVertices:!0})&&(i=!0),!ts({type:"Point",coordinates:u},e,{ignoreEndVertices:!1}))return!1}return i}function wo(e,r){var i=!1,a=0,o=Mo(e),u=Mo(r);if(!Ns(o,u))return!1;for(a;a<r.coordinates.length-1;a++){var c=_u(r.coordinates[a],r.coordinates[a+1]);if(es({type:"Point",coordinates:c},e,{ignoreBoundary:!0})){i=!0;break}}return i}function wl(e,r){if(e.type==="Feature"&&e.geometry===null||r.type==="Feature"&&r.geometry===null)return!1;var i=Mo(e),a=Mo(r);if(!Ns(i,a))return!1;for(var o=Ps(r).coordinates,u=0,c=o;u<c.length;u++)for(var d=c[u],_=0,C=d;_<C.length;_++){var F=C[_];if(!es(F,e))return!1}return!0}function Ns(e,r){return!(e[0]>r[0]||e[2]<r[2]||e[1]>r[1]||e[3]<r[3])}function Ut(e,r){return e[0]===r[0]&&e[1]===r[1]}function _u(e,r){return[(e[0]+r[0])/2,(e[1]+r[1])/2]}var kl=q(Ga()),Gs=e=>()=>e,ns=e=>{let r=e?(i,a)=>a.minus(i).abs().isLessThanOrEqualTo(e):Gs(!1);return(i,a)=>r(i,a)?0:i.comparedTo(a)};function tc(e){let r=e?(i,a,o,u,c)=>i.exponentiatedBy(2).isLessThanOrEqualTo(u.minus(a).exponentiatedBy(2).plus(c.minus(o).exponentiatedBy(2)).times(e)):Gs(!1);return(i,a,o)=>{let u=i.x,c=i.y,d=o.x,_=o.y,C=c.minus(_).times(a.x.minus(d)).minus(u.minus(d).times(a.y.minus(_)));return r(C,u,c,d,_)?0:C.comparedTo(0)}}var Bl=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,is=Math.ceil,Vn=Math.floor,yn="[BigNumber Error] ",Us=yn+"Number primitive has more than 15 significant digits: ",ei=1e14,bt=14,js=9007199254740991,zs=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],Zi=1e7,wr=1e9;function vu(e){var r,i,a,o=T.prototype={constructor:T,toString:null,valueOf:null},u=new T(1),c=20,d=4,_=-7,C=21,F=-1e7,I=1e7,ie=!1,J=1,_e=0,De={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xA0",suffix:""},Je="0123456789abcdefghijklmnopqrstuvwxyz",xt=!0;function T(v,M){var B,k,S,D,z,j,V,ne,re=this;if(!(re instanceof T))return new T(v,M);if(M==null){if(v&&v._isBigNumber===!0){re.s=v.s,!v.c||v.e>I?re.c=re.e=null:v.e<F?re.c=[re.e=0]:(re.e=v.e,re.c=v.c.slice());return}if((j=typeof v=="number")&&v*0==0){if(re.s=1/v<0?(v=-v,-1):1,v===~~v){for(D=0,z=v;z>=10;z/=10,D++);D>I?re.c=re.e=null:(re.e=D,re.c=[v]);return}ne=String(v)}else{if(!Bl.test(ne=String(v)))return a(re,ne,j);re.s=ne.charCodeAt(0)==45?(ne=ne.slice(1),-1):1}(D=ne.indexOf("."))>-1&&(ne=ne.replace(".","")),(z=ne.search(/e/i))>0?(D<0&&(D=z),D+=+ne.slice(z+1),ne=ne.substring(0,z)):D<0&&(D=ne.length)}else{if(lr(M,2,Je.length,"Base"),M==10&&xt)return re=new T(v),Z(re,c+re.e+1,d);if(ne=String(v),j=typeof v=="number"){if(v*0!=0)return a(re,ne,j,M);if(re.s=1/v<0?(ne=ne.slice(1),-1):1,T.DEBUG&&ne.replace(/^0\.0*|\./,"").length>15)throw Error(Us+v)}else re.s=ne.charCodeAt(0)===45?(ne=ne.slice(1),-1):1;for(B=Je.slice(0,M),D=z=0,V=ne.length;z<V;z++)if(B.indexOf(k=ne.charAt(z))<0){if(k=="."){if(z>D){D=V;continue}}else if(!S&&(ne==ne.toUpperCase()&&(ne=ne.toLowerCase())||ne==ne.toLowerCase()&&(ne=ne.toUpperCase()))){S=!0,z=-1,D=0;continue}return a(re,String(v),j,M)}j=!1,ne=i(ne,M,10,re.s),(D=ne.indexOf("."))>-1?ne=ne.replace(".",""):D=ne.length}for(z=0;ne.charCodeAt(z)===48;z++);for(V=ne.length;ne.charCodeAt(--V)===48;);if(ne=ne.slice(z,++V)){if(V-=z,j&&T.DEBUG&&V>15&&(v>js||v!==Vn(v)))throw Error(Us+re.s*v);if((D=D-z-1)>I)re.c=re.e=null;else if(D<F)re.c=[re.e=0];else{if(re.e=D,re.c=[],z=(D+1)%bt,D<0&&(z+=bt),z<V){for(z&&re.c.push(+ne.slice(0,z)),V-=bt;z<V;)re.c.push(+ne.slice(z,z+=bt));z=bt-(ne=ne.slice(z)).length}else z-=V;for(;z--;ne+="0");re.c.push(+ne)}}else re.c=[re.e=0]}T.clone=vu,T.ROUND_UP=0,T.ROUND_DOWN=1,T.ROUND_CEIL=2,T.ROUND_FLOOR=3,T.ROUND_HALF_UP=4,T.ROUND_HALF_DOWN=5,T.ROUND_HALF_EVEN=6,T.ROUND_HALF_CEIL=7,T.ROUND_HALF_FLOOR=8,T.EUCLID=9,T.config=T.set=function(v){var M,B;if(v!=null)if(typeof v=="object"){if(v.hasOwnProperty(M="DECIMAL_PLACES")&&(B=v[M],lr(B,0,wr,M),c=B),v.hasOwnProperty(M="ROUNDING_MODE")&&(B=v[M],lr(B,0,8,M),d=B),v.hasOwnProperty(M="EXPONENTIAL_AT")&&(B=v[M],B&&B.pop?(lr(B[0],-wr,0,M),lr(B[1],0,wr,M),_=B[0],C=B[1]):(lr(B,-wr,wr,M),_=-(C=B<0?-B:B))),v.hasOwnProperty(M="RANGE"))if(B=v[M],B&&B.pop)lr(B[0],-wr,-1,M),lr(B[1],1,wr,M),F=B[0],I=B[1];else if(lr(B,-wr,wr,M),B)F=-(I=B<0?-B:B);else throw Error(yn+M+" cannot be zero: "+B);if(v.hasOwnProperty(M="CRYPTO"))if(B=v[M],B===!!B)if(B)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))ie=B;else throw ie=!B,Error(yn+"crypto unavailable");else ie=B;else throw Error(yn+M+" not true or false: "+B);if(v.hasOwnProperty(M="MODULO_MODE")&&(B=v[M],lr(B,0,9,M),J=B),v.hasOwnProperty(M="POW_PRECISION")&&(B=v[M],lr(B,0,wr,M),_e=B),v.hasOwnProperty(M="FORMAT"))if(B=v[M],typeof B=="object")De=B;else throw Error(yn+M+" not an object: "+B);if(v.hasOwnProperty(M="ALPHABET"))if(B=v[M],typeof B=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(B))xt=B.slice(0,10)=="0123456789",Je=B;else throw Error(yn+M+" invalid: "+B)}else throw Error(yn+"Object expected: "+v);return{DECIMAL_PLACES:c,ROUNDING_MODE:d,EXPONENTIAL_AT:[_,C],RANGE:[F,I],CRYPTO:ie,MODULO_MODE:J,POW_PRECISION:_e,FORMAT:De,ALPHABET:Je}},T.isBigNumber=function(v){if(!v||v._isBigNumber!==!0)return!1;if(!T.DEBUG)return!0;var M,B,k=v.c,S=v.e,D=v.s;e:if({}.toString.call(k)=="[object Array]"){if((D===1||D===-1)&&S>=-wr&&S<=wr&&S===Vn(S)){if(k[0]===0){if(S===0&&k.length===1)return!0;break e}if(M=(S+1)%bt,M<1&&(M+=bt),String(k[0]).length==M){for(M=0;M<k.length;M++)if(B=k[M],B<0||B>=ei||B!==Vn(B))break e;if(B!==0)return!0}}}else if(k===null&&S===null&&(D===null||D===1||D===-1))return!0;throw Error(yn+"Invalid BigNumber: "+v)},T.maximum=T.max=function(){return X(arguments,-1)},T.minimum=T.min=function(){return X(arguments,1)},T.random=function(){var v=9007199254740992,M=Math.random()*v&2097151?function(){return Vn(Math.random()*v)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(B){var k,S,D,z,j,V=0,ne=[],re=new T(u);if(B==null?B=c:lr(B,0,wr),z=is(B/bt),ie)if(crypto.getRandomValues){for(k=crypto.getRandomValues(new Uint32Array(z*=2));V<z;)j=k[V]*131072+(k[V+1]>>>11),j>=9e15?(S=crypto.getRandomValues(new Uint32Array(2)),k[V]=S[0],k[V+1]=S[1]):(ne.push(j%1e14),V+=2);V=z/2}else if(crypto.randomBytes){for(k=crypto.randomBytes(z*=7);V<z;)j=(k[V]&31)*281474976710656+k[V+1]*1099511627776+k[V+2]*4294967296+k[V+3]*16777216+(k[V+4]<<16)+(k[V+5]<<8)+k[V+6],j>=9e15?crypto.randomBytes(7).copy(k,V):(ne.push(j%1e14),V+=7);V=z/7}else throw ie=!1,Error(yn+"crypto unavailable");if(!ie)for(;V<z;)j=M(),j<9e15&&(ne[V++]=j%1e14);for(z=ne[--V],B%=bt,z&&B&&(j=zs[bt-B],ne[V]=Vn(z/j)*j);ne[V]===0;ne.pop(),V--);if(V<0)ne=[D=0];else{for(D=-1;ne[0]===0;ne.splice(0,1),D-=bt);for(V=1,j=ne[0];j>=10;j/=10,V++);V<bt&&(D-=bt-V)}return re.e=D,re.c=ne,re}}(),T.sum=function(){for(var v=1,M=arguments,B=new T(M[0]);v<M.length;)B=B.plus(M[v++]);return B},i=function(){var v="0123456789";function M(B,k,S,D){for(var z,j=[0],V,ne=0,re=B.length;ne<re;){for(V=j.length;V--;j[V]*=k);for(j[0]+=D.indexOf(B.charAt(ne++)),z=0;z<j.length;z++)j[z]>S-1&&(j[z+1]==null&&(j[z+1]=0),j[z+1]+=j[z]/S|0,j[z]%=S)}return j.reverse()}return function(B,k,S,D,z){var j,V,ne,re,Le,$e,Qe,Ge,He=B.indexOf("."),ut=c,ht=d;for(He>=0&&(re=_e,_e=0,B=B.replace(".",""),Ge=new T(k),$e=Ge.pow(B.length-He),_e=re,Ge.c=M(Dn(Cn($e.c),$e.e,"0"),10,S,v),Ge.e=Ge.c.length),Qe=M(B,k,S,z?(j=Je,v):(j=v,Je)),ne=re=Qe.length;Qe[--re]==0;Qe.pop());if(!Qe[0])return j.charAt(0);if(He<0?--ne:($e.c=Qe,$e.e=ne,$e.s=D,$e=r($e,Ge,ut,ht,S),Qe=$e.c,Le=$e.r,ne=$e.e),V=ne+ut+1,He=Qe[V],re=S/2,Le=Le||V<0||Qe[V+1]!=null,Le=ht<4?(He!=null||Le)&&(ht==0||ht==($e.s<0?3:2)):He>re||He==re&&(ht==4||Le||ht==6&&Qe[V-1]&1||ht==($e.s<0?8:7)),V<1||!Qe[0])B=Le?Dn(j.charAt(1),-ut,j.charAt(0)):j.charAt(0);else{if(Qe.length=V,Le)for(--S;++Qe[--V]>S;)Qe[V]=0,V||(++ne,Qe=[1].concat(Qe));for(re=Qe.length;!Qe[--re];);for(He=0,B="";He<=re;B+=j.charAt(Qe[He++]));B=Dn(B,ne,j.charAt(0))}return B}}(),r=function(){function v(k,S,D){var z,j,V,ne,re=0,Le=k.length,$e=S%Zi,Qe=S/Zi|0;for(k=k.slice();Le--;)V=k[Le]%Zi,ne=k[Le]/Zi|0,z=Qe*V+ne*$e,j=$e*V+z%Zi*Zi+re,re=(j/D|0)+(z/Zi|0)+Qe*ne,k[Le]=j%D;return re&&(k=[re].concat(k)),k}function M(k,S,D,z){var j,V;if(D!=z)V=D>z?1:-1;else for(j=V=0;j<D;j++)if(k[j]!=S[j]){V=k[j]>S[j]?1:-1;break}return V}function B(k,S,D,z){for(var j=0;D--;)k[D]-=j,j=k[D]<S[D]?1:0,k[D]=j*z+k[D]-S[D];for(;!k[0]&&k.length>1;k.splice(0,1));}return function(k,S,D,z,j){var V,ne,re,Le,$e,Qe,Ge,He,ut,ht,gt,er,fn,Rn,ri,zr,ni,Lr=k.s==S.s?1:-1,Wr=k.c,yr=S.c;if(!Wr||!Wr[0]||!yr||!yr[0])return new T(!k.s||!S.s||(Wr?yr&&Wr[0]==yr[0]:!yr)?NaN:Wr&&Wr[0]==0||!yr?Lr*0:Lr/0);for(He=new T(Lr),ut=He.c=[],ne=k.e-S.e,Lr=D+ne+1,j||(j=ei,ne=bn(k.e/bt)-bn(S.e/bt),Lr=Lr/bt|0),re=0;yr[re]==(Wr[re]||0);re++);if(yr[re]>(Wr[re]||0)&&ne--,Lr<0)ut.push(1),Le=!0;else{for(Rn=Wr.length,zr=yr.length,re=0,Lr+=2,$e=Vn(j/(yr[0]+1)),$e>1&&(yr=v(yr,$e,j),Wr=v(Wr,$e,j),zr=yr.length,Rn=Wr.length),fn=zr,ht=Wr.slice(0,zr),gt=ht.length;gt<zr;ht[gt++]=0);ni=yr.slice(),ni=[0].concat(ni),ri=yr[0],yr[1]>=j/2&&ri++;do{if($e=0,V=M(yr,ht,zr,gt),V<0){if(er=ht[0],zr!=gt&&(er=er*j+(ht[1]||0)),$e=Vn(er/ri),$e>1)for($e>=j&&($e=j-1),Qe=v(yr,$e,j),Ge=Qe.length,gt=ht.length;M(Qe,ht,Ge,gt)==1;)$e--,B(Qe,zr<Ge?ni:yr,Ge,j),Ge=Qe.length,V=1;else $e==0&&(V=$e=1),Qe=yr.slice(),Ge=Qe.length;if(Ge<gt&&(Qe=[0].concat(Qe)),B(ht,Qe,gt,j),gt=ht.length,V==-1)for(;M(yr,ht,zr,gt)<1;)$e++,B(ht,zr<gt?ni:yr,gt,j),gt=ht.length}else V===0&&($e++,ht=[0]);ut[re++]=$e,ht[0]?ht[gt++]=Wr[fn]||0:(ht=[Wr[fn]],gt=1)}while((fn++<Rn||ht[0]!=null)&&Lr--);Le=ht[0]!=null,ut[0]||ut.splice(0,1)}if(j==ei){for(re=1,Lr=ut[0];Lr>=10;Lr/=10,re++);Z(He,D+(He.e=re+ne*bt-1)+1,z,Le)}else He.e=ne,He.r=+Le;return He}}();function U(v,M,B,k){var S,D,z,j,V;if(B==null?B=d:lr(B,0,8),!v.c)return v.toString();if(S=v.c[0],z=v.e,M==null)V=Cn(v.c),V=k==1||k==2&&(z<=_||z>=C)?va(V,z):Dn(V,z,"0");else if(v=Z(new T(v),M,B),D=v.e,V=Cn(v.c),j=V.length,k==1||k==2&&(M<=D||D<=_)){for(;j<M;V+="0",j++);V=va(V,D)}else if(M-=z,V=Dn(V,D,"0"),D+1>j){if(--M>0)for(V+=".";M--;V+="0");}else if(M+=D-j,M>0)for(D+1==j&&(V+=".");M--;V+="0");return v.s<0&&S?"-"+V:V}function X(v,M){for(var B,k,S=1,D=new T(v[0]);S<v.length;S++)k=new T(v[S]),(!k.s||(B=Ri(D,k))===M||B===0&&D.s===M)&&(D=k);return D}function se(v,M,B){for(var k=1,S=M.length;!M[--S];M.pop());for(S=M[0];S>=10;S/=10,k++);return(B=k+B*bt-1)>I?v.c=v.e=null:B<F?v.c=[v.e=0]:(v.e=B,v.c=M),v}a=function(){var v=/^(-?)0([xbo])(?=\w[\w.]*$)/i,M=/^([^.]+)\.$/,B=/^\.([^.]+)$/,k=/^-?(Infinity|NaN)$/,S=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(D,z,j,V){var ne,re=j?z:z.replace(S,"");if(k.test(re))D.s=isNaN(re)?null:re<0?-1:1;else{if(!j&&(re=re.replace(v,function(Le,$e,Qe){return ne=(Qe=Qe.toLowerCase())=="x"?16:Qe=="b"?2:8,!V||V==ne?$e:Le}),V&&(ne=V,re=re.replace(M,"$1").replace(B,"0.$1")),z!=re))return new T(re,ne);if(T.DEBUG)throw Error(yn+"Not a"+(V?" base "+V:"")+" number: "+z);D.s=null}D.c=D.e=null}}();function Z(v,M,B,k){var S,D,z,j,V,ne,re,Le=v.c,$e=zs;if(Le){e:{for(S=1,j=Le[0];j>=10;j/=10,S++);if(D=M-S,D<0)D+=bt,z=M,V=Le[ne=0],re=Vn(V/$e[S-z-1]%10);else if(ne=is((D+1)/bt),ne>=Le.length)if(k){for(;Le.length<=ne;Le.push(0));V=re=0,S=1,D%=bt,z=D-bt+1}else break e;else{for(V=j=Le[ne],S=1;j>=10;j/=10,S++);D%=bt,z=D-bt+S,re=z<0?0:Vn(V/$e[S-z-1]%10)}if(k=k||M<0||Le[ne+1]!=null||(z<0?V:V%$e[S-z-1]),k=B<4?(re||k)&&(B==0||B==(v.s<0?3:2)):re>5||re==5&&(B==4||k||B==6&&(D>0?z>0?V/$e[S-z]:0:Le[ne-1])%10&1||B==(v.s<0?8:7)),M<1||!Le[0])return Le.length=0,k?(M-=v.e+1,Le[0]=$e[(bt-M%bt)%bt],v.e=-M||0):Le[0]=v.e=0,v;if(D==0?(Le.length=ne,j=1,ne--):(Le.length=ne+1,j=$e[bt-D],Le[ne]=z>0?Vn(V/$e[S-z]%$e[z])*j:0),k)for(;;)if(ne==0){for(D=1,z=Le[0];z>=10;z/=10,D++);for(z=Le[0]+=j,j=1;z>=10;z/=10,j++);D!=j&&(v.e++,Le[0]==ei&&(Le[0]=1));break}else{if(Le[ne]+=j,Le[ne]!=ei)break;Le[ne--]=0,j=1}for(D=Le.length;Le[--D]===0;Le.pop());}v.e>I?v.c=v.e=null:v.e<F&&(v.c=[v.e=0])}return v}function ae(v){var M,B=v.e;return B===null?v.toString():(M=Cn(v.c),M=B<=_||B>=C?va(M,B):Dn(M,B,"0"),v.s<0?"-"+M:M)}return o.absoluteValue=o.abs=function(){var v=new T(this);return v.s<0&&(v.s=1),v},o.comparedTo=function(v,M){return Ri(this,new T(v,M))},o.decimalPlaces=o.dp=function(v,M){var B,k,S,D=this;if(v!=null)return lr(v,0,wr),M==null?M=d:lr(M,0,8),Z(new T(D),v+D.e+1,M);if(!(B=D.c))return null;if(k=((S=B.length-1)-bn(this.e/bt))*bt,S=B[S])for(;S%10==0;S/=10,k--);return k<0&&(k=0),k},o.dividedBy=o.div=function(v,M){return r(this,new T(v,M),c,d)},o.dividedToIntegerBy=o.idiv=function(v,M){return r(this,new T(v,M),0,1)},o.exponentiatedBy=o.pow=function(v,M){var B,k,S,D,z,j,V,ne,re,Le=this;if(v=new T(v),v.c&&!v.isInteger())throw Error(yn+"Exponent not an integer: "+ae(v));if(M!=null&&(M=new T(M)),j=v.e>14,!Le.c||!Le.c[0]||Le.c[0]==1&&!Le.e&&Le.c.length==1||!v.c||!v.c[0])return re=new T(Math.pow(+ae(Le),j?v.s*(2-Qi(v)):+ae(v))),M?re.mod(M):re;if(V=v.s<0,M){if(M.c?!M.c[0]:!M.s)return new T(NaN);k=!V&&Le.isInteger()&&M.isInteger(),k&&(Le=Le.mod(M))}else{if(v.e>9&&(Le.e>0||Le.e<-1||(Le.e==0?Le.c[0]>1||j&&Le.c[1]>=24e7:Le.c[0]<8e13||j&&Le.c[0]<=9999975e7)))return D=Le.s<0&&Qi(v)?-0:0,Le.e>-1&&(D=1/D),new T(V?1/D:D);_e&&(D=is(_e/bt+2))}for(j?(B=new T(.5),V&&(v.s=1),ne=Qi(v)):(S=Math.abs(+ae(v)),ne=S%2),re=new T(u);;){if(ne){if(re=re.times(Le),!re.c)break;D?re.c.length>D&&(re.c.length=D):k&&(re=re.mod(M))}if(S){if(S=Vn(S/2),S===0)break;ne=S%2}else if(v=v.times(B),Z(v,v.e+1,1),v.e>14)ne=Qi(v);else{if(S=+ae(v),S===0)break;ne=S%2}Le=Le.times(Le),D?Le.c&&Le.c.length>D&&(Le.c.length=D):k&&(Le=Le.mod(M))}return k?re:(V&&(re=u.div(re)),M?re.mod(M):D?Z(re,_e,d,z):re)},o.integerValue=function(v){var M=new T(this);return v==null?v=d:lr(v,0,8),Z(M,M.e+1,v)},o.isEqualTo=o.eq=function(v,M){return Ri(this,new T(v,M))===0},o.isFinite=function(){return!!this.c},o.isGreaterThan=o.gt=function(v,M){return Ri(this,new T(v,M))>0},o.isGreaterThanOrEqualTo=o.gte=function(v,M){return(M=Ri(this,new T(v,M)))===1||M===0},o.isInteger=function(){return!!this.c&&bn(this.e/bt)>this.c.length-2},o.isLessThan=o.lt=function(v,M){return Ri(this,new T(v,M))<0},o.isLessThanOrEqualTo=o.lte=function(v,M){return(M=Ri(this,new T(v,M)))===-1||M===0},o.isNaN=function(){return!this.s},o.isNegative=function(){return this.s<0},o.isPositive=function(){return this.s>0},o.isZero=function(){return!!this.c&&this.c[0]==0},o.minus=function(v,M){var B,k,S,D,z=this,j=z.s;if(v=new T(v,M),M=v.s,!j||!M)return new T(NaN);if(j!=M)return v.s=-M,z.plus(v);var V=z.e/bt,ne=v.e/bt,re=z.c,Le=v.c;if(!V||!ne){if(!re||!Le)return re?(v.s=-M,v):new T(Le?z:NaN);if(!re[0]||!Le[0])return Le[0]?(v.s=-M,v):new T(re[0]?z:d==3?-0:0)}if(V=bn(V),ne=bn(ne),re=re.slice(),j=V-ne){for((D=j<0)?(j=-j,S=re):(ne=V,S=Le),S.reverse(),M=j;M--;S.push(0));S.reverse()}else for(k=(D=(j=re.length)<(M=Le.length))?j:M,j=M=0;M<k;M++)if(re[M]!=Le[M]){D=re[M]<Le[M];break}if(D&&(S=re,re=Le,Le=S,v.s=-v.s),M=(k=Le.length)-(B=re.length),M>0)for(;M--;re[B++]=0);for(M=ei-1;k>j;){if(re[--k]<Le[k]){for(B=k;B&&!re[--B];re[B]=M);--re[B],re[k]+=ei}re[k]-=Le[k]}for(;re[0]==0;re.splice(0,1),--ne);return re[0]?se(v,re,ne):(v.s=d==3?-1:1,v.c=[v.e=0],v)},o.modulo=o.mod=function(v,M){var B,k,S=this;return v=new T(v,M),!S.c||!v.s||v.c&&!v.c[0]?new T(NaN):!v.c||S.c&&!S.c[0]?new T(S):(J==9?(k=v.s,v.s=1,B=r(S,v,0,3),v.s=k,B.s*=k):B=r(S,v,0,J),v=S.minus(B.times(v)),!v.c[0]&&J==1&&(v.s=S.s),v)},o.multipliedBy=o.times=function(v,M){var B,k,S,D,z,j,V,ne,re,Le,$e,Qe,Ge,He,ut,ht=this,gt=ht.c,er=(v=new T(v,M)).c;if(!gt||!er||!gt[0]||!er[0])return!ht.s||!v.s||gt&&!gt[0]&&!er||er&&!er[0]&&!gt?v.c=v.e=v.s=null:(v.s*=ht.s,!gt||!er?v.c=v.e=null:(v.c=[0],v.e=0)),v;for(k=bn(ht.e/bt)+bn(v.e/bt),v.s*=ht.s,V=gt.length,Le=er.length,V<Le&&(Ge=gt,gt=er,er=Ge,S=V,V=Le,Le=S),S=V+Le,Ge=[];S--;Ge.push(0));for(He=ei,ut=Zi,S=Le;--S>=0;){for(B=0,$e=er[S]%ut,Qe=er[S]/ut|0,z=V,D=S+z;D>S;)ne=gt[--z]%ut,re=gt[z]/ut|0,j=Qe*ne+re*$e,ne=$e*ne+j%ut*ut+Ge[D]+B,B=(ne/He|0)+(j/ut|0)+Qe*re,Ge[D--]=ne%He;Ge[D]=B}return B?++k:Ge.splice(0,1),se(v,Ge,k)},o.negated=function(){var v=new T(this);return v.s=-v.s||null,v},o.plus=function(v,M){var B,k=this,S=k.s;if(v=new T(v,M),M=v.s,!S||!M)return new T(NaN);if(S!=M)return v.s=-M,k.minus(v);var D=k.e/bt,z=v.e/bt,j=k.c,V=v.c;if(!D||!z){if(!j||!V)return new T(S/0);if(!j[0]||!V[0])return V[0]?v:new T(j[0]?k:S*0)}if(D=bn(D),z=bn(z),j=j.slice(),S=D-z){for(S>0?(z=D,B=V):(S=-S,B=j),B.reverse();S--;B.push(0));B.reverse()}for(S=j.length,M=V.length,S-M<0&&(B=V,V=j,j=B,M=S),S=0;M;)S=(j[--M]=j[M]+V[M]+S)/ei|0,j[M]=ei===j[M]?0:j[M]%ei;return S&&(j=[S].concat(j),++z),se(v,j,z)},o.precision=o.sd=function(v,M){var B,k,S,D=this;if(v!=null&&v!==!!v)return lr(v,1,wr),M==null?M=d:lr(M,0,8),Z(new T(D),v,M);if(!(B=D.c))return null;if(S=B.length-1,k=S*bt+1,S=B[S]){for(;S%10==0;S/=10,k--);for(S=B[0];S>=10;S/=10,k++);}return v&&D.e+1>k&&(k=D.e+1),k},o.shiftedBy=function(v){return lr(v,-js,js),this.times("1e"+v)},o.squareRoot=o.sqrt=function(){var v,M,B,k,S,D=this,z=D.c,j=D.s,V=D.e,ne=c+4,re=new T("0.5");if(j!==1||!z||!z[0])return new T(!j||j<0&&(!z||z[0])?NaN:z?D:1/0);if(j=Math.sqrt(+ae(D)),j==0||j==1/0?(M=Cn(z),(M.length+V)%2==0&&(M+="0"),j=Math.sqrt(+M),V=bn((V+1)/2)-(V<0||V%2),j==1/0?M="5e"+V:(M=j.toExponential(),M=M.slice(0,M.indexOf("e")+1)+V),B=new T(M)):B=new T(j+""),B.c[0]){for(V=B.e,j=V+ne,j<3&&(j=0);;)if(S=B,B=re.times(S.plus(r(D,S,ne,1))),Cn(S.c).slice(0,j)===(M=Cn(B.c)).slice(0,j))if(B.e<V&&--j,M=M.slice(j-3,j+1),M=="9999"||!k&&M=="4999"){if(!k&&(Z(S,S.e+c+2,0),S.times(S).eq(D))){B=S;break}ne+=4,j+=4,k=1}else{(!+M||!+M.slice(1)&&M.charAt(0)=="5")&&(Z(B,B.e+c+2,1),v=!B.times(B).eq(D));break}}return Z(B,B.e+c+1,d,v)},o.toExponential=function(v,M){return v!=null&&(lr(v,0,wr),v++),U(this,v,M,1)},o.toFixed=function(v,M){return v!=null&&(lr(v,0,wr),v=v+this.e+1),U(this,v,M)},o.toFormat=function(v,M,B){var k,S=this;if(B==null)v!=null&&M&&typeof M=="object"?(B=M,M=null):v&&typeof v=="object"?(B=v,v=M=null):B=De;else if(typeof B!="object")throw Error(yn+"Argument not an object: "+B);if(k=S.toFixed(v,M),S.c){var D,z=k.split("."),j=+B.groupSize,V=+B.secondaryGroupSize,ne=B.groupSeparator||"",re=z[0],Le=z[1],$e=S.s<0,Qe=$e?re.slice(1):re,Ge=Qe.length;if(V&&(D=j,j=V,V=D,Ge-=D),j>0&&Ge>0){for(D=Ge%j||j,re=Qe.substr(0,D);D<Ge;D+=j)re+=ne+Qe.substr(D,j);V>0&&(re+=ne+Qe.slice(D)),$e&&(re="-"+re)}k=Le?re+(B.decimalSeparator||"")+((V=+B.fractionGroupSize)?Le.replace(new RegExp("\\d{"+V+"}\\B","g"),"$&"+(B.fractionGroupSeparator||"")):Le):re}return(B.prefix||"")+k+(B.suffix||"")},o.toFraction=function(v){var M,B,k,S,D,z,j,V,ne,re,Le,$e,Qe=this,Ge=Qe.c;if(v!=null&&(j=new T(v),!j.isInteger()&&(j.c||j.s!==1)||j.lt(u)))throw Error(yn+"Argument "+(j.isInteger()?"out of range: ":"not an integer: ")+ae(j));if(!Ge)return new T(Qe);for(M=new T(u),ne=B=new T(u),k=V=new T(u),$e=Cn(Ge),D=M.e=$e.length-Qe.e-1,M.c[0]=zs[(z=D%bt)<0?bt+z:z],v=!v||j.comparedTo(M)>0?D>0?M:ne:j,z=I,I=1/0,j=new T($e),V.c[0]=0;re=r(j,M,0,1),S=B.plus(re.times(k)),S.comparedTo(v)!=1;)B=k,k=S,ne=V.plus(re.times(S=ne)),V=S,M=j.minus(re.times(S=M)),j=S;return S=r(v.minus(B),k,0,1),V=V.plus(S.times(ne)),B=B.plus(S.times(k)),V.s=ne.s=Qe.s,D=D*2,Le=r(ne,k,D,d).minus(Qe).abs().comparedTo(r(V,B,D,d).minus(Qe).abs())<1?[ne,k]:[V,B],I=z,Le},o.toNumber=function(){return+ae(this)},o.toPrecision=function(v,M){return v!=null&&lr(v,1,wr),U(this,v,M,2)},o.toString=function(v){var M,B=this,k=B.s,S=B.e;return S===null?k?(M="Infinity",k<0&&(M="-"+M)):M="NaN":(v==null?M=S<=_||S>=C?va(Cn(B.c),S):Dn(Cn(B.c),S,"0"):v===10&&xt?(B=Z(new T(B),c+S+1,d),M=Dn(Cn(B.c),B.e,"0")):(lr(v,2,Je.length,"Base"),M=i(Dn(Cn(B.c),S,"0"),10,v,k,!0)),k<0&&B.c[0]&&(M="-"+M)),M},o.valueOf=o.toJSON=function(){return ae(this)},o._isBigNumber=!0,o[Symbol.toStringTag]="BigNumber",o[Symbol.for("nodejs.util.inspect.custom")]=o.valueOf,e!=null&&T.set(e),T}function bn(e){var r=e|0;return e>0||e===r?r:r-1}function Cn(e){for(var r,i,a=1,o=e.length,u=e[0]+"";a<o;){for(r=e[a++]+"",i=bt-r.length;i--;r="0"+r);u+=r}for(o=u.length;u.charCodeAt(--o)===48;);return u.slice(0,o+1||1)}function Ri(e,r){var i,a,o=e.c,u=r.c,c=e.s,d=r.s,_=e.e,C=r.e;if(!c||!d)return null;if(i=o&&!o[0],a=u&&!u[0],i||a)return i?a?0:-d:c;if(c!=d)return c;if(i=c<0,a=_==C,!o||!u)return a?0:!o^i?1:-1;if(!a)return _>C^i?1:-1;for(d=(_=o.length)<(C=u.length)?_:C,c=0;c<d;c++)if(o[c]!=u[c])return o[c]>u[c]^i?1:-1;return _==C?0:_>C^i?1:-1}function lr(e,r,i,a){if(e<r||e>i||e!==Vn(e))throw Error(yn+(a||"Argument")+(typeof e=="number"?e<r||e>i?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function Qi(e){var r=e.c.length-1;return bn(e.e/bt)==r&&e.c[r]%2!=0}function va(e,r){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(r<0?"e":"e+")+r}function Dn(e,r,i){var a,o;if(r<0){for(o=i+".";++r;o+=i);e=o+e}else if(a=e.length,++r>a){for(o=i,r-=a;--r;o+=i);e+=o}else r<a&&(e=e.slice(0,r)+"."+e.slice(r));return e}var yu=vu(),yi=yu,Al=class{key;left=null;right=null;constructor(e){this.key=e}},ko=class extends Al{constructor(e){super(e)}},Sl=class{size=0;modificationCount=0;splayCount=0;splay(e){let r=this.root;if(r==null)return this.compare(e,e),-1;let i=null,a=null,o=null,u=null,c=r,d=this.compare,_;for(;;)if(_=d(c.key,e),_>0){let C=c.left;if(C==null||(_=d(C.key,e),_>0&&(c.left=C.right,C.right=c,c=C,C=c.left,C==null)))break;i==null?a=c:i.left=c,i=c,c=C}else if(_<0){let C=c.right;if(C==null||(_=d(C.key,e),_<0&&(c.right=C.left,C.left=c,c=C,C=c.right,C==null)))break;o==null?u=c:o.right=c,o=c,c=C}else break;return o!=null&&(o.right=c.left,c.left=u),i!=null&&(i.left=c.right,c.right=a),this.root!==c&&(this.root=c,this.splayCount++),_}splayMin(e){let r=e,i=r.left;for(;i!=null;){let a=i;r.left=a.right,a.right=r,r=a,i=r.left}return r}splayMax(e){let r=e,i=r.right;for(;i!=null;){let a=i;r.right=a.left,a.left=r,r=a,i=r.right}return r}_delete(e){if(this.root==null||this.splay(e)!=0)return null;let r=this.root,i=r,a=r.left;if(this.size--,a==null)this.root=r.right;else{let o=r.right;r=this.splayMax(a),r.right=o,this.root=r}return this.modificationCount++,i}addNewRoot(e,r){this.size++,this.modificationCount++;let i=this.root;if(i==null){this.root=e;return}r<0?(e.left=i,e.right=i.right,i.right=null):(e.right=i,e.left=i.left,i.left=null),this.root=e}_first(){let e=this.root;return e==null?null:(this.root=this.splayMin(e),this.root)}_last(){let e=this.root;return e==null?null:(this.root=this.splayMax(e),this.root)}clear(){this.root=null,this.size=0,this.modificationCount++}has(e){return this.validKey(e)&&this.splay(e)==0}defaultCompare(){return(e,r)=>e<r?-1:e>r?1:0}wrap(){return{getRoot:()=>this.root,setRoot:e=>{this.root=e},getSize:()=>this.size,getModificationCount:()=>this.modificationCount,getSplayCount:()=>this.splayCount,setSplayCount:e=>{this.splayCount=e},splay:e=>this.splay(e),has:e=>this.has(e)}}},as=class iu extends Sl{root=null;compare;validKey;constructor(r,i){super(),this.compare=r??this.defaultCompare(),this.validKey=i??(a=>a!=null&&a!=null)}delete(r){return this.validKey(r)?this._delete(r)!=null:!1}deleteAll(r){for(let i of r)this.delete(i)}forEach(r){let i=this[Symbol.iterator](),a;for(;a=i.next(),!a.done;)r(a.value,a.value,this)}add(r){let i=this.splay(r);return i!=0&&this.addNewRoot(new ko(r),i),this}addAndReturn(r){let i=this.splay(r);return i!=0&&this.addNewRoot(new ko(r),i),this.root.key}addAll(r){for(let i of r)this.add(i)}isEmpty(){return this.root==null}isNotEmpty(){return this.root!=null}single(){if(this.size==0)throw"Bad state: No element";if(this.size>1)throw"Bad state: Too many element";return this.root.key}first(){if(this.size==0)throw"Bad state: No element";return this._first().key}last(){if(this.size==0)throw"Bad state: No element";return this._last().key}lastBefore(r){if(r==null)throw"Invalid arguments(s)";if(this.root==null)return null;if(this.splay(r)<0)return this.root.key;let i=this.root.left;if(i==null)return null;let a=i.right;for(;a!=null;)i=a,a=i.right;return i.key}firstAfter(r){if(r==null)throw"Invalid arguments(s)";if(this.root==null)return null;if(this.splay(r)>0)return this.root.key;let i=this.root.right;if(i==null)return null;let a=i.left;for(;a!=null;)i=a,a=i.left;return i.key}retainAll(r){let i=new iu(this.compare,this.validKey),a=this.modificationCount;for(let o of r){if(a!=this.modificationCount)throw"Concurrent modification during iteration.";this.validKey(o)&&this.splay(o)==0&&i.add(this.root.key)}i.size!=this.size&&(this.root=i.root,this.size=i.size,this.modificationCount++)}lookup(r){return!this.validKey(r)||this.splay(r)!=0?null:this.root.key}intersection(r){let i=new iu(this.compare,this.validKey);for(let a of this)r.has(a)&&i.add(a);return i}difference(r){let i=new iu(this.compare,this.validKey);for(let a of this)r.has(a)||i.add(a);return i}union(r){let i=this.clone();return i.addAll(r),i}clone(){let r=new iu(this.compare,this.validKey);return r.size=this.size,r.root=this.copyNode(this.root),r}copyNode(r){if(r==null)return null;function i(o,u){let c,d;do{if(c=o.left,d=o.right,c!=null){let _=new ko(c.key);u.left=_,i(c,_)}if(d!=null){let _=new ko(d.key);u.right=_,o=d,u=_}}while(d!=null)}let a=new ko(r.key);return i(r,a),a}toSet(){return this.clone()}entries(){return new Pl(this.wrap())}keys(){return this[Symbol.iterator]()}values(){return this[Symbol.iterator]()}[Symbol.iterator](){return new Dl(this.wrap())}[Symbol.toStringTag]="[object Set]"},bu=class{tree;path=new Array;modificationCount=null;splayCount;constructor(e){this.tree=e,this.splayCount=e.getSplayCount()}[Symbol.iterator](){return this}next(){return this.moveNext()?{done:!1,value:this.current()}:{done:!0,value:null}}current(){if(!this.path.length)return null;let e=this.path[this.path.length-1];return this.getValue(e)}rebuildPath(e){this.path.splice(0,this.path.length),this.tree.splay(e),this.path.push(this.tree.getRoot()),this.splayCount=this.tree.getSplayCount()}findLeftMostDescendent(e){for(;e!=null;)this.path.push(e),e=e.left}moveNext(){if(this.modificationCount!=this.tree.getModificationCount()){if(this.modificationCount==null){this.modificationCount=this.tree.getModificationCount();let i=this.tree.getRoot();for(;i!=null;)this.path.push(i),i=i.left;return this.path.length>0}throw"Concurrent modification during iteration."}if(!this.path.length)return!1;this.splayCount!=this.tree.getSplayCount()&&this.rebuildPath(this.path[this.path.length-1].key);let e=this.path[this.path.length-1],r=e.right;if(r!=null){for(;r!=null;)this.path.push(r),r=r.left;return!0}for(this.path.pop();this.path.length&&this.path[this.path.length-1].right===e;)e=this.path.pop();return this.path.length>0}},Dl=class extends bu{getValue(e){return e.key}},Pl=class extends bu{getValue(e){return[e.key,e.key]}},Tl=e=>e,Rl=e=>{if(e){let r=new as(ns(e)),i=new as(ns(e)),a=(u,c)=>c.addAndReturn(u),o=u=>({x:a(u.x,r),y:a(u.y,i)});return o({x:new yi(0),y:new yi(0)}),o}return Tl},f=e=>({set:r=>{p=f(r)},reset:()=>f(e),compare:ns(e),snap:Rl(e),orient:tc(e)}),p=f(),l=(e,r)=>e.ll.x.isLessThanOrEqualTo(r.x)&&r.x.isLessThanOrEqualTo(e.ur.x)&&e.ll.y.isLessThanOrEqualTo(r.y)&&r.y.isLessThanOrEqualTo(e.ur.y),x=(e,r)=>{if(r.ur.x.isLessThan(e.ll.x)||e.ur.x.isLessThan(r.ll.x)||r.ur.y.isLessThan(e.ll.y)||e.ur.y.isLessThan(r.ll.y))return null;let i=e.ll.x.isLessThan(r.ll.x)?r.ll.x:e.ll.x,a=e.ur.x.isLessThan(r.ur.x)?e.ur.x:r.ur.x,o=e.ll.y.isLessThan(r.ll.y)?r.ll.y:e.ll.y,u=e.ur.y.isLessThan(r.ur.y)?e.ur.y:r.ur.y;return{ll:{x:i,y:o},ur:{x:a,y:u}}},O=(e,r)=>e.x.times(r.y).minus(e.y.times(r.x)),G=(e,r)=>e.x.times(r.x).plus(e.y.times(r.y)),W=e=>G(e,e).sqrt(),Y=(e,r,i)=>{let a={x:r.x.minus(e.x),y:r.y.minus(e.y)},o={x:i.x.minus(e.x),y:i.y.minus(e.y)};return O(o,a).div(W(o)).div(W(a))},Ce=(e,r,i)=>{let a={x:r.x.minus(e.x),y:r.y.minus(e.y)},o={x:i.x.minus(e.x),y:i.y.minus(e.y)};return G(o,a).div(W(o)).div(W(a))},de=(e,r,i)=>r.y.isZero()?null:{x:e.x.plus(r.x.div(r.y).times(i.minus(e.y))),y:i},ke=(e,r,i)=>r.x.isZero()?null:{x:i,y:e.y.plus(r.y.div(r.x).times(i.minus(e.x)))},Be=(e,r,i,a)=>{if(r.x.isZero())return ke(i,a,e.x);if(a.x.isZero())return ke(e,r,i.x);if(r.y.isZero())return de(i,a,e.y);if(a.y.isZero())return de(e,r,i.y);let o=O(r,a);if(o.isZero())return null;let u={x:i.x.minus(e.x),y:i.y.minus(e.y)},c=O(u,r).div(o),d=O(u,a).div(o),_=e.x.plus(d.times(r.x)),C=i.x.plus(c.times(a.x)),F=e.y.plus(d.times(r.y)),I=i.y.plus(c.times(a.y)),ie=_.plus(C).div(2),J=F.plus(I).div(2);return{x:ie,y:J}},Me=class B0{point;isLeft;segment;otherSE;consumedBy;static compare(r,i){let a=B0.comparePoints(r.point,i.point);return a!==0?a:(r.point!==i.point&&r.link(i),r.isLeft!==i.isLeft?r.isLeft?1:-1:me.compare(r.segment,i.segment))}static comparePoints(r,i){return r.x.isLessThan(i.x)?-1:r.x.isGreaterThan(i.x)?1:r.y.isLessThan(i.y)?-1:r.y.isGreaterThan(i.y)?1:0}constructor(r,i){r.events===void 0?r.events=[this]:r.events.push(this),this.point=r,this.isLeft=i}link(r){if(r.point===this.point)throw new Error("Tried to link already linked events");let i=r.point.events;for(let a=0,o=i.length;a<o;a++){let u=i[a];this.point.events.push(u),u.point=this.point}this.checkForConsuming()}checkForConsuming(){let r=this.point.events.length;for(let i=0;i<r;i++){let a=this.point.events[i];if(a.segment.consumedBy===void 0)for(let o=i+1;o<r;o++){let u=this.point.events[o];u.consumedBy===void 0&&a.otherSE.point.events===u.otherSE.point.events&&a.segment.consume(u.segment)}}}getAvailableLinkedEvents(){let r=[];for(let i=0,a=this.point.events.length;i<a;i++){let o=this.point.events[i];o!==this&&!o.segment.ringOut&&o.segment.isInResult()&&r.push(o)}return r}getLeftmostComparator(r){let i=new Map,a=o=>{let u=o.otherSE;i.set(o,{sine:Y(this.point,r.point,u.point),cosine:Ce(this.point,r.point,u.point)})};return(o,u)=>{i.has(o)||a(o),i.has(u)||a(u);let{sine:c,cosine:d}=i.get(o),{sine:_,cosine:C}=i.get(u);return c.isGreaterThanOrEqualTo(0)&&_.isGreaterThanOrEqualTo(0)?d.isLessThan(C)?1:d.isGreaterThan(C)?-1:0:c.isLessThan(0)&&_.isLessThan(0)?d.isLessThan(C)?-1:d.isGreaterThan(C)?1:0:_.isLessThan(c)?-1:_.isGreaterThan(c)?1:0}}},ve=0,me=class sl{id;leftSE;rightSE;rings;windings;ringOut;consumedBy;prev;_prevInResult;_beforeState;_afterState;_isInResult;static compare(r,i){let a=r.leftSE.point.x,o=i.leftSE.point.x,u=r.rightSE.point.x,c=i.rightSE.point.x;if(c.isLessThan(a))return 1;if(u.isLessThan(o))return-1;let d=r.leftSE.point.y,_=i.leftSE.point.y,C=r.rightSE.point.y,F=i.rightSE.point.y;if(a.isLessThan(o)){if(_.isLessThan(d)&&_.isLessThan(C))return 1;if(_.isGreaterThan(d)&&_.isGreaterThan(C))return-1;let I=r.comparePoint(i.leftSE.point);if(I<0)return 1;if(I>0)return-1;let ie=i.comparePoint(r.rightSE.point);return ie!==0?ie:-1}if(a.isGreaterThan(o)){if(d.isLessThan(_)&&d.isLessThan(F))return-1;if(d.isGreaterThan(_)&&d.isGreaterThan(F))return 1;let I=i.comparePoint(r.leftSE.point);if(I!==0)return I;let ie=r.comparePoint(i.rightSE.point);return ie<0?1:ie>0?-1:1}if(d.isLessThan(_))return-1;if(d.isGreaterThan(_))return 1;if(u.isLessThan(c)){let I=i.comparePoint(r.rightSE.point);if(I!==0)return I}if(u.isGreaterThan(c)){let I=r.comparePoint(i.rightSE.point);if(I<0)return 1;if(I>0)return-1}if(!u.eq(c)){let I=C.minus(d),ie=u.minus(a),J=F.minus(_),_e=c.minus(o);if(I.isGreaterThan(ie)&&J.isLessThan(_e))return 1;if(I.isLessThan(ie)&&J.isGreaterThan(_e))return-1}return u.isGreaterThan(c)?1:u.isLessThan(c)||C.isLessThan(F)?-1:C.isGreaterThan(F)?1:r.id<i.id?-1:r.id>i.id?1:0}constructor(r,i,a,o){this.id=++ve,this.leftSE=r,r.segment=this,r.otherSE=i,this.rightSE=i,i.segment=this,i.otherSE=r,this.rings=a,this.windings=o}static fromRing(r,i,a){let o,u,c,d=Me.comparePoints(r,i);if(d<0)o=r,u=i,c=1;else if(d>0)o=i,u=r,c=-1;else throw new Error(`Tried to create degenerate segment at [${r.x}, ${r.y}]`);let _=new Me(o,!0),C=new Me(u,!1);return new sl(_,C,[a],[c])}replaceRightSE(r){this.rightSE=r,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}bbox(){let r=this.leftSE.point.y,i=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:r.isLessThan(i)?r:i},ur:{x:this.rightSE.point.x,y:r.isGreaterThan(i)?r:i}}}vector(){return{x:this.rightSE.point.x.minus(this.leftSE.point.x),y:this.rightSE.point.y.minus(this.leftSE.point.y)}}isAnEndpoint(r){return r.x.eq(this.leftSE.point.x)&&r.y.eq(this.leftSE.point.y)||r.x.eq(this.rightSE.point.x)&&r.y.eq(this.rightSE.point.y)}comparePoint(r){return p.orient(this.leftSE.point,r,this.rightSE.point)}getIntersection(r){let i=this.bbox(),a=r.bbox(),o=x(i,a);if(o===null)return null;let u=this.leftSE.point,c=this.rightSE.point,d=r.leftSE.point,_=r.rightSE.point,C=l(i,d)&&this.comparePoint(d)===0,F=l(a,u)&&r.comparePoint(u)===0,I=l(i,_)&&this.comparePoint(_)===0,ie=l(a,c)&&r.comparePoint(c)===0;if(F&&C)return ie&&!I?c:!ie&&I?_:null;if(F)return I&&u.x.eq(_.x)&&u.y.eq(_.y)?null:u;if(C)return ie&&c.x.eq(d.x)&&c.y.eq(d.y)?null:d;if(ie&&I)return null;if(ie)return c;if(I)return _;let J=Be(u,this.vector(),d,r.vector());return J===null||!l(o,J)?null:p.snap(J)}split(r){let i=[],a=r.events!==void 0,o=new Me(r,!0),u=new Me(r,!1),c=this.rightSE;this.replaceRightSE(u),i.push(u),i.push(o);let d=new sl(o,c,this.rings.slice(),this.windings.slice());return Me.comparePoints(d.leftSE.point,d.rightSE.point)>0&&d.swapEvents(),Me.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),a&&(o.checkForConsuming(),u.checkForConsuming()),i}swapEvents(){let r=this.rightSE;this.rightSE=this.leftSE,this.leftSE=r,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(let i=0,a=this.windings.length;i<a;i++)this.windings[i]*=-1}consume(r){let i=this,a=r;for(;i.consumedBy;)i=i.consumedBy;for(;a.consumedBy;)a=a.consumedBy;let o=sl.compare(i,a);if(o!==0){if(o>0){let u=i;i=a,a=u}if(i.prev===a){let u=i;i=a,a=u}for(let u=0,c=a.rings.length;u<c;u++){let d=a.rings[u],_=a.windings[u],C=i.rings.indexOf(d);C===-1?(i.rings.push(d),i.windings.push(_)):i.windings[C]+=_}a.rings=null,a.windings=null,a.consumedBy=i,a.leftSE.consumedBy=i.leftSE,a.rightSE.consumedBy=i.rightSE}}prevInResult(){return this._prevInResult!==void 0?this._prevInResult:(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null,this._prevInResult)}beforeState(){if(this._beforeState!==void 0)return this._beforeState;if(!this.prev)this._beforeState={rings:[],windings:[],multiPolys:[]};else{let r=this.prev.consumedBy||this.prev;this._beforeState=r.afterState()}return this._beforeState}afterState(){if(this._afterState!==void 0)return this._afterState;let r=this.beforeState();this._afterState={rings:r.rings.slice(0),windings:r.windings.slice(0),multiPolys:[]};let i=this._afterState.rings,a=this._afterState.windings,o=this._afterState.multiPolys;for(let d=0,_=this.rings.length;d<_;d++){let C=this.rings[d],F=this.windings[d],I=i.indexOf(C);I===-1?(i.push(C),a.push(F)):a[I]+=F}let u=[],c=[];for(let d=0,_=i.length;d<_;d++){if(a[d]===0)continue;let C=i[d],F=C.poly;if(c.indexOf(F)===-1)if(C.isExterior)u.push(F);else{c.indexOf(F)===-1&&c.push(F);let I=u.indexOf(C.poly);I!==-1&&u.splice(I,1)}}for(let d=0,_=u.length;d<_;d++){let C=u[d].multiPoly;o.indexOf(C)===-1&&o.push(C)}return this._afterState}isInResult(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;let r=this.beforeState().multiPolys,i=this.afterState().multiPolys;switch(Ct.type){case"union":{let a=r.length===0,o=i.length===0;this._isInResult=a!==o;break}case"intersection":{let a,o;r.length<i.length?(a=r.length,o=i.length):(a=i.length,o=r.length),this._isInResult=o===Ct.numMultiPolys&&a<o;break}case"xor":{let a=Math.abs(r.length-i.length);this._isInResult=a%2===1;break}case"difference":{let a=o=>o.length===1&&o[0].isSubject;this._isInResult=a(r)!==a(i);break}}return this._isInResult}},le=class{poly;isExterior;segments;bbox;constructor(e,r,i){if(!Array.isArray(e)||e.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=r,this.isExterior=i,this.segments=[],typeof e[0][0]!="number"||typeof e[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");let a=p.snap({x:new yi(e[0][0]),y:new yi(e[0][1])});this.bbox={ll:{x:a.x,y:a.y},ur:{x:a.x,y:a.y}};let o=a;for(let u=1,c=e.length;u<c;u++){if(typeof e[u][0]!="number"||typeof e[u][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");let d=p.snap({x:new yi(e[u][0]),y:new yi(e[u][1])});d.x.eq(o.x)&&d.y.eq(o.y)||(this.segments.push(me.fromRing(o,d,this)),d.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=d.x),d.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=d.y),d.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=d.x),d.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=d.y),o=d)}(!a.x.eq(o.x)||!a.y.eq(o.y))&&this.segments.push(me.fromRing(o,a,this))}getSweepEvents(){let e=[];for(let r=0,i=this.segments.length;r<i;r++){let a=this.segments[r];e.push(a.leftSE),e.push(a.rightSE)}return e}},ge=class{multiPoly;exteriorRing;interiorRings;bbox;constructor(e,r){if(!Array.isArray(e))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new le(e[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(let i=1,a=e.length;i<a;i++){let o=new le(e[i],this,!1);o.bbox.ll.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=o.bbox.ll.x),o.bbox.ll.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=o.bbox.ll.y),o.bbox.ur.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=o.bbox.ur.x),o.bbox.ur.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=o.bbox.ur.y),this.interiorRings.push(o)}this.multiPoly=r}getSweepEvents(){let e=this.exteriorRing.getSweepEvents();for(let r=0,i=this.interiorRings.length;r<i;r++){let a=this.interiorRings[r].getSweepEvents();for(let o=0,u=a.length;o<u;o++)e.push(a[o])}return e}},he=class{isSubject;polys;bbox;constructor(e,r){if(!Array.isArray(e))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof e[0][0][0]=="number"&&(e=[e])}catch{}this.polys=[],this.bbox={ll:{x:new yi(Number.POSITIVE_INFINITY),y:new yi(Number.POSITIVE_INFINITY)},ur:{x:new yi(Number.NEGATIVE_INFINITY),y:new yi(Number.NEGATIVE_INFINITY)}};for(let i=0,a=e.length;i<a;i++){let o=new ge(e[i],this);o.bbox.ll.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=o.bbox.ll.x),o.bbox.ll.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=o.bbox.ll.y),o.bbox.ur.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=o.bbox.ur.x),o.bbox.ur.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=o.bbox.ur.y),this.polys.push(o)}this.isSubject=r}getSweepEvents(){let e=[];for(let r=0,i=this.polys.length;r<i;r++){let a=this.polys[r].getSweepEvents();for(let o=0,u=a.length;o<u;o++)e.push(a[o])}return e}},oe=class $h{events;poly;_isExteriorRing;_enclosingRing;static factory(r){let i=[];for(let a=0,o=r.length;a<o;a++){let u=r[a];if(!u.isInResult()||u.ringOut)continue;let c=null,d=u.leftSE,_=u.rightSE,C=[d],F=d.point,I=[];for(;c=d,d=_,C.push(d),d.point!==F;)for(;;){let ie=d.getAvailableLinkedEvents();if(ie.length===0){let De=C[0].point,Je=C[C.length-1].point;throw new Error(`Unable to complete output ring starting at [${De.x}, ${De.y}]. Last matching segment found ends at [${Je.x}, ${Je.y}].`)}if(ie.length===1){_=ie[0].otherSE;break}let J=null;for(let De=0,Je=I.length;De<Je;De++)if(I[De].point===d.point){J=De;break}if(J!==null){let De=I.splice(J)[0],Je=C.splice(De.index);Je.unshift(Je[0].otherSE),i.push(new $h(Je.reverse()));continue}I.push({index:C.length,point:d.point});let _e=d.getLeftmostComparator(c);_=ie.sort(_e)[0].otherSE;break}i.push(new $h(C))}return i}constructor(r){this.events=r;for(let i=0,a=r.length;i<a;i++)r[i].segment.ringOut=this;this.poly=null}getGeom(){let r=this.events[0].point,i=[r];for(let C=1,F=this.events.length-1;C<F;C++){let I=this.events[C].point,ie=this.events[C+1].point;p.orient(I,r,ie)!==0&&(i.push(I),r=I)}if(i.length===1)return null;let a=i[0],o=i[1];p.orient(a,r,o)===0&&i.shift(),i.push(i[0]);let u=this.isExteriorRing()?1:-1,c=this.isExteriorRing()?0:i.length-1,d=this.isExteriorRing()?i.length:-1,_=[];for(let C=c;C!=d;C+=u)_.push([i[C].x.toNumber(),i[C].y.toNumber()]);return _}isExteriorRing(){if(this._isExteriorRing===void 0){let r=this.enclosingRing();this._isExteriorRing=r?!r.isExteriorRing():!0}return this._isExteriorRing}enclosingRing(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}_calcEnclosingRing(){let r=this.events[0];for(let o=1,u=this.events.length;o<u;o++){let c=this.events[o];Me.compare(r,c)>0&&(r=c)}let i=r.segment.prevInResult(),a=i?i.prevInResult():null;for(;;){if(!i)return null;if(!a)return i.ringOut;if(a.ringOut!==i.ringOut)return a.ringOut?.enclosingRing()!==i.ringOut?i.ringOut:i.ringOut?.enclosingRing();i=a.prevInResult(),a=i?i.prevInResult():null}}},Ie=class{exteriorRing;interiorRings;constructor(e){this.exteriorRing=e,e.poly=this,this.interiorRings=[]}addInterior(e){this.interiorRings.push(e),e.poly=this}getGeom(){let e=this.exteriorRing.getGeom();if(e===null)return null;let r=[e];for(let i=0,a=this.interiorRings.length;i<a;i++){let o=this.interiorRings[i].getGeom();o!==null&&r.push(o)}return r}},Xe=class{rings;polys;constructor(e){this.rings=e,this.polys=this._composePolys(e)}getGeom(){let e=[];for(let r=0,i=this.polys.length;r<i;r++){let a=this.polys[r].getGeom();a!==null&&e.push(a)}return e}_composePolys(e){let r=[];for(let i=0,a=e.length;i<a;i++){let o=e[i];if(!o.poly)if(o.isExteriorRing())r.push(new Ie(o));else{let u=o.enclosingRing();u?.poly||r.push(new Ie(u)),u?.poly?.addInterior(o)}}return r}},ue=class{queue;tree;segments;constructor(e,r=me.compare){this.queue=e,this.tree=new as(r),this.segments=[]}process(e){let r=e.segment,i=[];if(e.consumedBy)return e.isLeft?this.queue.delete(e.otherSE):this.tree.delete(r),i;e.isLeft&&this.tree.add(r);let a=r,o=r;do a=this.tree.lastBefore(a);while(a!=null&&a.consumedBy!=null);do o=this.tree.firstAfter(o);while(o!=null&&o.consumedBy!=null);if(e.isLeft){let u=null;if(a){let d=a.getIntersection(r);if(d!==null&&(r.isAnEndpoint(d)||(u=d),!a.isAnEndpoint(d))){let _=this._splitSafely(a,d);for(let C=0,F=_.length;C<F;C++)i.push(_[C])}}let c=null;if(o){let d=o.getIntersection(r);if(d!==null&&(r.isAnEndpoint(d)||(c=d),!o.isAnEndpoint(d))){let _=this._splitSafely(o,d);for(let C=0,F=_.length;C<F;C++)i.push(_[C])}}if(u!==null||c!==null){let d=null;u===null?d=c:c===null?d=u:d=Me.comparePoints(u,c)<=0?u:c,this.queue.delete(r.rightSE),i.push(r.rightSE);let _=r.split(d);for(let C=0,F=_.length;C<F;C++)i.push(_[C])}i.length>0?(this.tree.delete(r),i.push(e)):(this.segments.push(r),r.prev=a)}else{if(a&&o){let u=a.getIntersection(o);if(u!==null){if(!a.isAnEndpoint(u)){let c=this._splitSafely(a,u);for(let d=0,_=c.length;d<_;d++)i.push(c[d])}if(!o.isAnEndpoint(u)){let c=this._splitSafely(o,u);for(let d=0,_=c.length;d<_;d++)i.push(c[d])}}}this.tree.delete(r)}return i}_splitSafely(e,r){this.tree.delete(e);let i=e.rightSE;this.queue.delete(i);let a=e.split(r);return a.push(i),e.consumedBy===void 0&&this.tree.add(e),a}},qe=class{type;numMultiPolys;run(e,r,i){tt.type=e;let a=[new he(r,!0)];for(let _=0,C=i.length;_<C;_++)a.push(new he(i[_],!1));if(tt.numMultiPolys=a.length,tt.type==="difference"){let _=a[0],C=1;for(;C<a.length;)x(a[C].bbox,_.bbox)!==null?C++:a.splice(C,1)}if(tt.type==="intersection")for(let _=0,C=a.length;_<C;_++){let F=a[_];for(let I=_+1,ie=a.length;I<ie;I++)if(x(F.bbox,a[I].bbox)===null)return[]}let o=new as(Me.compare);for(let _=0,C=a.length;_<C;_++){let F=a[_].getSweepEvents();for(let I=0,ie=F.length;I<ie;I++)o.add(F[I])}let u=new ue(o),c=null;for(o.size!=0&&(c=o.first(),o.delete(c));c;){let _=u.process(c);for(let C=0,F=_.length;C<F;C++){let I=_[C];I.consumedBy===void 0&&o.add(I)}o.size!=0?(c=o.first(),o.delete(c)):c=null}p.reset();let d=oe.factory(u.segments);return new Xe(d).getGeom()}},tt=new qe,Ct=tt,nr=(e,...r)=>Ct.run("intersection",e,r),Dt=(e,...r)=>Ct.run("difference",e,r),Nt=p.set;function Qt(e){let r={type:"Feature"};return r.geometry=e,r}function Ln(e){return e.type==="Feature"?e.geometry:e}function Wn(e){return e&&e.geometry&&e.geometry.coordinates?e.geometry.coordinates:e}function vr(e){return Qt({type:"LineString",coordinates:e})}function hr(e){return Qt({type:"MultiLineString",coordinates:e})}function Ot(e){return Qt({type:"Polygon",coordinates:e})}function qt(e){return Qt({type:"MultiPolygon",coordinates:e})}function Vr(e,r){let i=Ln(e),a=Ln(r),o=nr(i.coordinates,a.coordinates);return o.length===0?null:o.length===1?Ot(o[0]):qt(o)}function hn(e,r){let i=Ln(e),a=Ln(r),o=Dt(i.coordinates,a.coordinates);return o.length===0?null:o.length===1?Ot(o[0]):qt(o)}function jt(e){return Array.isArray(e)?1+jt(e[0]):-1}function kr(e){e instanceof L.Polyline&&(e=e.toGeoJSON(15));let r=Wn(e),i=jt(r),a=[];return i>1?r.forEach(o=>{a.push(vr(o))}):a.push(e),a}function Nr(e){let r=[];return e.eachLayer(i=>{r.push(Wn(i.toGeoJSON(15)))}),hr(r)}Dr.Cut=Dr.Polygon.extend({initialize(e){this._map=e,this._shape="Cut",this.toolbarButtonName="cutPolygon"},_finishShape(){if(this._editedLayers=[],!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),this._doesSelfIntersect)||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;let e=this._layer.getLatLngs();if(e.length<=2)return;let r=L.polygon(e,this.options.pathOptions);r._latlngInfos=this._layer._latlngInfo,this.cut(r),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex,this._editedLayers.forEach(({layer:i,originalLayer:a})=>{this._fireCut(a,i,a),this._fireCut(this._map,i,a),a.pm._fireEdit()}),this._editedLayers=[],this.disable(),this.options.continueDrawing&&this.enable()},cut(e){let r=this._map._layers,i=e._latlngInfos||[];Object.keys(r).map(a=>r[a]).filter(a=>a.pm).filter(a=>!a._pmTempLayer).filter(a=>!L.PM.optIn&&!a.options.pmIgnore||L.PM.optIn&&a.options.pmIgnore===!1).filter(a=>a instanceof L.Polyline).filter(a=>a!==e).filter(a=>a.pm.options.allowCutting).filter(a=>this.options.layersToCut&&L.Util.isArray(this.options.layersToCut)&&this.options.layersToCut.length>0?this.options.layersToCut.indexOf(a)>-1:!0).filter(a=>!this._layerGroup.hasLayer(a)).filter(a=>{try{let o=!!ga(e.toGeoJSON(15),a.toGeoJSON(15)).features.length>0;return o||a instanceof L.Polyline&&!(a instanceof L.Polygon)?o:!!Vr(e.toGeoJSON(15),a.toGeoJSON(15))}catch{return a instanceof L.Polygon&&console.error("You can't cut polygons with self-intersections"),!1}}).forEach(a=>{let o;if(a instanceof L.Polygon){o=L.polygon(a.getLatLngs());let _=o.getLatLngs();i.forEach(C=>{if(C&&C.snapInfo){let{latlng:F}=C,I=this._calcClosestLayer(F,[o]);if(I&&I.segment&&I.distance<this.options.snapDistance){let{segment:ie}=I;if(ie&&ie.length===2){let{indexPath:J,parentPath:_e,newIndex:De}=L.PM.Utils._getIndexFromSegment(_,ie);(J.length>1?(0,kl.default)(_,_e):_).splice(De,0,F)}}}})}else o=a;let u=this._cutLayer(e,o),c=L.geoJSON(u,a.options);c.getLayers().length===1&&([c]=c.getLayers()),this._setPane(c,"layerPane");let d=c.addTo(this._map.pm._getContainingLayer());if(d.pm.enable(a.pm.options),d.pm.disable(),a._pmTempLayer=!0,e._pmTempLayer=!0,a.remove(),a.removeFrom(this._map.pm._getContainingLayer()),e.remove(),e.removeFrom(this._map.pm._getContainingLayer()),d.getLayers&&d.getLayers().length===0&&this._map.pm.removeLayer({target:d}),d instanceof L.LayerGroup?(d.eachLayer(_=>{this._addDrawnLayerProp(_)}),this._addDrawnLayerProp(d)):this._addDrawnLayerProp(d),this.options.layersToCut&&L.Util.isArray(this.options.layersToCut)&&this.options.layersToCut.length>0){let _=this.options.layersToCut.indexOf(a);_>-1&&this.options.layersToCut.splice(_,1)}this._editedLayers.push({layer:d,originalLayer:a})})},_cutLayer(e,r){let i=L.geoJSON(),a;if(r instanceof L.Polygon)a=hn(r.toGeoJSON(15),e.toGeoJSON(15));else{let o=kr(r);o.forEach(u=>{let c=qh(u,e.toGeoJSON(15)),d;c&&c.features.length>0?d=L.geoJSON(c):d=L.geoJSON(u),d.getLayers().forEach(_=>{Qh(e.toGeoJSON(15),_.toGeoJSON(15))||_.addTo(i)})}),o.length>1?a=Nr(i):a=i.toGeoJSON(15)}return a},_change:L.Util.falseFn}),Dr.Text=Dr.extend({initialize(e){this._map=e,this._shape="Text",this.toolbarButtonName="drawText"},enable(e){L.Util.setOptions(this,e),this._enabled=!0,this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(ze("tooltips.placeText"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this._map.getContainer().classList.add("geoman-draw-cursor"),this._fireDrawStart(),this._setGlobalDrawMode()},disable(){this._enabled&&(this._enabled=!1,this._map.off("click",this._createMarker,this),this._hintMarker?.remove(),this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(e){this.enabled()?this.disable():this.enable(e)},_syncHintMarker(e){if(this._hintMarker.setLatLng(e.latlng),this.options.snappable){let r=e;r.target=this._hintMarker,this._handleSnapping(r)}},_createMarker(e){if(!e.latlng||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;this._hintMarker._snapped||this._hintMarker.setLatLng(e.latlng);let r=this._hintMarker.getLatLng();if(this.textArea=this._createTextArea(),this.options.textOptions?.className){let o=this.options.textOptions.className.split(" ");this.textArea.classList.add(...o)}let i=this._createTextIcon(this.textArea),a=new L.Marker(r,{textMarker:!0,_textMarkerOverPM:!0,icon:i});if(this._setPane(a,"markerPane"),this._finishLayer(a),a.pm||(a.options.draggable=!1),a.addTo(this._map.pm._getContainingLayer()),a.pm){a.pm.textArea=this.textArea,L.setOptions(a.pm,{removeIfEmpty:this.options.textOptions?.removeIfEmpty??!0});let o=this.options.textOptions?.focusAfterDraw??!0;a.pm._createTextMarker(o),this.options.textOptions?.text&&a.pm.setText(this.options.textOptions.text)}this._fireCreate(a),this._cleanupSnapping(),this.disable(),this.options.continueDrawing&&this.enable()},_createTextArea(){let e=document.createElement("textarea");return e.readOnly=!0,e.classList.add("pm-textarea","pm-disabled"),e},_createTextIcon(e){return L.divIcon({className:"pm-text-marker",html:e})}});var ti={enableLayerDrag(){if(!this.options.draggable||!this._layer._map)return;this.disable(),this._layerDragEnabled=!0,this._map||(this._map=this._layer._map),(this._layer instanceof L.Marker||this._layer instanceof L.ImageOverlay)&&L.DomEvent.on(this._getDOMElem(),"dragstart",this._stopDOMImageDrag),this._layer.dragging&&this._layer.dragging.disable(),this._tempDragCoord=null,Mr(this._layer)instanceof L.Canvas?(this._layer.on("mouseout",this.removeDraggingClass,this),this._layer.on("mouseover",this.addDraggingClass,this)):this.addDraggingClass(),this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!0;let e=this._getDOMElem();e&&(Mr(this._layer)instanceof L.Canvas?(this._layer.on("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._addTouchEvents(e)):L.DomEvent.on(e,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._fireDragEnable()},disableLayerDrag(){this._layerDragEnabled=!1,Mr(this._layer)instanceof L.Canvas?(this._layer.off("mouseout",this.removeDraggingClass,this),this._layer.off("mouseover",this.addDraggingClass,this)):this.removeDraggingClass(),this._originalMapDragState&&this._dragging&&this._map.dragging.enable(),this._safeToCacheDragState=!1,this._layer.dragging&&this._layer.dragging.disable();let e=this._getDOMElem();e&&(Mr(this._layer)instanceof L.Canvas?(this._layer.off("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._removeTouchEvents(e)):L.DomEvent.off(e,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._layerDragged&&this._fireUpdate(),this._layerDragged=!1,this._fireDragDisable()},dragging(){return this._dragging},layerDragEnabled(){return!!this._layerDragEnabled},_simulateMouseDownEvent(e){let r=e.touches?e.touches[0]:e,i={originalEvent:r,target:this._layer};return i.containerPoint=this._map.mouseEventToContainerPoint(r),i.latlng=this._map.containerPointToLatLng(i.containerPoint),this._dragMixinOnMouseDown(i),!1},_simulateMouseMoveEvent(e){let r=e.touches?e.touches[0]:e,i={originalEvent:r,target:this._layer};return i.containerPoint=this._map.mouseEventToContainerPoint(r),i.latlng=this._map.containerPointToLatLng(i.containerPoint),this._dragMixinOnMouseMove(i),!1},_simulateMouseUpEvent(e){let r={originalEvent:e.touches?e.touches[0]:e,target:this._layer};return e.type.indexOf("touch")===-1&&(r.containerPoint=this._map.mouseEventToContainerPoint(e),r.latlng=this._map.containerPointToLatLng(r.containerPoint)),this._dragMixinOnMouseUp(r),!1},_dragMixinOnMouseDown(e){if(e.originalEvent.button>0)return;this._overwriteEventIfItComesFromMarker(e);let r=e._fromLayerSync,i=this._syncLayers("_dragMixinOnMouseDown",e);if(this._layer instanceof L.Marker&&(this.options.snappable&&!r&&!i?this._initSnappableMarkers():this._disableSnapping()),this._layer instanceof L.CircleMarker){let a="resizeableCircleMarker";this._layer instanceof L.Circle&&(a="resizableCircle"),this.options.snappable&&!r&&!i?this._layer.pm.options[a]||this._initSnappableMarkersDrag():this._layer.pm.options[a]?this._layer.pm._disableSnapping():this._layer.pm._disableSnappingDrag()}this._safeToCacheDragState&&(this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!1),this._tempDragCoord=e.latlng,L.DomEvent.on(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),L.DomEvent.on(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this)},_dragMixinOnMouseMove(e){this._overwriteEventIfItComesFromMarker(e);let r=this._getDOMElem();this._syncLayers("_dragMixinOnMouseMove",e),this._dragging||(this._dragging=!0,L.DomUtil.addClass(r,"leaflet-pm-dragging"),this._layer instanceof L.Marker||this._layer.bringToFront(),this._originalMapDragState&&this._map.dragging.disable(),this._fireDragStart()),this._tempDragCoord||(this._tempDragCoord=e.latlng),this._onLayerDrag(e),this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle()},_dragMixinOnMouseUp(e){let r=this._getDOMElem();return this._syncLayers("_dragMixinOnMouseUp",e),this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0,L.DomEvent.off(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this),L.DomEvent.off(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),this._dragging?(this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle(),this._layerDragged=!0,window.setTimeout(()=>{this._dragging=!1,r&&L.DomUtil.removeClass(r,"leaflet-pm-dragging"),this._fireDragEnd(),this._fireEdit(),this._layerEdited=!0},10),!0):!1},_onLayerDrag(e){let{latlng:r}=e,i={lat:r.lat-this._tempDragCoord.lat,lng:r.lng-this._tempDragCoord.lng},a=o=>o.map(u=>{if(Array.isArray(u))return a(u);let c={lat:u.lat+i.lat,lng:u.lng+i.lng};return(u.alt||u.alt===0)&&(c.alt=u.alt),c});if(this._layer instanceof L.Circle&&this._layer.options.resizableCircle||this._layer instanceof L.CircleMarker&&this._layer.options.resizeableCircleMarker){let o=a([this._layer.getLatLng()]);this._layer.setLatLng(o[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.CircleMarker||this._layer instanceof L.Marker){let o=this._layer.getLatLng();this._layer._snapped&&(o=this._layer._orgLatLng);let u=a([o]);this._layer.setLatLng(u[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.ImageOverlay){let o=a([this._layer.getBounds().getNorthWest(),this._layer.getBounds().getSouthEast()]);this._layer.setBounds(o),this._fireChange(this._layer.getBounds(),"Edit")}else{let o=a(this._layer.getLatLngs());this._layer.setLatLngs(o),this._fireChange(this._layer.getLatLngs(),"Edit")}this._tempDragCoord=r,e.layer=this._layer,this._fireDrag(e)},addDraggingClass(){let e=this._getDOMElem();e&&L.DomUtil.addClass(e,"leaflet-pm-draggable")},removeDraggingClass(){let e=this._getDOMElem();e&&L.DomUtil.removeClass(e,"leaflet-pm-draggable")},_getDOMElem(){let e=null;return this._layer._path?e=this._layer._path:this._layer._renderer&&this._layer._renderer._container?e=this._layer._renderer._container:this._layer._image?e=this._layer._image:this._layer._icon&&(e=this._layer._icon),e},_overwriteEventIfItComesFromMarker(e){e.target.getLatLng&&(!e.target._radius||e.target._radius<=10)&&(e.containerPoint=this._map.mouseEventToContainerPoint(e.originalEvent),e.latlng=this._map.containerPointToLatLng(e.containerPoint))},_syncLayers(e,r){if(this.enabled())return!1;if(!r._fromLayerSync&&this._layer===r.target&&this.options.syncLayersOnDrag){r._fromLayerSync=!0;let i=[];if(L.Util.isArray(this.options.syncLayersOnDrag))i=this.options.syncLayersOnDrag,this.options.syncLayersOnDrag.forEach(a=>{a instanceof L.LayerGroup&&(i=i.concat(a.pm.getLayers(!0)))});else if(this.options.syncLayersOnDrag===!0&&this._parentLayerGroup)for(let a in this._parentLayerGroup){let o=this._parentLayerGroup[a];o.pm&&(i=o.pm.getLayers(!0))}return L.Util.isArray(i)&&i.length>0&&(i=i.filter(a=>!!a.pm).filter(a=>!!a.pm.options.draggable),i.forEach(a=>{a!==this._layer&&a.pm[e]&&(a._snapped=!1,a.pm[e](r))})),i.length>0}return!1},_stopDOMImageDrag(e){return e.preventDefault(),!1}},cn=ti,Pn=q(Ga());function bi(e,r,i,a){return i.unproject(r.transform(i.project(e,a)),a)}function Tn(e,r,i){let a=i.getMaxZoom();if(a===1/0&&(a=i.getZoom()),L.Util.isArray(e)){let o=[];return e.forEach(u=>{o.push(Tn(u,r,i))}),o}return e instanceof L.LatLng?bi(e,r,i,a):null}function En(e,r){r instanceof L.Layer&&(r=r.getLatLng());let i=e.getMaxZoom();return i===1/0&&(i=e.getZoom()),e.project(r,i)}function ea(e,r){let i=e.getMaxZoom();return i===1/0&&(i=e.getZoom()),e.unproject(r,i)}var Oi={_onRotateStart(e){this._preventRenderingMarkers(!0),this._rotationOriginLatLng=this._getRotationCenter().clone(),this._rotationOriginPoint=En(this._map,this._rotationOriginLatLng),this._rotationStartPoint=En(this._map,e.target.getLatLng()),this._initialRotateLatLng=$r(this._layer),this._startAngle=this.getAngle();let r=$r(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._fireRotationStart(this._rotationLayer,r),this._fireRotationStart(this._map,r)},_onRotate(e){let r=En(this._map,e.target.getLatLng()),i=this._rotationStartPoint,a=this._rotationOriginPoint,o=Math.atan2(r.y-a.y,r.x-a.x)-Math.atan2(i.y-a.y,i.x-a.x);this._layer.setLatLngs(this._rotateLayer(o,this._initialRotateLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));let u=this;function c(F,I=[],ie=-1){if(ie>-1&&I.push(ie),L.Util.isArray(F[0]))F.forEach((J,_e)=>c(J,I.slice(),_e));else{let J=(0,Pn.default)(u._markers,I);F.forEach((_e,De)=>{J[De].setLatLng(_e)})}}c(this._layer.getLatLngs());let d=$r(this._rotationLayer);this._rotationLayer.setLatLngs(this._rotateLayer(o,this._rotationLayer.pm._rotateOrgLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));let _=o*180/Math.PI;_=_<0?_+360:_;let C=_+this._startAngle;this._setAngle(C),this._rotationLayer.pm._setAngle(C),this._fireRotation(this._rotationLayer,_,d),this._fireRotation(this._map,_,d),this._rotationLayer.pm._fireChange(this._rotationLayer.getLatLngs(),"Rotation")},_onRotateEnd(){let e=this._startAngle;delete this._rotationOriginLatLng,delete this._rotationOriginPoint,delete this._rotationStartPoint,delete this._initialRotateLatLng,delete this._startAngle;let r=$r(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._rotationLayer.pm._rotateOrgLatLng=$r(this._rotationLayer),this._fireRotationEnd(this._rotationLayer,e,r),this._fireRotationEnd(this._map,e,r),this._rotationLayer.pm._fireEdit(this._rotationLayer,"Rotation"),this._preventRenderingMarkers(!1),this._layerRotated=!0},_rotateLayer(e,r,i,a,o){let u=En(o,i);return this._matrix=a.clone().rotate(e,u).flip(),Tn(r,this._matrix,o)},_setAngle(e){e=e<0?e+360:e,this._angle=e%360},_getRotationCenter(){if(this._rotationCenter)return this._rotationCenter;let e=L.polygon(this._layer.getLatLngs(),{stroke:!1,fill:!1,pmIgnore:!0}).addTo(this._layer._map),r=e.getCenter();return e.removeFrom(this._layer._map),r},enableRotate(){if(!this.options.allowRotation){this.disableRotate();return}this.rotateEnabled()&&this.disableRotate(),this._layer instanceof L.Rectangle&&this._angle===void 0&&this.setInitAngle(St(this._layer._map,this._layer.getLatLngs()[0][0],this._layer.getLatLngs()[0][1])||0);let e={fill:!1,stroke:!1,pmIgnore:!1,snapIgnore:!0};this._rotatePoly=L.polygon(this._layer.getLatLngs(),e),this._rotatePoly._pmTempLayer=!0,this._rotatePoly.addTo(this._layer._map),this._rotatePoly.pm._setAngle(this.getAngle()),this._rotatePoly.pm.setRotationCenter(this.getRotationCenter()),this._rotatePoly.pm.setOptions(this._layer._map.pm.getGlobalOptions()),this._rotatePoly.pm.setOptions({rotate:!0,snappable:!1,hideMiddleMarkers:!0}),this._rotatePoly.pm._rotationLayer=this._layer,this._rotatePoly.pm.enable(),this._rotateOrgLatLng=$r(this._layer),this._rotateEnabled=!0,this._layer.on("remove",this.disableRotate,this),this._fireRotationEnable(this._layer),this._fireRotationEnable(this._layer._map)},disableRotate(){this.rotateEnabled()&&(this._rotatePoly.pm._layerRotated&&this._fireUpdate(),this._rotatePoly.pm._layerRotated=!1,this._rotatePoly.pm.disable(),this._rotatePoly.remove(),this._rotatePoly.pm.setOptions({rotate:!1}),this._rotatePoly=void 0,this._rotateOrgLatLng=void 0,this._layer.off("remove",this.disableRotate,this),this._rotateEnabled=!1,this._fireRotationDisable(this._layer),this._fireRotationDisable(this._layer._map))},rotateEnabled(){return!!this._rotateEnabled},rotateLayer(e){let r=this.getAngle(),i=this._layer.getLatLngs(),a=e*(Math.PI/180);this._layer.setLatLngs(this._rotateLayer(a,this._layer.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._layer._map)),this._rotateOrgLatLng=L.polygon(this._layer.getLatLngs()).getLatLngs(),this._setAngle(this.getAngle()+e),this.rotateEnabled()&&this._rotatePoly&&this._rotatePoly.pm.enabled()&&(this._rotatePoly.setLatLngs(this._rotateLayer(a,this._rotatePoly.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._rotatePoly._map)),this._rotatePoly.pm._initMarkers());let o=this.getAngle()-r;o=o<0?o+360:o,this._startAngle=r,this._fireRotation(this._layer,o,i,this._layer),this._fireRotation(this._map||this._layer._map,o,i,this._layer),delete this._startAngle,this._fireChange(this._layer.getLatLngs(),"Rotation")},rotateLayerToAngle(e){let r=e-this.getAngle();this.rotateLayer(r)},getAngle(){return this._angle||0},setInitAngle(e){this._setAngle(e)},getRotationCenter(){return this._getRotationCenter()},setRotationCenter(e){this._rotationCenter=e,this._rotatePoly&&this._rotatePoly.pm.setRotationCenter(e)}},Ci=Oi,ta=L.Class.extend({includes:[cn,qi,Ci,Ve],options:{snappable:!0,snapDistance:20,allowSelfIntersection:!0,allowSelfIntersectionEdit:!1,preventMarkerRemoval:!1,removeLayerBelowMinVertexCount:!0,limitMarkersToCount:-1,hideMiddleMarkers:!1,snapSegment:!0,syncLayersOnDrag:!1,draggable:!0,allowEditing:!0,allowRemoval:!0,allowCutting:!0,allowRotation:!0,addVertexOn:"click",removeVertexOn:"contextmenu",removeVertexValidation:void 0,addVertexValidation:void 0,moveVertexValidation:void 0,resizeableCircleMarker:!1,resizableCircle:!0},setOptions(e){L.Util.setOptions(this,e)},getOptions(){return this.options},applyOptions(){},isPolygon(){return this._layer instanceof L.Polygon},getShape(){return this._shape},_setPane(e,r){r==="layerPane"?e.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":r==="vertexPane"?e.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":r==="markerPane"&&(e.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},remove(){(this._map||this._layer._map).pm.removeLayer({target:this._layer})},_vertexValidation(e,r){let i=r.target,a={layer:this._layer,marker:i,event:r},o="";return e==="move"?o="moveVertexValidation":e==="add"?o="addVertexValidation":e==="remove"&&(o="removeVertexValidation"),this.options[o]&&typeof this.options[o]=="function"&&!this.options[o](a)?(e==="move"&&(i._cancelDragEventChain=i.getLatLng()),!1):(i._cancelDragEventChain=null,!0)},_vertexValidationDrag(e){return e._cancelDragEventChain?(e._latlng=e._cancelDragEventChain,e.update(),!1):!0},_vertexValidationDragEnd(e){return e._cancelDragEventChain?(e._cancelDragEventChain=null,!1):!0}}),Ft=ta;Ft.LayerGroup=L.Class.extend({initialize(e){this._layerGroup=e,this._layers=this.getLayers(),this._getMap(),this._layers.forEach(a=>this._initLayer(a));let r=a=>{if(a.layer._pmTempLayer)return;this._layers=this.getLayers();let o=this._layers.filter(u=>!u.pm._parentLayerGroup||!(this._layerGroup._leaflet_id in u.pm._parentLayerGroup));o.forEach(u=>{this._initLayer(u)}),o.length>0&&this._getMap()&&this._getMap().pm.globalEditModeEnabled()&&this.enabled()&&this.enable(this.getOptions())};this._layerGroup.on("layeradd",L.Util.throttle(r,100,this),this),this._layerGroup.on("layerremove",a=>{this._removeLayerFromGroup(a.target)},this);let i=a=>{a.target._pmTempLayer||(this._layers=this.getLayers())};this._layerGroup.on("layerremove",L.Util.throttle(i,100,this),this)},enable(e,r=[]){r.length===0&&(this._layers=this.getLayers()),this._options=e,this._layers.forEach(i=>{i instanceof L.LayerGroup?r.indexOf(i._leaflet_id)===-1&&(r.push(i._leaflet_id),i.pm.enable(e,r)):i.pm.enable(e)})},disable(e=[]){e.length===0&&(this._layers=this.getLayers()),this._layers.forEach(r=>{r instanceof L.LayerGroup?e.indexOf(r._leaflet_id)===-1&&(e.push(r._leaflet_id),r.pm.disable(e)):r.pm.disable()})},enabled(e=[]){return e.length===0&&(this._layers=this.getLayers()),!!this._layers.find(r=>r instanceof L.LayerGroup?e.indexOf(r._leaflet_id)===-1?(e.push(r._leaflet_id),r.pm.enabled(e)):!1:r.pm.enabled())},toggleEdit(e,r=[]){r.length===0&&(this._layers=this.getLayers()),this._options=e,this._layers.forEach(i=>{i instanceof L.LayerGroup?r.indexOf(i._leaflet_id)===-1&&(r.push(i._leaflet_id),i.pm.toggleEdit(e,r)):i.pm.toggleEdit(e)})},_initLayer(e){let r=L.Util.stamp(this._layerGroup);e.pm._parentLayerGroup||(e.pm._parentLayerGroup={}),e.pm._parentLayerGroup[r]=this._layerGroup},_removeLayerFromGroup(e){if(e.pm&&e.pm._layerGroup){let r=L.Util.stamp(this._layerGroup);delete e.pm._layerGroup[r]}},dragging(){return this._layers=this.getLayers(),this._layers?!!this._layers.find(e=>e.pm.dragging()):!1},getOptions(){return this.options},_getMap(){return this._map||this._layers.find(e=>!!e._map)?._map||null},getLayers(e=!1,r=!0,i=!0,a=[]){let o=[];return e?this._layerGroup.getLayers().forEach(u=>{o.push(u),u instanceof L.LayerGroup&&a.indexOf(u._leaflet_id)===-1&&(a.push(u._leaflet_id),o=o.concat(u.pm.getLayers(!0,!0,!0,a)))}):o=this._layerGroup.getLayers(),i&&(o=o.filter(u=>!(u instanceof L.LayerGroup))),r&&(o=o.filter(u=>!!u.pm),o=o.filter(u=>!u._pmTempLayer),o=o.filter(u=>!L.PM.optIn&&!u.options.pmIgnore||L.PM.optIn&&u.options.pmIgnore===!1)),o},setOptions(e,r=[]){r.length===0&&(this._layers=this.getLayers()),this.options=e,this._layers.forEach(i=>{i.pm&&(i instanceof L.LayerGroup?r.indexOf(i._leaflet_id)===-1&&(r.push(i._leaflet_id),i.pm.setOptions(e,r)):i.pm.setOptions(e))})}}),Ft.Marker=Ft.extend({_shape:"Marker",initialize(e){this._layer=e,this._enabled=!1,this._layer.on("dragend",this._onDragEnd,this)},enable(e={draggable:!0}){if(L.Util.setOptions(this,e),!this.options.allowEditing||!this._layer._map){this.disable();return}this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._fireEnable()},disable(){this.enabled()&&(this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this._layer.off("contextmenu",this._removeMarker,this),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1)},enabled(){return this._enabled},toggleEdit(e){this.enabled()?this.disable():this.enable(e)},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this.options.draggable?this.enableLayerDrag():this.disableLayerDrag(),this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_removeMarker(e){let r=e.target;r.remove(),this._fireRemove(r),this._fireRemove(this._map,r)},_onDragEnd(){this._fireEdit(),this._layerEdited=!0},_initSnappableMarkers(){let e=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,e.off("pm:drag",this._handleSnapping,this),e.on("pm:drag",this._handleSnapping,this),e.off("pm:dragend",this._cleanupSnapping,this),e.on("pm:dragend",this._cleanupSnapping,this),e.off("pm:dragstart",this._unsnap,this),e.on("pm:dragstart",this._unsnap,this)},_disableSnapping(){let e=this._layer;e.off("pm:drag",this._handleSnapping,this),e.off("pm:dragend",this._cleanupSnapping,this),e.off("pm:dragstart",this._unsnap,this)}});var Gr=q(Ga()),Li={filterMarkerGroup(){this.markerCache=[],this.createCache(),this._layer.on("pm:edit",this.createCache,this),this.applyLimitFilters({}),this.throttledApplyLimitFilters||(this.throttledApplyLimitFilters=L.Util.throttle(this.applyLimitFilters,100,this)),this._layer.on("pm:disable",this._removeMarkerLimitEvents,this),this._layer.on("remove",this._removeMarkerLimitEvents,this),this.options.limitMarkersToCount>-1&&(this._layer.on("pm:vertexremoved",this._initMarkers,this),this._map.on("mousemove",this.throttledApplyLimitFilters,this))},_removeMarkerLimitEvents(){this._map.off("mousemove",this.throttledApplyLimitFilters,this),this._layer.off("pm:edit",this.createCache,this),this._layer.off("pm:disable",this._removeMarkerLimitEvents,this),this._layer.off("pm:vertexremoved",this._initMarkers,this)},createCache(){let e=[...this._markerGroup.getLayers(),...this.markerCache];this.markerCache=e.filter((r,i,a)=>a.indexOf(r)===i)},_removeFromCache(e){let r=this.markerCache.indexOf(e);r>-1&&this.markerCache.splice(r,1)},renderLimits(e){this.markerCache.forEach(r=>{e.includes(r)?this._markerGroup.addLayer(r):this._markerGroup.removeLayer(r)})},applyLimitFilters({latlng:e={lat:0,lng:0}}){if(this._preventRenderMarkers)return;let r=[...this._filterClosestMarkers(e)];this.renderLimits(r)},_filterClosestMarkers(e){let r=[...this.markerCache],i=this.options.limitMarkersToCount;return i===-1?r:(r.sort((a,o)=>{let u=a._latlng.distanceTo(e),c=o._latlng.distanceTo(e);return u-c}),r.filter((a,o)=>i>-1?o<i:!0))},_preventRenderMarkers:!1,_preventRenderingMarkers(e){this._preventRenderMarkers=!!e}},rn=Li;Ft.Line=Ft.extend({includes:[rn],_shape:"Line",initialize(e){this._layer=e,this._enabled=!1},enable(e){if(L.Util.setOptions(this,e),this._map=this._layer._map,!!this._map){if(!this.options.allowEditing){this.disable();return}this.enabled()&&this.disable(),this._enabled=!0,this._initMarkers(),this.applyOptions(),this._layer.on("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.on("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this),this.options.allowSelfIntersection?this.cachedColor=void 0:(this._layer.options.color!=="#f00000ff"?(this.cachedColor=this._layer.options.color,this.isRed=!1):this.isRed=!0,this._handleLayerStyle()),this._fireEnable()}},disable(){if(!this.enabled()||this._dragging)return;this._enabled=!1,this._markerGroup.clearLayers(),this._markerGroup.removeFrom(this._map),this._layer.off("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.off("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this);let e=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(e,"leaflet-pm-draggable"),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()},enabled(){return this._enabled},toggleEdit(e){return this.enabled()?this.disable():this.enable(e),this.enabled()},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initMarkers(){let e=this._map,r=this._layer.getLatLngs();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0;let i=a=>{if(Array.isArray(a[0]))return a.map(i,this);let o=a.map(this._createMarker,this);return this.options.hideMiddleMarkers!==!0&&a.map((u,c)=>{let d=this.isPolygon()?(c+1)%a.length:c+1;return this._createMiddleMarker(o[c],o[d])}),o};this._markers=i(r),this.filterMarkerGroup(),e.addLayer(this._markerGroup)},_createMarker(e){let r=new L.Marker(e,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(r,"vertexPane"),r._pmTempLayer=!0,this.options.rotate?(r.on("dragstart",this._onRotateStart,this),r.on("drag",this._onRotate,this),r.on("dragend",this._onRotateEnd,this)):(r.on("click",this._onVertexClick,this),r.on("dragstart",this._onMarkerDragStart,this),r.on("move",this._onMarkerDrag,this),r.on("dragend",this._onMarkerDragEnd,this),this.options.preventMarkerRemoval||r.on(this.options.removeVertexOn,this._removeMarker,this)),this._markerGroup.addLayer(r),r},_createMiddleMarker(e,r){if(!e||!r)return!1;let i=L.PM.Utils.calcMiddleLatLng(this._map,e.getLatLng(),r.getLatLng()),a=this._createMarker(i),o=L.divIcon({className:"marker-icon marker-icon-middle"});return a.setIcon(o),a.leftM=e,a.rightM=r,e._middleMarkerNext=a,r._middleMarkerPrev=a,a.on(this.options.addVertexOn,this._onMiddleMarkerClick,this),a.on("movestart",this._onMiddleMarkerMoveStart,this),a},_onMiddleMarkerClick(e){let r=e.target;if(!this._vertexValidation("add",e))return;let i=L.divIcon({className:"marker-icon"});r.setIcon(i),this._addMarker(r,r.leftM,r.rightM)},_onMiddleMarkerMoveStart(e){let r=e.target;if(r.on("moveend",this._onMiddleMarkerMoveEnd,this),!this._vertexValidation("add",e)){r.on("move",this._onMiddleMarkerMovePrevent,this);return}r._dragging=!0,this._addMarker(r,r.leftM,r.rightM)},_onMiddleMarkerMovePrevent(e){let r=e.target;this._vertexValidationDrag(r)},_onMiddleMarkerMoveEnd(e){let r=e.target;if(r.off("move",this._onMiddleMarkerMovePrevent,this),r.off("moveend",this._onMiddleMarkerMoveEnd,this),!this._vertexValidationDragEnd(r))return;let i=L.divIcon({className:"marker-icon"});r.setIcon(i),setTimeout(()=>{delete r._dragging},100)},_addMarker(e,r,i){e.off("movestart",this._onMiddleMarkerMoveStart,this),e.off(this.options.addVertexOn,this._onMiddleMarkerClick,this);let a=e.getLatLng(),o=this._layer._latlngs;delete e.leftM,delete e.rightM;let{indexPath:u,index:c,parentPath:d}=L.PM.Utils.findDeepMarkerIndex(this._markers,r),_=u.length>1?(0,Gr.default)(o,d):o,C=u.length>1?(0,Gr.default)(this._markers,d):this._markers;_.splice(c+1,0,a),C.splice(c+1,0,e),this._layer.setLatLngs(o),this.options.hideMiddleMarkers!==!0&&(this._createMiddleMarker(r,e),this._createMiddleMarker(e,i)),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit"),this._fireVertexAdded(e,L.PM.Utils.findDeepMarkerIndex(this._markers,e).indexPath,a),this.options.snappable&&this._initSnappableMarkers()},hasSelfIntersection(){return xo(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersectionOnVertexRemoval(){this._handleLayerStyle(!0)&&(this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers())},_handleLayerStyle(e){let r=this._layer,i,a;if(this.options.allowSelfIntersection?i=!1:(a=xo(this._layer.toGeoJSON(15)),i=a.features.length>0),i){if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!0),this.isRed)return i;e?this._flashLayer():(r.setStyle({color:"#f00000ff"}),this.isRed=!0),this._fireIntersect(a)}else r.setStyle({color:this.cachedColor}),this.isRed=!1,!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!1);return i},_flashLayer(){this.cachedColor||(this.cachedColor=this._layer.options.color),this._layer.setStyle({color:"#f00000ff"}),this.isRed=!0,window.setTimeout(()=>{this._layer.setStyle({color:this.cachedColor}),this.isRed=!1},200)},_updateDisabledMarkerStyle(e,r){e.forEach(i=>{Array.isArray(i)?this._updateDisabledMarkerStyle(i,r):i._icon&&(r&&!this._checkMarkerAllowedToDrag(i)?L.DomUtil.addClass(i._icon,"vertexmarker-disabled"):L.DomUtil.removeClass(i._icon,"vertexmarker-disabled"))})},_removeMarker(e){let r=e.target;if(!this._vertexValidation("remove",e))return;this.options.allowSelfIntersection||(this._coordsBeforeEdit=$r(this._layer,this._layer.getLatLngs()));let i=this._layer.getLatLngs(),{indexPath:a,index:o,parentPath:u}=L.PM.Utils.findDeepMarkerIndex(this._markers,r);if(!a)return;let c=a.length>1?(0,Gr.default)(i,u):i,d=a.length>1?(0,Gr.default)(this._markers,u):this._markers;if(!this.options.removeLayerBelowMinVertexCount&&(c.length<=2||this.isPolygon()&&c.length<=3)){this._flashLayer();return}c.splice(o,1),this._layer.setLatLngs(i),this.isPolygon()&&c.length<=2&&c.splice(0,c.length);let _=!1;if(c.length<=1&&(c.splice(0,c.length),u.length>1&&a.length>1&&(i=ir(i)),this._layer.setLatLngs(i),this._initMarkers(),_=!0),Bt(i)||this._layer.remove(),i=ir(i),this._layer.setLatLngs(i),this._markers=ir(this._markers),!_&&(d=a.length>1?(0,Gr.default)(this._markers,u):this._markers,r._middleMarkerPrev&&(this._markerGroup.removeLayer(r._middleMarkerPrev),this._removeFromCache(r._middleMarkerPrev)),r._middleMarkerNext&&(this._markerGroup.removeLayer(r._middleMarkerNext),this._removeFromCache(r._middleMarkerNext)),this._markerGroup.removeLayer(r),this._removeFromCache(r),d)){let C,F;if(this.isPolygon()?(C=(o+1)%d.length,F=(o+(d.length-1))%d.length):(F=o-1<0?void 0:o-1,C=o+1>=d.length?void 0:o+1),C!==F){let I=d[F],ie=d[C];this.options.hideMiddleMarkers!==!0&&this._createMiddleMarker(I,ie)}d.splice(o,1)}this._fireEdit(),this._layerEdited=!0,this._fireVertexRemoved(r,a),this._fireChange(this._layer.getLatLngs(),"Edit")},updatePolygonCoordsFromMarkerDrag(e){let r=this._layer.getLatLngs(),i=e.getLatLng(),{indexPath:a,index:o,parentPath:u}=L.PM.Utils.findDeepMarkerIndex(this._markers,e);(a.length>1?(0,Gr.default)(r,u):r).splice(o,1,i),this._layer.setLatLngs(r)},_getNeighborMarkers(e){let{indexPath:r,index:i,parentPath:a}=L.PM.Utils.findDeepMarkerIndex(this._markers,e),o=r.length>1?(0,Gr.default)(this._markers,a):this._markers,u=(i+1)%o.length,c=(i+(o.length-1))%o.length,d=o[c],_=o[u];return{prevMarker:d,nextMarker:_}},_checkMarkerAllowedToDrag(e){let{prevMarker:r,nextMarker:i}=this._getNeighborMarkers(e),a=L.polyline([r.getLatLng(),e.getLatLng()]),o=L.polyline([e.getLatLng(),i.getLatLng()]),u=ga(this._layer.toGeoJSON(15),a.toGeoJSON(15)).features.length,c=ga(this._layer.toGeoJSON(15),o.toGeoJSON(15)).features.length;return e.getLatLng()===this._markers[0][0].getLatLng()?c+=1:e.getLatLng()===this._markers[0][this._markers[0].length-1].getLatLng()&&(u+=1),!(u<=2&&c<=2)},_onMarkerDragStart(e){let r=e.target;if(this.cachedColor||(this.cachedColor=this._layer.options.color),!this._vertexValidation("move",e))return;let{indexPath:i}=L.PM.Utils.findDeepMarkerIndex(this._markers,r);this._fireMarkerDragStart(e,i),this.options.allowSelfIntersection||(this._coordsBeforeEdit=$r(this._layer,this._layer.getLatLngs())),!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()?this._markerAllowedToDrag=this._checkMarkerAllowedToDrag(r):this._markerAllowedToDrag=null},_onMarkerDrag(e){let r=e.target;if(!this._vertexValidationDrag(r))return;let{indexPath:i,index:a,parentPath:o}=L.PM.Utils.findDeepMarkerIndex(this._markers,r);if(!i)return;if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()&&this._markerAllowedToDrag===!1){this._layer.setLatLngs(this._coordsBeforeEdit),this._initMarkers(),this._handleLayerStyle();return}this.updatePolygonCoordsFromMarkerDrag(r);let u=i.length>1?(0,Gr.default)(this._markers,o):this._markers,c=(a+1)%u.length,d=(a+(u.length-1))%u.length,_=r.getLatLng(),C=u[d].getLatLng(),F=u[c].getLatLng();if(r._middleMarkerNext){let I=L.PM.Utils.calcMiddleLatLng(this._map,_,F);r._middleMarkerNext.setLatLng(I)}if(r._middleMarkerPrev){let I=L.PM.Utils.calcMiddleLatLng(this._map,_,C);r._middleMarkerPrev.setLatLng(I)}this.options.allowSelfIntersection||this._handleLayerStyle(),this._fireMarkerDrag(e,i),this._fireChange(this._layer.getLatLngs(),"Edit")},_onMarkerDragEnd(e){let r=e.target;if(!this._vertexValidationDragEnd(r))return;let{indexPath:i}=L.PM.Utils.findDeepMarkerIndex(this._markers,r),a=this.hasSelfIntersection();a&&this.options.allowSelfIntersectionEdit&&this._markerAllowedToDrag&&(a=!1);let o=!this.options.allowSelfIntersection&&a;if(this._fireMarkerDragEnd(e,i,o),o){this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers(),this.options.snappable&&this._initSnappableMarkers(),this._handleLayerStyle(),this._fireLayerReset(e,i);return}!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._handleLayerStyle(),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit")},_onVertexClick(e){let r=e.target;if(r._dragging)return;let{indexPath:i}=L.PM.Utils.findDeepMarkerIndex(this._markers,r);this._fireVertexClick(e,i)}}),Ft.Polygon=Ft.Line.extend({_shape:"Polygon",_checkMarkerAllowedToDrag(e){let{prevMarker:r,nextMarker:i}=this._getNeighborMarkers(e),a=L.polyline([r.getLatLng(),e.getLatLng()]),o=L.polyline([e.getLatLng(),i.getLatLng()]),u=ga(this._layer.toGeoJSON(15),a.toGeoJSON(15)).features.length,c=ga(this._layer.toGeoJSON(15),o.toGeoJSON(15)).features.length;return!(u<=2&&c<=2)}}),Ft.Rectangle=Ft.Polygon.extend({_shape:"Rectangle",_initMarkers(){let e=this._map,r=this._findCorners();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0,e.addLayer(this._markerGroup),this._markers=[],this._markers[0]=r.map(this._createMarker,this),[this._cornerMarkers]=this._markers,this._layer.getLatLngs()[0].forEach((i,a)=>{let o=this._cornerMarkers.find(u=>u._index===a);o&&o.setLatLng(i)})},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this._addMarkerEvents()},_createMarker(e,r){let i=new L.Marker(e,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(i,"vertexPane"),i._origLatLng=e,i._index=r,i._pmTempLayer=!0,i.on("click",this._onVertexClick,this),this._markerGroup.addLayer(i),i},_addMarkerEvents(){this._markers[0].forEach(e=>{e.on("dragstart",this._onMarkerDragStart,this),e.on("drag",this._onMarkerDrag,this),e.on("dragend",this._onMarkerDragEnd,this),this.options.preventMarkerRemoval||e.on("contextmenu",this._removeMarker,this)})},_removeMarker(){return null},_onMarkerDragStart(e){if(!this._vertexValidation("move",e))return;let r=e.target,i=this._cornerMarkers;r._oppositeCornerLatLng=i.find(o=>o._index===(r._index+2)%4).getLatLng(),r._snapped=!1;let{indexPath:a}=L.PM.Utils.findDeepMarkerIndex(this._markers,r);this._fireMarkerDragStart(e,a)},_onMarkerDrag(e){let r=e.target;if(!this._vertexValidationDrag(r)||r._index===void 0)return;this._adjustRectangleForMarkerMove(r);let{indexPath:i}=L.PM.Utils.findDeepMarkerIndex(this._markers,r);this._fireMarkerDrag(e,i),this._fireChange(this._layer.getLatLngs(),"Edit")},_onMarkerDragEnd(e){let r=e.target;if(!this._vertexValidationDragEnd(r))return;this._cornerMarkers.forEach(a=>{delete a._oppositeCornerLatLng});let{indexPath:i}=L.PM.Utils.findDeepMarkerIndex(this._markers,r);this._fireMarkerDragEnd(e,i),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit")},_adjustRectangleForMarkerMove(e){L.extend(e._origLatLng,e._latlng);let r=L.PM.Utils._getRotatedRectangle(e.getLatLng(),e._oppositeCornerLatLng,this.getAngle(),this._map);this._layer.setLatLngs(r),this._adjustAllMarkers(),this._layer.redraw()},_adjustAllMarkers(){let e=this._layer.getLatLngs()[0];e&&e.length!==4&&e.length>0?(e.forEach((r,i)=>{this._cornerMarkers[i].setLatLng(r)}),this._cornerMarkers.slice(e.length).forEach(r=>{r.setLatLng(e[0])})):!e||!e.length?console.error("The layer has no LatLngs"):this._cornerMarkers.forEach(r=>{r.setLatLng(e[r._index])})},_findCorners(){this._angle===void 0&&this.setInitAngle(St(this._map,this._layer.getLatLngs()[0][0],this._layer.getLatLngs()[0][1])||0);let e=this._layer.getLatLngs()[0];return L.PM.Utils._getRotatedRectangle(e[0],e[2],this.getAngle(),this._map||this)}}),Ft.CircleMarker=Ft.extend({_shape:"CircleMarker",initialize(e){this._layer=e,this._enabled=!1,this._minRadiusOption="minRadiusCircleMarker",this._maxRadiusOption="maxRadiusCircleMarker",this._editableOption="resizeableCircleMarker",this._updateHiddenPolyCircle()},enable(e={draggable:!0,snappable:!0}){if(L.Util.setOptions(this,e),this.options.editable&&(this.options.resizeableCircleMarker=this.options.editable,delete this.options.editable),!this.options.allowEditing||!this._layer._map){this.disable();return}this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._extendingEnable(),this._updateHiddenPolyCircle(),this._fireEnable()},_extendingEnable(){this._layer.on("pm:dragstart",this._onDragStart,this),this._layer.on("pm:drag",this._onMarkerDrag,this),this._layer.on("pm:dragend",this._onMarkerDragEnd,this)},disable(){this.dragging()||(this._map||(this._map=this._layer._map),this._map&&this.enabled()&&(this.layerDragEnabled()&&this.disableLayerDrag(),this.options[this._editableOption]?(this._helperLayers&&this._helperLayers.clearLayers(),this._map.off("move",this._syncMarkers,this),this._outerMarker.off("drag",this._handleOuterMarkerSnapping,this)):this._map.off("move",this._updateHiddenPolyCircle,this),this._extendingDisable(),this._layer.off("remove",this.disable,this),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1))},_extendingDisable(){this._layer.off("contextmenu",this._removeMarker,this)},enabled(){return this._enabled},toggleEdit(e){this.enabled()?this.disable():this.enable(e)},applyOptions(){this.options[this._editableOption]?(this._initMarkers(),this._map.on("move",this._syncMarkers,this),this.options.snappable?(this._initSnappableMarkers(),this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this),this._outerMarker.on("move",this._syncHintLine,this),this._outerMarker.on("move",this._syncCircleRadius,this),this._centerMarker.on("move",this._moveCircle,this)):this._disableSnapping()):(this.options.draggable&&this.enableLayerDrag(),this._map.on("move",this._updateHiddenPolyCircle,this),this.options.snappable?this._initSnappableMarkersDrag():this._disableSnappingDrag()),this._extendingApplyOptions()},_extendingApplyOptions(){this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_initMarkers(){let e=this._map;this._helperLayers&&this._helperLayers.clearLayers(),this._helperLayers=new L.FeatureGroup,this._helperLayers._pmTempLayer=!0,this._helperLayers.addTo(e);let r=this._layer.getLatLng(),i=this._layer._radius,a=this._getLatLngOnCircle(r,i);this._centerMarker=this._createCenterMarker(r),this._outerMarker=this._createOuterMarker(a),this._markers=[this._centerMarker,this._outerMarker],this._createHintLine(this._centerMarker,this._outerMarker)},_getLatLngOnCircle(e,r){let i=this._map.project(e),a=L.point(i.x+r,i.y);return this._map.unproject(a)},_createHintLine(e,r){let i=e.getLatLng(),a=r.getLatLng();this._hintline=L.polyline([i,a],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._helperLayers.addLayer(this._hintline)},_createCenterMarker(e){let r=this._createMarker(e);return this.options.draggable?L.DomUtil.addClass(r._icon,"leaflet-pm-draggable"):r.dragging.disable(),r},_createOuterMarker(e){let r=this._createMarker(e);return r.on("drag",this._resizeCircle,this),r},_createMarker(e){let r=new L.Marker(e,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(r,"vertexPane"),r._origLatLng=e,r._pmTempLayer=!0,r.on("dragstart",this._onMarkerDragStart,this),r.on("drag",this._onMarkerDrag,this),r.on("dragend",this._onMarkerDragEnd,this),r.on("click",this._onVertexClick,this),this._helperLayers.addLayer(r),r},_moveCircle(e){if(e.target._cancelDragEventChain)return;let r=this._centerMarker.getLatLng();this._layer.setLatLng(r);let i=this._layer._radius,a=this._getLatLngOnCircle(r,i);this._outerMarker._latlng=a,this._outerMarker.update(),this._syncHintLine(),this._updateHiddenPolyCircle(),this._fireCenterPlaced("Edit"),this._fireChange(this._layer.getLatLng(),"Edit")},_syncMarkers(){let e=this._layer.getLatLng(),r=this._layer._radius,i=this._getLatLngOnCircle(e,r);this._outerMarker.setLatLng(i),this._centerMarker.setLatLng(e),this._syncHintLine(),this._updateHiddenPolyCircle()},_resizeCircle(){this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker()),this._syncHintLine(),this._syncCircleRadius()},_syncCircleRadius(){let e=this._centerMarker.getLatLng(),r=this._outerMarker.getLatLng(),i=this._distanceCalculation(e,r);this.options[this._minRadiusOption]&&i<this.options[this._minRadiusOption]?this._layer.setRadius(this.options[this._minRadiusOption]):this.options[this._maxRadiusOption]&&i>this.options[this._maxRadiusOption]?this._layer.setRadius(this.options[this._maxRadiusOption]):this._layer.setRadius(i),this._updateHiddenPolyCircle(),this._fireChange(this._layer.getLatLng(),"Edit")},_syncHintLine(){let e=this._centerMarker.getLatLng(),r=this._outerMarker.getLatLng();this._hintline.setLatLngs([e,r])},_removeMarker(){this.options[this._editableOption]&&this.disable(),this._layer.remove(),this._fireRemove(this._layer),this._fireRemove(this._map,this._layer)},_onDragStart(){this._map.pm.Draw.CircleMarker._layerIsDragging=!0},_onMarkerDragStart(e){this._vertexValidation("move",e)&&this._fireMarkerDragStart(e)},_onMarkerDrag(e){let r=e.target;r instanceof L.Marker&&!this._vertexValidationDrag(r)||this._fireMarkerDrag(e)},_onMarkerDragEnd(e){this._extedingMarkerDragEnd();let r=e.target;this._vertexValidationDragEnd(r)&&(this.options[this._editableOption]&&(this._fireEdit(),this._layerEdited=!0),this._fireMarkerDragEnd(e))},_extedingMarkerDragEnd(){this._map.pm.Draw.CircleMarker._layerIsDragging=!1},_initSnappableMarkersDrag(){let e=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,e.off("pm:drag",this._handleSnapping,this),e.on("pm:drag",this._handleSnapping,this),e.off("pm:dragend",this._cleanupSnapping,this),e.on("pm:dragend",this._cleanupSnapping,this),e.off("pm:dragstart",this._unsnap,this),e.on("pm:dragstart",this._unsnap,this)},_disableSnappingDrag(){let e=this._layer;e.off("pm:drag",this._handleSnapping,this),e.off("pm:dragend",this._cleanupSnapping,this),e.off("pm:dragstart",this._unsnap,this)},_updateHiddenPolyCircle(){let e=this._layer._map||this._map;if(e){let r=L.PM.Utils.pxRadiusToMeterRadius(this._layer.getRadius(),e,this._layer.getLatLng()),i=L.circle(this._layer.getLatLng(),this._layer.options);i.setRadius(r);let a=e&&e.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(i,200,!a).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(i,200,!a),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)}},_getNewDestinationOfOuterMarker(){let e=this._centerMarker.getLatLng(),r=this._outerMarker.getLatLng(),i=this._distanceCalculation(e,r);return this.options[this._minRadiusOption]&&i<this.options[this._minRadiusOption]?r=Fr(this._map,e,r,this._getMinDistanceInMeter(e)):this.options[this._maxRadiusOption]&&i>this.options[this._maxRadiusOption]&&(r=Fr(this._map,e,r,this._getMaxDistanceInMeter(e))),r},_handleOuterMarkerSnapping(){if(this._outerMarker._snapped){let e=this._centerMarker.getLatLng(),r=this._outerMarker.getLatLng(),i=this._distanceCalculation(e,r);this.options[this._minRadiusOption]&&i<this.options[this._minRadiusOption]?this._outerMarker.setLatLng(this._outerMarker._orgLatLng):this.options[this._maxRadiusOption]&&i>this.options[this._maxRadiusOption]&&this._outerMarker.setLatLng(this._outerMarker._orgLatLng)}this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker())},_distanceCalculation(e,r){return this._map.project(e).distanceTo(this._map.project(r))},_getMinDistanceInMeter(e){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._minRadiusOption],this._map,e)},_getMaxDistanceInMeter(e){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._maxRadiusOption],this._map,e)},_onVertexClick(e){e.target._dragging||this._fireVertexClick(e,void 0)}}),Ft.Circle=Ft.CircleMarker.extend({_shape:"Circle",initialize(e){this._layer=e,this._enabled=!1,this._minRadiusOption="minRadiusCircle",this._maxRadiusOption="maxRadiusCircle",this._editableOption="resizableCircle",this._updateHiddenPolyCircle()},enable(e){L.PM.Edit.CircleMarker.prototype.enable.call(this,e||{})},_extendingEnable(){},_extendingDisable(){this._layer.off("remove",this.disable,this);let e=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(e,"leaflet-pm-draggable")},_extendingApplyOptions(){},_syncMarkers(){},_removeMarker(){},_onDragStart(){},_extedingMarkerDragEnd(){},_updateHiddenPolyCircle(){let e=this._map&&this._map.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(this._layer,200,!e).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(this._layer,200,!e),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)},_distanceCalculation(e,r){return this._map.distance(e,r)},_getMinDistanceInMeter(){return this.options[this._minRadiusOption]},_getMaxDistanceInMeter(){return this.options[this._maxRadiusOption]},_onVertexClick(e){e.target._dragging||this._fireVertexClick(e,void 0)}}),Ft.ImageOverlay=Ft.extend({_shape:"ImageOverlay",initialize(e){this._layer=e,this._enabled=!1},toggleEdit(e){this.enabled()?this.disable():this.enable(e)},enabled(){return this._enabled},enable(e={draggable:!0,snappable:!0}){if(L.Util.setOptions(this,e),this._map=this._layer._map,!!this._map){if(!this.options.allowEditing){this.disable();return}this.enabled()||this.disable(),this.enableLayerDrag(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._otherSnapLayers=this._findCorners(),this._fireEnable()}},disable(){this._dragging||(this._map||(this._map=this._layer._map),this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this.enabled()||(this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()),this._enabled=!1)},_findCorners(){let e=this._layer.getBounds(),r=e.getNorthWest(),i=e.getNorthEast(),a=e.getSouthEast(),o=e.getSouthWest();return[r,i,a,o]}}),Ft.Text=Ft.extend({_shape:"Text",initialize(e){this._layer=e,this._enabled=!1},enable(e){if(L.Util.setOptions(this,e),!!this.textArea){if(!this.options.allowEditing||!this._layer._map){this.disable();return}this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._safeToCacheDragState=!0,this._focusChange(),this.textArea.readOnly=!1,this.textArea.classList.remove("pm-disabled"),this._layer.on("remove",this.disable,this),L.DomEvent.on(this.textArea,"input",this._autoResize,this),L.DomEvent.on(this.textArea,"focus",this._focusChange,this),L.DomEvent.on(this.textArea,"blur",this._focusChange,this),this._layer.on("dblclick",L.DomEvent.stop),L.DomEvent.off(this.textArea,"mousedown",this._preventTextSelection),this._enabled=!0,this._fireEnable()}},disable(){if(!this.enabled())return;this._layer.off("remove",this.disable,this),L.DomEvent.off(this.textArea,"input",this._autoResize,this),L.DomEvent.off(this.textArea,"focus",this._focusChange,this),L.DomEvent.off(this.textArea,"blur",this._focusChange,this),L.DomEvent.off(document,"click",this._documentClick,this),this._focusChange(),this.textArea.readOnly=!0,this.textArea.classList.add("pm-disabled");let e=document.activeElement;this.textArea.focus(),this.textArea.selectionStart=0,this.textArea.selectionEnd=0,L.DomEvent.on(this.textArea,"mousedown",this._preventTextSelection),e.focus(),this._disableOnBlurActive=!1,this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1},enabled(){return this._enabled},toggleEdit(e){this.enabled()?this.disable():this.enable(e)},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initSnappableMarkers(){let e=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,e.off("pm:drag",this._handleSnapping,this),e.on("pm:drag",this._handleSnapping,this),e.off("pm:dragend",this._cleanupSnapping,this),e.on("pm:dragend",this._cleanupSnapping,this),e.off("pm:dragstart",this._unsnap,this),e.on("pm:dragstart",this._unsnap,this)},_disableSnapping(){let e=this._layer;e.off("pm:drag",this._handleSnapping,this),e.off("pm:dragend",this._cleanupSnapping,this),e.off("pm:dragstart",this._unsnap,this)},_autoResize(){this.textArea.style.height="1px",this.textArea.style.width="1px";let e=this.textArea.scrollHeight>21?this.textArea.scrollHeight:21,r=this.textArea.scrollWidth>16?this.textArea.scrollWidth:16;this.textArea.style.height=`${e}px`,this.textArea.style.width=`${r}px`,this._layer.options.text=this.getText(),this._fireTextChange(this.getText())},_disableOnBlur(){this._disableOnBlurActive=!0,setTimeout(()=>{this.enabled()&&L.DomEvent.on(document,"click",this._documentClick,this)},100)},_documentClick(e){e.target!==this.textArea&&(this.disable(),!this.getText()&&this.options.removeIfEmpty&&this.remove())},_focusChange(e={}){let r=this._hasFocus;this._hasFocus=e.type==="focus",!r!=!this._hasFocus&&(this._hasFocus?(this._applyFocus(),this._focusText=this.getText(),this._fireTextFocus()):(this._removeFocus(),this._fireTextBlur(),this._focusText!==this.getText()&&(this._fireEdit(),this._layerEdited=!0)))},_applyFocus(){this.textArea.classList.add("pm-hasfocus"),this._map.dragging&&(this._safeToCacheDragState&&(this._originalMapDragState=this._map.dragging._enabled,this._safeToCacheDragState=!1),this._map.dragging.disable())},_removeFocus(){this._map.dragging&&(this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0),this.textArea.classList.remove("pm-hasfocus")},focus(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.focus()},blur(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.blur(),this._disableOnBlurActive&&this.disable()},hasFocus(){return this._hasFocus},getElement(){return this.textArea},setText(e){this.textArea.value=e,this._autoResize()},getText(){return this.textArea.value},_initTextMarker(){if(this.textArea=L.PM.Draw.Text.prototype._createTextArea.call(this),this.options.className){let r=this.options.className.split(" ");this.textArea.classList.add(...r)}let e=L.PM.Draw.Text.prototype._createTextIcon.call(this,this.textArea);this._layer.setIcon(e),this._layer.once("add",this._createTextMarker,this)},_createTextMarker(e=!1){this._layer.off("add",this._createTextMarker,this),this._layer.getElement().tabIndex=-1,this.textArea.wrap="off",this.textArea.style.overflow="hidden",this.textArea.style.height=L.DomUtil.getStyle(this.textArea,"font-size"),this.textArea.style.width="1px",this._layer.options.text&&this.setText(this._layer.options.text),this._autoResize(),e===!0&&(this.enable(),this.focus(),this._disableOnBlur())},_preventTextSelection(e){e.preventDefault()}});var Fi=function(e,r,i,a,o,u){this._matrix=[e,r,i,a,o,u]};Fi.init=()=>new L.PM.Matrix(1,0,0,1,0,0),Fi.prototype={transform(e){return this._transform(e.clone())},_transform(e){let r=this._matrix,{x:i,y:a}=e;return e.x=r[0]*i+r[1]*a+r[4],e.y=r[2]*i+r[3]*a+r[5],e},untransform(e){let r=this._matrix;return new L.Point((e.x/r[0]-r[4])/r[0],(e.y/r[2]-r[5])/r[2])},clone(){let e=this._matrix;return new L.PM.Matrix(e[0],e[1],e[2],e[3],e[4],e[5])},translate(e){if(e===void 0)return new L.Point(this._matrix[4],this._matrix[5]);let r,i;return typeof e=="number"?(r=e,i=e):(r=e.x,i=e.y),this._add(1,0,0,1,r,i)},scale(e,r){if(e===void 0)return new L.Point(this._matrix[0],this._matrix[3]);let i,a;return r=r||L.point(0,0),typeof e=="number"?(i=e,a=e):(i=e.x,a=e.y),this._add(i,0,0,a,r.x,r.y)._add(1,0,0,1,-r.x,-r.y)},rotate(e,r){let i=Math.cos(e),a=Math.sin(e);return r=r||new L.Point(0,0),this._add(i,a,-a,i,r.x,r.y)._add(1,0,0,1,-r.x,-r.y)},flip(){return this._matrix[1]*=-1,this._matrix[2]*=-1,this},_add(e,r,i,a,o,u){let c=[[],[],[]],d=this._matrix,_=[[d[0],d[2],d[4]],[d[1],d[3],d[5]],[0,0,1]],C=[[e,i,o],[r,a,u],[0,0,1]],F;e&&e instanceof L.PM.Matrix&&(d=e._matrix,C=[[d[0],d[2],d[4]],[d[1],d[3],d[5]],[0,0,1]]);for(let I=0;I<3;I+=1)for(let ie=0;ie<3;ie+=1){F=0;for(let J=0;J<3;J+=1)F+=_[I][J]*C[J][ie];c[I][ie]=F}return this._matrix=[c[0][0],c[1][0],c[0][1],c[1][1],c[0][2],c[1][2]],this}};var Za=Fi,Ur={calcMiddleLatLng(e,r,i){let a=e.project(r),o=e.project(i);return e.unproject(a._add(o)._divideBy(2))},findLayers(e){let r=[];return e.eachLayer(i=>{(i instanceof L.Polyline||i instanceof L.Marker||i instanceof L.Circle||i instanceof L.CircleMarker||i instanceof L.ImageOverlay)&&r.push(i)}),r=r.filter(i=>!!i.pm),r=r.filter(i=>!i._pmTempLayer),r=r.filter(i=>!L.PM.optIn&&!i.options.pmIgnore||L.PM.optIn&&i.options.pmIgnore===!1),r},circleToPolygon(e,r=60,i=!0){let a=e.getLatLng(),o=e.getRadius(),u=mr(a,o,r,0,i),c=[];for(let d=0;d<u.length;d+=1){let _=[u[d].lat,u[d].lng];c.push(_)}return L.polygon(c,e.options)},disablePopup(e){e.getPopup()&&(e._tempPopupCopy=e.getPopup(),e.unbindPopup())},enablePopup(e){e._tempPopupCopy&&(e.bindPopup(e._tempPopupCopy),delete e._tempPopupCopy)},_fireEvent(e,r,i,a=!1){e.fire(r,i,a);let{groups:o}=this.getAllParentGroups(e);o.forEach(u=>{u.fire(r,i,a)})},getAllParentGroups(e){let r=[],i=[],a=o=>{for(let u in o._eventParents)if(r.indexOf(u)===-1){r.push(u);let c=o._eventParents[u];i.push(c),a(c)}};return!e._pmLastGroupFetch||!e._pmLastGroupFetch.time||new Date().getTime()-e._pmLastGroupFetch.time>1e3?(a(e),e._pmLastGroupFetch={time:new Date().getTime(),groups:i,groupIds:r},{groupIds:r,groups:i}):{groups:e._pmLastGroupFetch.groups,groupIds:e._pmLastGroupFetch.groupIds}},createGeodesicPolygon:mr,getTranslation:ze,findDeepCoordIndex(e,r,i=!0){let a,o=c=>(d,_)=>{let C=c.concat(_);if(i){if(d.lat&&d.lat===r.lat&&d.lng===r.lng)return a=C,!0}else if(d.lat&&L.latLng(d).equals(r))return a=C,!0;return Array.isArray(d)&&d.some(o(C))};e.some(o([]));let u={};return a&&(u={indexPath:a,index:a[a.length-1],parentPath:a.slice(0,a.length-1)}),u},findDeepMarkerIndex(e,r){let i,a=u=>(c,d)=>{let _=u.concat(d);return c._leaflet_id===r._leaflet_id?(i=_,!0):Array.isArray(c)&&c.some(a(_))};e.some(a([]));let o={};return i&&(o={indexPath:i,index:i[i.length-1],parentPath:i.slice(0,i.length-1)}),o},_getIndexFromSegment(e,r){if(r&&r.length===2){let i=this.findDeepCoordIndex(e,r[0]),a=this.findDeepCoordIndex(e,r[1]),o=Math.max(i.index,a.index);return(i.index===0||a.index===0)&&o!==1&&(o+=1),{indexA:i,indexB:a,newIndex:o,indexPath:i.indexPath,parentPath:i.parentPath}}return null},_getRotatedRectangle(e,r,i,a){let o=En(a,e),u=En(a,r),c=i*Math.PI/180,d=Math.cos(c),_=Math.sin(c),C=(u.x-o.x)*d+(u.y-o.y)*_,F=(u.y-o.y)*d-(u.x-o.x)*_,I=C*d+o.x,ie=C*_+o.y,J=-F*_+o.x,_e=F*d+o.y,De=ea(a,o),Je=ea(a,{x:I,y:ie}),xt=ea(a,u),T=ea(a,{x:J,y:_e});return[De,Je,xt,T]},pxRadiusToMeterRadius(e,r,i){let a=r.project(i),o=L.point(a.x+e,a.y);return r.distance(r.unproject(o),i)}},jr=Ur;L.PM=L.PM||{version:Ha.version,Map:Kn,Toolbar:_r,Draw:Dr,Edit:Ft,Utils:jr,Matrix:Za,activeLang:"en",optIn:!1,initialize(e){this.addInitHooks(e)},setOptIn(e){this.optIn=!!e},addInitHooks(){function e(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Map(this)):this.options.pmIgnore||(this.pm=new L.PM.Map(this)),this.pm&&this.pm.setGlobalOptions({})}L.Map.addInitHook(e);function r(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.LayerGroup(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.LayerGroup(this))}L.LayerGroup.addInitHook(r);function i(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this)):this.options.pmIgnore||(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this))}L.Marker.addInitHook(i);function a(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.CircleMarker(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.CircleMarker(this))}L.CircleMarker.addInitHook(a);function o(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Line(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Line(this))}L.Polyline.addInitHook(o);function u(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Polygon(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Polygon(this))}L.Polygon.addInitHook(u);function c(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Rectangle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Rectangle(this))}L.Rectangle.addInitHook(c);function d(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Circle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Circle(this))}L.Circle.addInitHook(d);function _(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.ImageOverlay(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.ImageOverlay(this))}L.ImageOverlay.addInitHook(_)},reInitLayer(e){e instanceof L.LayerGroup&&e.eachLayer(r=>{this.reInitLayer(r)}),e.pm||L.PM.optIn&&e.options.pmIgnore!==!1||e.options.pmIgnore||(e instanceof L.Map?e.pm=new L.PM.Map(e):e instanceof L.Marker?e.options.textMarker?(e.pm=new L.PM.Edit.Text(e),e.pm._initTextMarker(),e.pm._createTextMarker(!1)):e.pm=new L.PM.Edit.Marker(e):e instanceof L.Circle?e.pm=new L.PM.Edit.Circle(e):e instanceof L.CircleMarker?e.pm=new L.PM.Edit.CircleMarker(e):e instanceof L.Rectangle?e.pm=new L.PM.Edit.Rectangle(e):e instanceof L.Polygon?e.pm=new L.PM.Edit.Polygon(e):e instanceof L.Polyline?e.pm=new L.PM.Edit.Line(e):e instanceof L.LayerGroup?e.pm=new L.PM.Edit.LayerGroup(e):e instanceof L.ImageOverlay&&(e.pm=new L.PM.Edit.ImageOverlay(e)))}},L.version==="1.7.1"&&L.Canvas.include({_onClick(e){let r=this._map.mouseEventToLayerPoint(e),i,a;for(let o=this._drawFirst;o;o=o.next)i=o.layer,i.options.interactive&&i._containsPoint(r)&&(!(e.type==="click"||e.type==="preclick")||!this._map._draggableMoved(i))&&(a=i);a&&(L.DomEvent.fakeStop(e),this._fireEvent([a],e))}}),L.PM.initialize()})()},4096:(zt,Fe)=>{const Re={};function fe(P){return typeof P=="function"}function H(P){return P===Object(P)}function rt(P,Ye){let q=!1;return typeof Ye=="string"?Ye=[Ye]:Object.prototype.toString.call(Ye)==="[object Array]"?Ye.length===0&&(q=!0):q=!0,P?Ye:q}function Pt(P,Ye){let q;if(fe(Re[P])){try{q=Re[P](Ye)}catch(Ue){q=["Problem with custom definition for "+P+": "+Ue]}if(typeof result=="string"&&(q=[q]),Object.prototype.toString.call(q)==="[object Array]")return q}return[]}Fe.define=(P,Ye)=>P in xr&&fe(Ye)?(Re[P]=Ye,!0):!1,Fe.isPosition=(P,Ye=!1)=>{let q=[];return Array.isArray(P)?(P.length<=1&&q.push("Position must be at least two elements"),P.forEach((Ue,Kt)=>{typeof Ue!="number"&&q.push("Position must only contain numbers. Item "+Ue+" at index "+Kt+" is invalid.")})):q.push("Position must be an array"),q=q.concat(Pt("Position",P)),rt(Ye,q)},Fe.isGeoJSONObject=Fe.valid=(P,Ye=!1)=>{if(H(P)){let q=[];if("type"in P){if(it[P.type])return it[P.type](P,Ye);if(Ht[P.type])return Ht[P.type](P,Ye);q.push('type must be one of: "Point", "MultiPoint", "LineString", "MultiLineString", "Polygon", "MultiPolygon", "GeometryCollection", "Feature", or "FeatureCollection"')}else q.push('must have a member with the name "type"');return q=q.concat(Pt("GeoJSONObject",P)),rt(Ye,q)}else return rt(Ye,["must be a JSON Object"])},Fe.isGeometryObject=(P,Ye=!1)=>{if(!H(P))return rt(Ye,["must be a JSON Object"]);let q=[];if("type"in P){if(Ht[P.type])return Ht[P.type](P,Ye);q.push('type must be one of: "Point", "MultiPoint", "LineString", "MultiLineString", "Polygon", "MultiPolygon" or "GeometryCollection"')}else q.push('must have a member with the name "type"');return q=q.concat(Pt("GeometryObject",P)),rt(Ye,q)},Fe.isPoint=(P,Ye=!1)=>{if(!H(P))return rt(Ye,["must be a JSON Object"]);let q=[];if("bbox"in P){const Ue=Fe.isBbox(P.bbox,!0);Ue.length&&(q=q.concat(Ue))}if("type"in P?P.type!=="Point"&&q.push('type must be "Point"'):q.push('must have a member with the name "type"'),"coordinates"in P){const Ue=Fe.isPosition(P.coordinates,!0);Ue.length&&(q=q.concat(Ue))}else q.push('must have a member with the name "coordinates"');return q=q.concat(Pt("Point",P)),rt(Ye,q)},Fe.isMultiPointCoor=(P,Ye=!1)=>{let q=[];return Array.isArray(P)?P.forEach((Ue,Kt)=>{const dt=Fe.isPosition(Ue,!0);dt.length&&(dt[0]="at "+Kt+": ".concat(dt[0]),q=q.concat(dt))}):q.push("coordinates must be an array"),rt(Ye,q)},Fe.isMultiPoint=(P,Ye=!1)=>{if(!H(P))return rt(Ye,["must be a JSON Object"]);let q=[];if("bbox"in P){const Ue=Fe.isBbox(P.bbox,!0);Ue.length&&(q=q.concat(Ue))}if("type"in P?P.type!=="MultiPoint"&&q.push('type must be "MultiPoint"'):q.push('must have a member with the name "type"'),"coordinates"in P){const Ue=Fe.isMultiPointCoor(P.coordinates,!0);Ue.length&&(q=q.concat(Ue))}else q.push('must have a member with the name "coordinates"');return q=q.concat(Pt("MultiPoint",P)),rt(Ye,q)},Fe.isLineStringCoor=(P,Ye=!1)=>{let q=[];return Array.isArray(P)?P.length>1?P.forEach((Ue,Kt)=>{const dt=Fe.isPosition(Ue,!0);dt.length&&(dt[0]="at "+Kt+": ".concat(dt[0]),q=q.concat(dt))}):q.push("coordinates must have at least two elements"):q.push("coordinates must be an array"),rt(Ye,q)},Fe.isLineString=(P,Ye=!1)=>{if(!H(P))return rt(Ye,["must be a JSON Object"]);let q=[];if("bbox"in P){const Ue=Fe.isBbox(P.bbox,!0);Ue.length&&(q=q.concat(Ue))}if("type"in P?P.type!=="LineString"&&q.push('type must be "LineString"'):q.push('must have a member with the name "type"'),"coordinates"in P){const Ue=Fe.isLineStringCoor(P.coordinates,!0);Ue.length&&(q=q.concat(Ue))}else q.push('must have a member with the name "coordinates"');return q=q.concat(Pt("LineString",P)),rt(Ye,q)},Fe.isMultiLineStringCoor=(P,Ye=!1)=>{let q=[];return Array.isArray(P)?P.forEach((Ue,Kt)=>{const dt=Fe.isLineStringCoor(Ue,!0);dt.length&&(dt[0]="at "+Kt+": ".concat(dt[0]),q=q.concat(dt))}):q.push("coordinates must be an array"),rt(Ye,q)},Fe.isMultiLineString=(P,Ye=!1)=>{if(!H(P))return rt(Ye,["must be a JSON Object"]);let q=[];if("bbox"in P){const Ue=Fe.isBbox(P.bbox,!0);Ue.length&&(q=q.concat(Ue))}if("type"in P?P.type!=="MultiLineString"&&q.push('type must be "MultiLineString"'):q.push('must have a member with the name "type"'),"coordinates"in P){const Ue=Fe.isMultiLineStringCoor(P.coordinates,!0);Ue.length&&(q=q.concat(Ue))}else q.push('must have a member with the name "coordinates"');return q=q.concat(Pt("MultiPoint",P)),rt(Ye,q)};function Tt(P,Ye){let q=[];return Array.isArray(P)?(P.forEach((Ue,Kt)=>{const dt=Fe.isPosition(Ue,!0);dt.length&&(dt[0]="at "+Kt+": ".concat(dt[0]),q=q.concat(dt))}),P[0].toString()!==P[P.length-1].toString()&&q.push("The first and last positions must be equivalent"),P.length<4&&q.push("coordinates must have at least four positions")):q.push("coordinates must be an array"),rt(Ye,q)}Fe.isPolygonCoor=(P,Ye=!1)=>{let q=[];return Array.isArray(P)?P.forEach((Ue,Kt)=>{const dt=Tt(Ue,!0);dt.length&&(dt[0]="at "+Kt+": ".concat(dt[0]),q=q.concat(dt))}):q.push("coordinates must be an array"),rt(Ye,q)},Fe.isPolygon=(P,Ye=!1)=>{if(!H(P))return rt(Ye,["must be a JSON Object"]);let q=[];if("bbox"in P){const Ue=Fe.isBbox(P.bbox,!0);Ue.length&&(q=q.concat(Ue))}if("type"in P?P.type!=="Polygon"&&q.push('type must be "Polygon"'):q.push('must have a member with the name "type"'),"coordinates"in P){const Ue=Fe.isPolygonCoor(P.coordinates,!0);Ue.length&&(q=q.concat(Ue))}else q.push('must have a member with the name "coordinates"');return q=q.concat(Pt("Polygon",P)),rt(Ye,q)},Fe.isMultiPolygonCoor=(P,Ye=!1)=>{let q=[];return Array.isArray(P)?P.forEach((Ue,Kt)=>{const dt=Fe.isPolygonCoor(Ue,!0);dt.length&&(dt[0]="at "+Kt+": ".concat(dt[0]),q=q.concat(dt))}):q.push("coordinates must be an array"),rt(Ye,q)},Fe.isMultiPolygon=(P,Ye=!1)=>{if(!H(P))return rt(Ye,["must be a JSON Object"]);let q=[];if("bbox"in P){const Ue=Fe.isBbox(P.bbox,!0);Ue.length&&(q=q.concat(Ue))}if("type"in P?P.type!=="MultiPolygon"&&q.push('type must be "MultiPolygon"'):q.push('must have a member with the name "type"'),"coordinates"in P){const Ue=Fe.isMultiPolygonCoor(P.coordinates,!0);Ue.length&&(q=q.concat(Ue))}else q.push('must have a member with the name "coordinates"');return q=q.concat(Pt("MultiPolygon",P)),rt(Ye,q)},Fe.isGeometryCollection=(P,Ye=!1)=>{if(!H(P))return rt(Ye,["must be a JSON Object"]);let q=[];if("bbox"in P){const Ue=Fe.isBbox(P.bbox,!0);Ue.length&&(q=q.concat(Ue))}return"type"in P?P.type!=="GeometryCollection"&&q.push('type must be "GeometryCollection"'):q.push('must have a member with the name "type"'),"geometries"in P?Array.isArray(P.geometries)?P.geometries.forEach((Ue,Kt)=>{const dt=Fe.isGeometryObject(Ue,!0);dt.length&&(dt[0]="at "+Kt+": ".concat(dt[0]),q=q.concat(dt))}):q.push('"geometries" must be an array'):q.push('must have a member with the name "geometries"'),q=q.concat(Pt("GeometryCollection",P)),rt(Ye,q)},Fe.isFeature=(P,Ye=!1)=>{if(!H(P))return rt(Ye,["must be a JSON Object"]);let q=[];if("bbox"in P){const Ue=Fe.isBbox(P.bbox,!0);Ue.length&&(q=q.concat(Ue))}if("type"in P?P.type!=="Feature"&&q.push('type must be "Feature"'):q.push('must have a member with the name "type"'),"properties"in P||q.push('must have a member with the name "properties"'),"geometry"in P){if(P.geometry!==null){const Ue=Fe.isGeometryObject(P.geometry,!0);Ue.length&&(q=q.concat(Ue))}}else q.push('must have a member with the name "geometry"');return q=q.concat(Pt("Feature",P)),rt(Ye,q)},Fe.isFeatureCollection=(P,Ye=!1)=>{if(!H(P))return rt(Ye,["must be a JSON Object"]);let q=[];if("bbox"in P){const Ue=Fe.isBbox(P.bbox,!0);Ue.length&&(q=Ue)}return"type"in P?P.type!=="FeatureCollection"&&q.push('type must be "FeatureCollection"'):q.push('must have a member with the name "type"'),"features"in P?Array.isArray(P.features)?P.features.forEach((Ue,Kt)=>{const dt=Fe.isFeature(Ue,!0);dt.length&&(dt[0]="at "+Kt+": ".concat(dt[0]),q=q.concat(dt))}):q.push('"Features" must be an array'):q.push('must have a member with the name "Features"'),q=q.concat(Pt("FeatureCollection",P)),rt(Ye,q)},Fe.isBbox=(P,Ye=!1)=>{let q=[];return Array.isArray(P)?P.length%2!==0&&q.push("bbox, must be a 2*n array"):q.push("bbox must be an array"),q=q.concat(Pt("Bbox",P)),rt(Ye,q)};const it={Feature:Fe.isFeature,FeatureCollection:Fe.isFeatureCollection},Ht={Point:Fe.isPoint,MultiPoint:Fe.isMultiPoint,LineString:Fe.isLineString,MultiLineString:Fe.isMultiLineString,Polygon:Fe.isPolygon,MultiPolygon:Fe.isMultiPolygon,GeometryCollection:Fe.isGeometryCollection},xr={Feature:Fe.isFeature,FeatureCollection:Fe.isFeatureCollection,Point:Fe.isPoint,MultiPoint:Fe.isMultiPoint,LineString:Fe.isLineString,MultiLineString:Fe.isMultiLineString,Polygon:Fe.isPolygon,MultiPolygon:Fe.isMultiPolygon,GeometryCollection:Fe.isGeometryCollection,Bbox:Fe.isBbox,Position:Fe.isPosition,GeoJSON:Fe.isGeoJSONObject,GeometryObject:Fe.isGeometryObject};Fe.allTypes=xr},50745:(zt,Fe,Re)=>{var fe=Re(16514),H=Re(85932),rt=Re(21272),Pt=Re(82616);function Tt(Te){return Te&&Te.__esModule?Te.default:Te}function it(Te,be,We,at){Object.defineProperty(Te,be,{get:We,set:at,enumerable:!0,configurable:!0})}function Ht(Te,be){return Object.keys(be).forEach(function(We){We==="default"||We==="__esModule"||Te.hasOwnProperty(We)||Object.defineProperty(Te,We,{enumerable:!0,get:function(){return be[We]}})}),Te}it(zt.exports,"Sortable",()=>$882b6d93070905b3$re_export$Sortable),it(zt.exports,"Direction",()=>$882b6d93070905b3$re_export$Direction),it(zt.exports,"DOMRect",()=>$882b6d93070905b3$re_export$DOMRect),it(zt.exports,"GroupOptions",()=>$882b6d93070905b3$re_export$GroupOptions),it(zt.exports,"MoveEvent",()=>$882b6d93070905b3$re_export$MoveEvent),it(zt.exports,"Options",()=>$882b6d93070905b3$re_export$Options),it(zt.exports,"PullResult",()=>$882b6d93070905b3$re_export$PullResult),it(zt.exports,"PutResult",()=>$882b6d93070905b3$re_export$PutResult),it(zt.exports,"SortableEvent",()=>$882b6d93070905b3$re_export$SortableEvent),it(zt.exports,"SortableOptions",()=>$882b6d93070905b3$re_export$SortableOptions),it(zt.exports,"Utils",()=>$882b6d93070905b3$re_export$Utils),it(zt.exports,"ReactSortable",()=>Ba);function xr(Te){Te.parentElement!==null&&Te.parentElement.removeChild(Te)}function P(Te,be,We){const at=Te.children[We]||null;Te.insertBefore(be,at)}function Ye(Te){q(Te),Ue(Te)}function q(Te){Te.forEach(be=>xr(be.element))}function Ue(Te){Te.forEach(be=>{P(be.parentElement,be.element,be.oldIndex)})}function Kt(Te,be){const We=Nn(Te),at={parentElement:Te.from};let Ze=[];switch(We){case"normal":Ze=[{element:Te.item,newIndex:Te.newIndex,oldIndex:Te.oldIndex,parentElement:Te.from}];break;case"swap":const Oe={element:Te.item,oldIndex:Te.oldIndex,newIndex:Te.newIndex,...at},rr={element:Te.swapItem,oldIndex:Te.newIndex,newIndex:Te.oldIndex,...at};Ze=[Oe,rr];break;case"multidrag":Ze=Te.oldIndicies.map((Or,Ar)=>({element:Or.multiDragElement,oldIndex:Or.index,newIndex:Te.newIndicies[Ar].index,...at}));break}return aa(Ze,be)}function dt(Te,be){const We=gn(Te,be);return an(Te,We)}function gn(Te,be){const We=[...be];return Te.concat().reverse().forEach(at=>We.splice(at.oldIndex,1)),We}function an(Te,be,We,at){const Ze=[...be];return Te.forEach(vt=>{const nt=at&&We&&at(vt.item,We);Ze.splice(vt.newIndex,0,nt||vt.item)}),Ze}function Nn(Te){return Te.oldIndicies&&Te.oldIndicies.length>0?"multidrag":Te.swapItem?"swap":"normal"}function aa(Te,be){return Te.map(at=>({...at,item:be[at.oldIndex]})).sort((at,Ze)=>at.oldIndex-Ze.oldIndex)}function Gn(Te){const{list:be,setList:We,children:at,tag:Ze,style:vt,className:nt,clone:Oe,onAdd:rr,onChange:Or,onChoose:Ar,onClone:$t,onEnd:hi,onFilter:qr,onRemove:wn,onSort:Vt,onStart:ci,onUnchoose:lo,onUpdate:kn,onMove:Aa,onSpill:fi,onSelect:Un,onDeselect:Sa,...oa}=Te;return oa}const Rr={dragging:null};class Ba extends rt.Component{static defaultProps={clone:be=>be};constructor(be){super(be),this.ref=(0,rt.createRef)();const We=[...be.list].map(at=>Object.assign(at,{chosen:!1,selected:!1}));be.setList(We,this.sortable,Rr),Tt(Pt)(!be.plugins,`
Plugins prop is no longer supported.
Instead, mount it with "Sortable.mount(new MultiDrag())"
Please read the updated README.md at https://github.com/SortableJS/react-sortablejs.
      `)}componentDidMount(){if(this.ref.current===null)return;const be=this.makeOptions();Tt(fe).create(this.ref.current,be)}componentDidUpdate(be){be.disabled!==this.props.disabled&&this.sortable&&this.sortable.option("disabled",this.props.disabled)}render(){const{tag:be,style:We,className:at,id:Ze}=this.props,vt={style:We,className:at,id:Ze},nt=!be||be===null?"div":be;return(0,rt.createElement)(nt,{ref:this.ref,...vt},this.getChildren())}getChildren(){const{children:be,dataIdAttr:We,selectedClass:at="sortable-selected",chosenClass:Ze="sortable-chosen",dragClass:vt="sortable-drag",fallbackClass:nt="sortable-falback",ghostClass:Oe="sortable-ghost",swapClass:rr="sortable-swap-highlight",filter:Or="sortable-filter",list:Ar}=this.props;if(!be||be==null)return null;const $t=We||"data-id";return rt.Children.map(be,(hi,qr)=>{if(hi===void 0)return;const wn=Ar[qr]||{},{className:Vt}=hi.props,ci=typeof Or=="string"&&{[Or.replace(".","")]:!!wn.filtered},lo=Tt(H)(Vt,{[at]:wn.selected,[Ze]:wn.chosen,...ci});return(0,rt.cloneElement)(hi,{[$t]:hi.key,className:lo})})}get sortable(){const be=this.ref.current;if(be===null)return null;const We=Object.keys(be).find(at=>at.includes("Sortable"));return We?be[We]:null}makeOptions(){const be=["onAdd","onChoose","onDeselect","onEnd","onRemove","onSelect","onSpill","onStart","onUnchoose","onUpdate"],We=["onChange","onClone","onFilter","onSort"],at=Gn(this.props);return be.forEach(vt=>at[vt]=this.prepareOnHandlerPropAndDOM(vt)),We.forEach(vt=>at[vt]=this.prepareOnHandlerProp(vt)),{...at,onMove:(vt,nt)=>{const{onMove:Oe}=this.props,rr=vt.willInsertAfter||-1;if(!Oe)return rr;const Or=Oe(vt,nt,this.sortable,Rr);return typeof Or>"u"?!1:Or}}}prepareOnHandlerPropAndDOM(be){return We=>{this.callOnHandlerProp(We,be),this[be](We)}}prepareOnHandlerProp(be){return We=>{this.callOnHandlerProp(We,be)}}callOnHandlerProp(be,We){const at=this.props[We];at&&at(be,this.sortable,Rr)}onAdd(be){const{list:We,setList:at,clone:Ze}=this.props,vt=[...Rr.dragging.props.list],nt=Kt(be,vt);q(nt);const Oe=an(nt,We,be,Ze).map(rr=>Object.assign(rr,{selected:!1}));at(Oe,this.sortable,Rr)}onRemove(be){const{list:We,setList:at}=this.props,Ze=Nn(be),vt=Kt(be,We);Ue(vt);let nt=[...We];if(be.pullMode!=="clone")nt=gn(vt,nt);else{let Oe=vt;switch(Ze){case"multidrag":Oe=vt.map((rr,Or)=>({...rr,element:be.clones[Or]}));break;case"normal":Oe=vt.map(rr=>({...rr,element:be.clone}));break;case"swap":default:Tt(Pt)(!0,`mode "${Ze}" cannot clone. Please remove "props.clone" from <ReactSortable/> when using the "${Ze}" plugin`)}q(Oe),vt.forEach(rr=>{const Or=rr.oldIndex,Ar=this.props.clone(rr.item,be);nt.splice(Or,1,Ar)})}nt=nt.map(Oe=>Object.assign(Oe,{selected:!1})),at(nt,this.sortable,Rr)}onUpdate(be){const{list:We,setList:at}=this.props,Ze=Kt(be,We);q(Ze),Ue(Ze);const vt=dt(Ze,We);return at(vt,this.sortable,Rr)}onStart(){Rr.dragging=this}onEnd(){Rr.dragging=null}onChoose(be){const{list:We,setList:at}=this.props,Ze=We.map((vt,nt)=>{let Oe=vt;return nt===be.oldIndex&&(Oe=Object.assign(vt,{chosen:!0})),Oe});at(Ze,this.sortable,Rr)}onUnchoose(be){const{list:We,setList:at}=this.props,Ze=We.map((vt,nt)=>{let Oe=vt;return nt===be.oldIndex&&(Oe=Object.assign(Oe,{chosen:!1})),Oe});at(Ze,this.sortable,Rr)}onSpill(be){const{removeOnSpill:We,revertOnSpill:at}=this.props;We&&!at&&xr(be.item)}onSelect(be){const{list:We,setList:at}=this.props,Ze=We.map(vt=>Object.assign(vt,{selected:!1}));be.newIndicies.forEach(vt=>{const nt=vt.index;if(nt===-1){console.log(`"${be.type}" had indice of "${vt.index}", which is probably -1 and doesn't usually happen here.`),console.log(be);return}Ze[nt].selected=!0}),at(Ze,this.sortable,Rr)}onDeselect(be){const{list:We,setList:at}=this.props,Ze=We.map(vt=>Object.assign(vt,{selected:!1}));be.newIndicies.forEach(vt=>{const nt=vt.index;nt!==-1&&(Ze[nt].selected=!0)}),at(Ze,this.sortable,Rr)}}var uo={};Ht(zt.exports,uo)},85932:(zt,Fe)=>{var Re,fe;/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(){"use strict";var H={}.hasOwnProperty;function rt(){for(var Pt=[],Tt=0;Tt<arguments.length;Tt++){var it=arguments[Tt];if(it){var Ht=typeof it;if(Ht==="string"||Ht==="number")Pt.push(it);else if(Array.isArray(it)){if(it.length){var xr=rt.apply(null,it);xr&&Pt.push(xr)}}else if(Ht==="object")if(it.toString===Object.prototype.toString)for(var P in it)H.call(it,P)&&it[P]&&Pt.push(P);else Pt.push(it.toString())}}return Pt.join(" ")}zt.exports?(rt.default=rt,zt.exports=rt):(Re=[],fe=function(){return rt}.apply(Fe,Re),fe!==void 0&&(zt.exports=fe))})()},82616:(zt,Fe,Re)=>{"use strict";Re.r(Fe),Re.d(Fe,{default:()=>rt});var fe=!0,H="Invariant failed";function rt(Pt,Tt){if(!Pt){if(fe)throw new Error(H);var it=typeof Tt=="function"?Tt():Tt,Ht=it?H+": "+it:H;throw new Error(Ht)}}},16514:(zt,Fe,Re)=>{"use strict";Re.r(Fe),Re.d(Fe,{MultiDrag:()=>Bs,Sortable:()=>ct,Swap:()=>ws,default:()=>Qr});/**!
 * Sortable 1.15.3
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function fe(E,g){var m=Object.keys(E);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(E);g&&(b=b.filter(function(R){return Object.getOwnPropertyDescriptor(E,R).enumerable})),m.push.apply(m,b)}return m}function H(E){for(var g=1;g<arguments.length;g++){var m=arguments[g]!=null?arguments[g]:{};g%2?fe(Object(m),!0).forEach(function(b){Pt(E,b,m[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(m)):fe(Object(m)).forEach(function(b){Object.defineProperty(E,b,Object.getOwnPropertyDescriptor(m,b))})}return E}function rt(E){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?rt=function(g){return typeof g}:rt=function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},rt(E)}function Pt(E,g,m){return g in E?Object.defineProperty(E,g,{value:m,enumerable:!0,configurable:!0,writable:!0}):E[g]=m,E}function Tt(){return Tt=Object.assign||function(E){for(var g=1;g<arguments.length;g++){var m=arguments[g];for(var b in m)Object.prototype.hasOwnProperty.call(m,b)&&(E[b]=m[b])}return E},Tt.apply(this,arguments)}function it(E,g){if(E==null)return{};var m={},b=Object.keys(E),R,K;for(K=0;K<b.length;K++)R=b[K],!(g.indexOf(R)>=0)&&(m[R]=E[R]);return m}function Ht(E,g){if(E==null)return{};var m=it(E,g),b,R;if(Object.getOwnPropertySymbols){var K=Object.getOwnPropertySymbols(E);for(R=0;R<K.length;R++)b=K[R],!(g.indexOf(b)>=0)&&Object.prototype.propertyIsEnumerable.call(E,b)&&(m[b]=E[b])}return m}function xr(E){return P(E)||Ye(E)||q(E)||Kt()}function P(E){if(Array.isArray(E))return Ue(E)}function Ye(E){if(typeof Symbol<"u"&&E[Symbol.iterator]!=null||E["@@iterator"]!=null)return Array.from(E)}function q(E,g){if(E){if(typeof E=="string")return Ue(E,g);var m=Object.prototype.toString.call(E).slice(8,-1);if(m==="Object"&&E.constructor&&(m=E.constructor.name),m==="Map"||m==="Set")return Array.from(E);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return Ue(E,g)}}function Ue(E,g){(g==null||g>E.length)&&(g=E.length);for(var m=0,b=new Array(g);m<g;m++)b[m]=E[m];return b}function Kt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var dt="1.15.3";function gn(E){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(E)}var an=gn(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Nn=gn(/Edge/i),aa=gn(/firefox/i),Gn=gn(/safari/i)&&!gn(/chrome/i)&&!gn(/android/i),Rr=gn(/iP(ad|od|hone)/i),Ba=gn(/chrome/i)&&gn(/android/i),uo={capture:!1,passive:!1};function Te(E,g,m){E.addEventListener(g,m,!an&&uo)}function be(E,g,m){E.removeEventListener(g,m,!an&&uo)}function We(E,g){if(g){if(g[0]===">"&&(g=g.substring(1)),E)try{if(E.matches)return E.matches(g);if(E.msMatchesSelector)return E.msMatchesSelector(g);if(E.webkitMatchesSelector)return E.webkitMatchesSelector(g)}catch{return!1}return!1}}function at(E){return E.host&&E!==document&&E.host.nodeType?E.host:E.parentNode}function Ze(E,g,m,b){if(E){m=m||document;do{if(g!=null&&(g[0]===">"?E.parentNode===m&&We(E,g):We(E,g))||b&&E===m)return E;if(E===m)break}while(E=at(E))}return null}var vt=/\s+/g;function nt(E,g,m){if(E&&g)if(E.classList)E.classList[m?"add":"remove"](g);else{var b=(" "+E.className+" ").replace(vt," ").replace(" "+g+" "," ");E.className=(b+(m?" "+g:"")).replace(vt," ")}}function Oe(E,g,m){var b=E&&E.style;if(b){if(m===void 0)return document.defaultView&&document.defaultView.getComputedStyle?m=document.defaultView.getComputedStyle(E,""):E.currentStyle&&(m=E.currentStyle),g===void 0?m:m[g];!(g in b)&&g.indexOf("webkit")===-1&&(g="-webkit-"+g),b[g]=m+(typeof m=="string"?"":"px")}}function rr(E,g){var m="";if(typeof E=="string")m=E;else do{var b=Oe(E,"transform");b&&b!=="none"&&(m=b+" "+m)}while(!g&&(E=E.parentNode));var R=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return R&&new R(m)}function Or(E,g,m){if(E){var b=E.getElementsByTagName(g),R=0,K=b.length;if(m)for(;R<K;R++)m(b[R],R);return b}return[]}function Ar(){var E=document.scrollingElement;return E||document.documentElement}function $t(E,g,m,b,R){if(!(!E.getBoundingClientRect&&E!==window)){var K,te,pe,we,Se,Ve,je;if(E!==window&&E.parentNode&&E!==Ar()?(K=E.getBoundingClientRect(),te=K.top,pe=K.left,we=K.bottom,Se=K.right,Ve=K.height,je=K.width):(te=0,pe=0,we=window.innerHeight,Se=window.innerWidth,Ve=window.innerHeight,je=window.innerWidth),(g||m)&&E!==window&&(R=R||E.parentNode,!an))do if(R&&R.getBoundingClientRect&&(Oe(R,"transform")!=="none"||m&&Oe(R,"position")!=="static")){var lt=R.getBoundingClientRect();te-=lt.top+parseInt(Oe(R,"border-top-width")),pe-=lt.left+parseInt(Oe(R,"border-left-width")),we=te+K.height,Se=pe+K.width;break}while(R=R.parentNode);if(b&&E!==window){var kt=rr(R||E),ze=kt&&kt.a,Bt=kt&&kt.d;kt&&(te/=Bt,pe/=ze,je/=ze,Ve/=Bt,we=te+Ve,Se=pe+je)}return{top:te,left:pe,bottom:we,right:Se,width:je,height:Ve}}}function hi(E,g,m){for(var b=kn(E,!0),R=$t(E)[g];b;){var K=$t(b)[m],te=void 0;if(m==="top"||m==="left"?te=R>=K:te=R<=K,!te)return b;if(b===Ar())break;b=kn(b,!1)}return!1}function qr(E,g,m,b){for(var R=0,K=0,te=E.children;K<te.length;){if(te[K].style.display!=="none"&&te[K]!==ct.ghost&&(b||te[K]!==ct.dragged)&&Ze(te[K],m.draggable,E,!1)){if(R===g)return te[K];R++}K++}return null}function wn(E,g){for(var m=E.lastElementChild;m&&(m===ct.ghost||Oe(m,"display")==="none"||g&&!We(m,g));)m=m.previousElementSibling;return m||null}function Vt(E,g){var m=0;if(!E||!E.parentNode)return-1;for(;E=E.previousElementSibling;)E.nodeName.toUpperCase()!=="TEMPLATE"&&E!==ct.clone&&(!g||We(E,g))&&m++;return m}function ci(E){var g=0,m=0,b=Ar();if(E)do{var R=rr(E),K=R.a,te=R.d;g+=E.scrollLeft*K,m+=E.scrollTop*te}while(E!==b&&(E=E.parentNode));return[g,m]}function lo(E,g){for(var m in E)if(E.hasOwnProperty(m)){for(var b in g)if(g.hasOwnProperty(b)&&g[b]===E[m][b])return Number(m)}return-1}function kn(E,g){if(!E||!E.getBoundingClientRect)return Ar();var m=E,b=!1;do if(m.clientWidth<m.scrollWidth||m.clientHeight<m.scrollHeight){var R=Oe(m);if(m.clientWidth<m.scrollWidth&&(R.overflowX=="auto"||R.overflowX=="scroll")||m.clientHeight<m.scrollHeight&&(R.overflowY=="auto"||R.overflowY=="scroll")){if(!m.getBoundingClientRect||m===document.body)return Ar();if(b||g)return m;b=!0}}while(m=m.parentNode);return Ar()}function Aa(E,g){if(E&&g)for(var m in g)g.hasOwnProperty(m)&&(E[m]=g[m]);return E}function fi(E,g){return Math.round(E.top)===Math.round(g.top)&&Math.round(E.left)===Math.round(g.left)&&Math.round(E.height)===Math.round(g.height)&&Math.round(E.width)===Math.round(g.width)}var Un;function Sa(E,g){return function(){if(!Un){var m=arguments,b=this;m.length===1?E.call(b,m[0]):E.apply(b,m),Un=setTimeout(function(){Un=void 0},g)}}}function oa(){clearTimeout(Un),Un=void 0}function Io(E,g,m){E.scrollLeft+=g,E.scrollTop+=m}function ji(E){var g=window.Polymer,m=window.jQuery||window.Zepto;return g&&g.dom?g.dom(E).cloneNode(!0):m?m(E).clone(!0)[0]:E.cloneNode(!0)}function No(E,g){Oe(E,"position","absolute"),Oe(E,"top",g.top),Oe(E,"left",g.left),Oe(E,"width",g.width),Oe(E,"height",g.height)}function ho(E){Oe(E,"position",""),Oe(E,"top",""),Oe(E,"left",""),Oe(E,"width",""),Oe(E,"height","")}function Go(E,g,m){var b={};return Array.from(E.children).forEach(function(R){var K,te,pe,we;if(!(!Ze(R,g.draggable,E,!1)||R.animated||R===m)){var Se=$t(R);b.left=Math.min((K=b.left)!==null&&K!==void 0?K:1/0,Se.left),b.top=Math.min((te=b.top)!==null&&te!==void 0?te:1/0,Se.top),b.right=Math.max((pe=b.right)!==null&&pe!==void 0?pe:-1/0,Se.right),b.bottom=Math.max((we=b.bottom)!==null&&we!==void 0?we:-1/0,Se.bottom)}}),b.width=b.right-b.left,b.height=b.bottom-b.top,b.x=b.left,b.y=b.top,b}var Pe="Sortable"+new Date().getTime();function on(){var E=[],g;return{captureAnimationState:function(){if(E=[],!!this.options.animation){var b=[].slice.call(this.el.children);b.forEach(function(R){if(!(Oe(R,"display")==="none"||R===ct.ghost)){E.push({target:R,rect:$t(R)});var K=H({},E[E.length-1].rect);if(R.thisAnimationDuration){var te=rr(R,!0);te&&(K.top-=te.f,K.left-=te.e)}R.fromRect=K}})}},addAnimationState:function(b){E.push(b)},removeAnimationState:function(b){E.splice(lo(E,{target:b}),1)},animateAll:function(b){var R=this;if(!this.options.animation){clearTimeout(g),typeof b=="function"&&b();return}var K=!1,te=0;E.forEach(function(pe){var we=0,Se=pe.target,Ve=Se.fromRect,je=$t(Se),lt=Se.prevFromRect,kt=Se.prevToRect,ze=pe.rect,Bt=rr(Se,!0);Bt&&(je.top-=Bt.f,je.left-=Bt.e),Se.toRect=je,Se.thisAnimationDuration&&fi(lt,je)&&!fi(Ve,je)&&(ze.top-je.top)/(ze.left-je.left)===(Ve.top-je.top)/(Ve.left-je.left)&&(we=co(ze,lt,kt,R.options)),fi(je,Ve)||(Se.prevFromRect=Ve,Se.prevToRect=je,we||(we=R.options.animation),R.animate(Se,ze,je,we)),we&&(K=!0,te=Math.max(te,we),clearTimeout(Se.animationResetTimer),Se.animationResetTimer=setTimeout(function(){Se.animationTime=0,Se.prevFromRect=null,Se.fromRect=null,Se.prevToRect=null,Se.thisAnimationDuration=null},we),Se.thisAnimationDuration=we)}),clearTimeout(g),K?g=setTimeout(function(){typeof b=="function"&&b()},te):typeof b=="function"&&b(),E=[]},animate:function(b,R,K,te){if(te){Oe(b,"transition",""),Oe(b,"transform","");var pe=rr(this.el),we=pe&&pe.a,Se=pe&&pe.d,Ve=(R.left-K.left)/(we||1),je=(R.top-K.top)/(Se||1);b.animatingX=!!Ve,b.animatingY=!!je,Oe(b,"transform","translate3d("+Ve+"px,"+je+"px,0)"),this.forRepaintDummy=Zn(b),Oe(b,"transition","transform "+te+"ms"+(this.options.easing?" "+this.options.easing:"")),Oe(b,"transform","translate3d(0,0,0)"),typeof b.animated=="number"&&clearTimeout(b.animated),b.animated=setTimeout(function(){Oe(b,"transition",""),Oe(b,"transform",""),b.animated=!1,b.animatingX=!1,b.animatingY=!1},te)}}}}function Zn(E){return E.offsetWidth}function co(E,g,m,b){return Math.sqrt(Math.pow(g.top-E.top,2)+Math.pow(g.left-E.left,2))/Math.sqrt(Math.pow(g.top-m.top,2)+Math.pow(g.left-m.left,2))*b.animation}var or=[],jn={initializeByDefault:!0},sa={mount:function(g){for(var m in jn)jn.hasOwnProperty(m)&&!(m in g)&&(g[m]=jn[m]);or.forEach(function(b){if(b.pluginName===g.pluginName)throw"Sortable: Cannot mount plugin ".concat(g.pluginName," more than once")}),or.push(g)},pluginEvent:function(g,m,b){var R=this;this.eventCanceled=!1,b.cancel=function(){R.eventCanceled=!0};var K=g+"Global";or.forEach(function(te){m[te.pluginName]&&(m[te.pluginName][K]&&m[te.pluginName][K](H({sortable:m},b)),m.options[te.pluginName]&&m[te.pluginName][g]&&m[te.pluginName][g](H({sortable:m},b)))})},initializePlugins:function(g,m,b,R){or.forEach(function(pe){var we=pe.pluginName;if(!(!g.options[we]&&!pe.initializeByDefault)){var Se=new pe(g,m,g.options);Se.sortable=g,Se.options=g.options,g[we]=Se,Tt(b,Se.defaults)}});for(var K in g.options)if(g.options.hasOwnProperty(K)){var te=this.modifyOption(g,K,g.options[K]);typeof te<"u"&&(g.options[K]=te)}},getEventProperties:function(g,m){var b={};return or.forEach(function(R){typeof R.eventProperties=="function"&&Tt(b,R.eventProperties.call(m[R.pluginName],g))}),b},modifyOption:function(g,m,b){var R;return or.forEach(function(K){g[K.pluginName]&&K.optionListeners&&typeof K.optionListeners[m]=="function"&&(R=K.optionListeners[m].call(g[K.pluginName],b))}),R}};function Da(E){var g=E.sortable,m=E.rootEl,b=E.name,R=E.targetEl,K=E.cloneEl,te=E.toEl,pe=E.fromEl,we=E.oldIndex,Se=E.newIndex,Ve=E.oldDraggableIndex,je=E.newDraggableIndex,lt=E.originalEvent,kt=E.putSortable,ze=E.extraEventProperties;if(g=g||m&&m[Pe],!!g){var Bt,ir=g.options,vn="on"+b.charAt(0).toUpperCase()+b.substr(1);window.CustomEvent&&!an&&!Nn?Bt=new CustomEvent(b,{bubbles:!0,cancelable:!0}):(Bt=document.createEvent("Event"),Bt.initEvent(b,!0,!0)),Bt.to=te||m,Bt.from=pe||m,Bt.item=R||m,Bt.clone=K,Bt.oldIndex=we,Bt.newIndex=Se,Bt.oldDraggableIndex=Ve,Bt.newDraggableIndex=je,Bt.originalEvent=lt,Bt.pullMode=kt?kt.lastPutMode:void 0;var mr=H(H({},ze),sa.getEventProperties(b,g));for(var en in mr)Bt[en]=mr[en];m&&m.dispatchEvent(Bt),ir[vn]&&ir[vn].call(g,Bt)}}var au=["evt"],Hr=function(g,m){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},R=b.evt,K=Ht(b,au);sa.pluginEvent.bind(ct)(g,m,H({dragEl:Ne,parentEl:fr,ghostEl:ft,rootEl:Wt,nextEl:zi,lastDownEl:ua,cloneEl:Zt,cloneHidden:Di,dragStarted:Pa,putSortable:sr,activeSortable:ct.active,originalEvent:R,oldIndex:zn,oldDraggableIndex:di,newIndex:mn,newDraggableIndex:sn,hideGhostForTarget:Ko,unhideGhostForTarget:yo,cloneNowHidden:function(){Di=!0},cloneNowShown:function(){Di=!1},dispatchSortableEvent:function(pe){Jr({sortable:m,name:pe,originalEvent:R})}},K))};function Jr(E){Da(H({putSortable:sr,cloneEl:Zt,targetEl:Ne,rootEl:Wt,oldIndex:zn,oldDraggableIndex:di,newIndex:mn,newDraggableIndex:sn},E))}var Ne,fr,ft,Wt,zi,ua,Zt,Di,zn,mn,di,sn,Bn,sr,An=!1,fo=!1,la=[],pi,Sn,ha,po,go,Uo,Pa,Hi,Ki,Sr=!1,mo=!1,Ta,Kr,_o=[],ca=!1,Ra=[],Oa=typeof document<"u",$i=Rr,jo=Nn||an?"cssFloat":"float",bs=Oa&&!Ba&&!Rr&&"draggable"in document.createElement("div"),zo=function(){if(Oa){if(an)return!1;var E=document.createElement("x");return E.style.cssText="pointer-events:auto",E.style.pointerEvents==="auto"}}(),Ho=function(g,m){var b=Oe(g),R=parseInt(b.width)-parseInt(b.paddingLeft)-parseInt(b.paddingRight)-parseInt(b.borderLeftWidth)-parseInt(b.borderRightWidth),K=qr(g,0,m),te=qr(g,1,m),pe=K&&Oe(K),we=te&&Oe(te),Se=pe&&parseInt(pe.marginLeft)+parseInt(pe.marginRight)+$t(K).width,Ve=we&&parseInt(we.marginLeft)+parseInt(we.marginRight)+$t(te).width;if(b.display==="flex")return b.flexDirection==="column"||b.flexDirection==="column-reverse"?"vertical":"horizontal";if(b.display==="grid")return b.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(K&&pe.float&&pe.float!=="none"){var je=pe.float==="left"?"left":"right";return te&&(we.clear==="both"||we.clear===je)?"vertical":"horizontal"}return K&&(pe.display==="block"||pe.display==="flex"||pe.display==="table"||pe.display==="grid"||Se>=R&&b[jo]==="none"||te&&b[jo]==="none"&&Se+Ve>R)?"vertical":"horizontal"},Cs=function(g,m,b){var R=b?g.left:g.top,K=b?g.right:g.bottom,te=b?g.width:g.height,pe=b?m.left:m.top,we=b?m.right:m.bottom,Se=b?m.width:m.height;return R===pe||K===we||R+te/2===pe+Se/2},pr=function(g,m){var b;return la.some(function(R){var K=R[Pe].options.emptyInsertThreshold;if(!(!K||wn(R))){var te=$t(R),pe=g>=te.left-K&&g<=te.right+K,we=m>=te.top-K&&m<=te.bottom+K;if(pe&&we)return b=R}}),b},vo=function(g){function m(K,te){return function(pe,we,Se,Ve){var je=pe.options.group.name&&we.options.group.name&&pe.options.group.name===we.options.group.name;if(K==null&&(te||je))return!0;if(K==null||K===!1)return!1;if(te&&K==="clone")return K;if(typeof K=="function")return m(K(pe,we,Se,Ve),te)(pe,we,Se,Ve);var lt=(te?pe:we).options.group.name;return K===!0||typeof K=="string"&&K===lt||K.join&&K.indexOf(lt)>-1}}var b={},R=g.group;(!R||rt(R)!="object")&&(R={name:R}),b.name=R.name,b.checkPull=m(R.pull,!0),b.checkPut=m(R.put),b.revertClone=R.revertClone,g.group=b},Ko=function(){!zo&&ft&&Oe(ft,"display","none")},yo=function(){!zo&&ft&&Oe(ft,"display","")};Oa&&!Ba&&document.addEventListener("click",function(E){if(fo)return E.preventDefault(),E.stopPropagation&&E.stopPropagation(),E.stopImmediatePropagation&&E.stopImmediatePropagation(),fo=!1,!1},!0);var un=function(g){if(Ne){g=g.touches?g.touches[0]:g;var m=pr(g.clientX,g.clientY);if(m){var b={};for(var R in g)g.hasOwnProperty(R)&&(b[R]=g[R]);b.target=b.rootEl=m,b.preventDefault=void 0,b.stopPropagation=void 0,m[Pe]._onDragOver(b)}}},Fa=function(g){Ne&&Ne.parentNode[Pe]._isOutsideThisEl(g.target)};function ct(E,g){if(!(E&&E.nodeType&&E.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(E));this.el=E,this.options=g=Tt({},g),E[Pe]=this;var m={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(E.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Ho(E,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(te,pe){te.setData("Text",pe.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:ct.supportPointer!==!1&&"PointerEvent"in window&&!Gn,emptyInsertThreshold:5};sa.initializePlugins(this,E,m);for(var b in m)!(b in g)&&(g[b]=m[b]);vo(g);for(var R in this)R.charAt(0)==="_"&&typeof this[R]=="function"&&(this[R]=this[R].bind(this));this.nativeDraggable=g.forceFallback?!1:bs,this.nativeDraggable&&(this.options.touchStartThreshold=1),g.supportPointer?Te(E,"pointerdown",this._onTapStart):(Te(E,"mousedown",this._onTapStart),Te(E,"touchstart",this._onTapStart)),this.nativeDraggable&&(Te(E,"dragover",this),Te(E,"dragenter",this)),la.push(this.el),g.store&&g.store.get&&this.sort(g.store.get(this)||[]),Tt(this,on())}ct.prototype={constructor:ct,_isOutsideThisEl:function(g){!this.el.contains(g)&&g!==this.el&&(Hi=null)},_getDirection:function(g,m){return typeof this.options.direction=="function"?this.options.direction.call(this,g,m,Ne):this.options.direction},_onTapStart:function(g){if(g.cancelable){var m=this,b=this.el,R=this.options,K=R.preventOnFilter,te=g.type,pe=g.touches&&g.touches[0]||g.pointerType&&g.pointerType==="touch"&&g,we=(pe||g).target,Se=g.target.shadowRoot&&(g.path&&g.path[0]||g.composedPath&&g.composedPath()[0])||we,Ve=R.filter;if(Ga(b),!Ne&&!(/mousedown|pointerdown/.test(te)&&g.button!==0||R.disabled)&&!Se.isContentEditable&&!(!this.nativeDraggable&&Gn&&we&&we.tagName.toUpperCase()==="SELECT")&&(we=Ze(we,R.draggable,b,!1),!(we&&we.animated)&&ua!==we)){if(zn=Vt(we),di=Vt(we,R.draggable),typeof Ve=="function"){if(Ve.call(this,g,we,this)){Jr({sortable:m,rootEl:Se,name:"filter",targetEl:we,toEl:b,fromEl:b}),Hr("filter",m,{evt:g}),K&&g.cancelable&&g.preventDefault();return}}else if(Ve&&(Ve=Ve.split(",").some(function(je){if(je=Ze(Se,je.trim(),b,!1),je)return Jr({sortable:m,rootEl:je,name:"filter",targetEl:we,fromEl:b,toEl:b}),Hr("filter",m,{evt:g}),!0}),Ve)){K&&g.cancelable&&g.preventDefault();return}R.handle&&!Ze(Se,R.handle,b,!1)||this._prepareDragStart(g,pe,we)}}},_prepareDragStart:function(g,m,b){var R=this,K=R.el,te=R.options,pe=K.ownerDocument,we;if(b&&!Ne&&b.parentNode===K){var Se=$t(b);if(Wt=K,Ne=b,fr=Ne.parentNode,zi=Ne.nextSibling,ua=b,Bn=te.group,ct.dragged=Ne,pi={target:Ne,clientX:(m||g).clientX,clientY:(m||g).clientY},go=pi.clientX-Se.left,Uo=pi.clientY-Se.top,this._lastX=(m||g).clientX,this._lastY=(m||g).clientY,Ne.style["will-change"]="all",we=function(){if(Hr("delayEnded",R,{evt:g}),ct.eventCanceled){R._onDrop();return}R._disableDelayedDragEvents(),!aa&&R.nativeDraggable&&(Ne.draggable=!0),R._triggerDragStart(g,m),Jr({sortable:R,name:"choose",originalEvent:g}),nt(Ne,te.chosenClass,!0)},te.ignore.split(",").forEach(function(Ve){Or(Ne,Ve.trim(),Na)}),Te(pe,"dragover",un),Te(pe,"mousemove",un),Te(pe,"touchmove",un),Te(pe,"mouseup",R._onDrop),Te(pe,"touchend",R._onDrop),Te(pe,"touchcancel",R._onDrop),aa&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Ne.draggable=!0),Hr("delayStart",this,{evt:g}),te.delay&&(!te.delayOnTouchOnly||m)&&(!this.nativeDraggable||!(Nn||an))){if(ct.eventCanceled){this._onDrop();return}Te(pe,"mouseup",R._disableDelayedDrag),Te(pe,"touchend",R._disableDelayedDrag),Te(pe,"touchcancel",R._disableDelayedDrag),Te(pe,"mousemove",R._delayedDragTouchMoveHandler),Te(pe,"touchmove",R._delayedDragTouchMoveHandler),te.supportPointer&&Te(pe,"pointermove",R._delayedDragTouchMoveHandler),R._dragStartTimer=setTimeout(we,te.delay)}else we()}},_delayedDragTouchMoveHandler:function(g){var m=g.touches?g.touches[0]:g;Math.max(Math.abs(m.clientX-this._lastX),Math.abs(m.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Ne&&Na(Ne),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var g=this.el.ownerDocument;be(g,"mouseup",this._disableDelayedDrag),be(g,"touchend",this._disableDelayedDrag),be(g,"touchcancel",this._disableDelayedDrag),be(g,"mousemove",this._delayedDragTouchMoveHandler),be(g,"touchmove",this._delayedDragTouchMoveHandler),be(g,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(g,m){m=m||g.pointerType=="touch"&&g,!this.nativeDraggable||m?this.options.supportPointer?Te(document,"pointermove",this._onTouchMove):m?Te(document,"touchmove",this._onTouchMove):Te(document,"mousemove",this._onTouchMove):(Te(Ne,"dragend",this),Te(Wt,"dragstart",this._onDragStart));try{document.selection?Ua(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(g,m){if(An=!1,Wt&&Ne){Hr("dragStarted",this,{evt:m}),this.nativeDraggable&&Te(document,"dragover",Fa);var b=this.options;!g&&nt(Ne,b.dragClass,!1),nt(Ne,b.ghostClass,!0),ct.active=this,g&&this._appendGhost(),Jr({sortable:this,name:"start",originalEvent:m})}else this._nulling()},_emulateDragOver:function(){if(Sn){this._lastX=Sn.clientX,this._lastY=Sn.clientY,Ko();for(var g=document.elementFromPoint(Sn.clientX,Sn.clientY),m=g;g&&g.shadowRoot&&(g=g.shadowRoot.elementFromPoint(Sn.clientX,Sn.clientY),g!==m);)m=g;if(Ne.parentNode[Pe]._isOutsideThisEl(g),m)do{if(m[Pe]){var b=void 0;if(b=m[Pe]._onDragOver({clientX:Sn.clientX,clientY:Sn.clientY,target:g,rootEl:m}),b&&!this.options.dragoverBubble)break}g=m}while(m=at(m));yo()}},_onTouchMove:function(g){if(pi){var m=this.options,b=m.fallbackTolerance,R=m.fallbackOffset,K=g.touches?g.touches[0]:g,te=ft&&rr(ft,!0),pe=ft&&te&&te.a,we=ft&&te&&te.d,Se=$i&&Kr&&ci(Kr),Ve=(K.clientX-pi.clientX+R.x)/(pe||1)+(Se?Se[0]-_o[0]:0)/(pe||1),je=(K.clientY-pi.clientY+R.y)/(we||1)+(Se?Se[1]-_o[1]:0)/(we||1);if(!ct.active&&!An){if(b&&Math.max(Math.abs(K.clientX-this._lastX),Math.abs(K.clientY-this._lastY))<b)return;this._onDragStart(g,!0)}if(ft){te?(te.e+=Ve-(ha||0),te.f+=je-(po||0)):te={a:1,b:0,c:0,d:1,e:Ve,f:je};var lt="matrix(".concat(te.a,",").concat(te.b,",").concat(te.c,",").concat(te.d,",").concat(te.e,",").concat(te.f,")");Oe(ft,"webkitTransform",lt),Oe(ft,"mozTransform",lt),Oe(ft,"msTransform",lt),Oe(ft,"transform",lt),ha=Ve,po=je,Sn=K}g.cancelable&&g.preventDefault()}},_appendGhost:function(){if(!ft){var g=this.options.fallbackOnBody?document.body:Wt,m=$t(Ne,!0,$i,!0,g),b=this.options;if($i){for(Kr=g;Oe(Kr,"position")==="static"&&Oe(Kr,"transform")==="none"&&Kr!==document;)Kr=Kr.parentNode;Kr!==document.body&&Kr!==document.documentElement?(Kr===document&&(Kr=Ar()),m.top+=Kr.scrollTop,m.left+=Kr.scrollLeft):Kr=Ar(),_o=ci(Kr)}ft=Ne.cloneNode(!0),nt(ft,b.ghostClass,!1),nt(ft,b.fallbackClass,!0),nt(ft,b.dragClass,!0),Oe(ft,"transition",""),Oe(ft,"transform",""),Oe(ft,"box-sizing","border-box"),Oe(ft,"margin",0),Oe(ft,"top",m.top),Oe(ft,"left",m.left),Oe(ft,"width",m.width),Oe(ft,"height",m.height),Oe(ft,"opacity","0.8"),Oe(ft,"position",$i?"absolute":"fixed"),Oe(ft,"zIndex","100000"),Oe(ft,"pointerEvents","none"),ct.ghost=ft,g.appendChild(ft),Oe(ft,"transform-origin",go/parseInt(ft.style.width)*100+"% "+Uo/parseInt(ft.style.height)*100+"%")}},_onDragStart:function(g,m){var b=this,R=g.dataTransfer,K=b.options;if(Hr("dragStart",this,{evt:g}),ct.eventCanceled){this._onDrop();return}Hr("setupClone",this),ct.eventCanceled||(Zt=ji(Ne),Zt.removeAttribute("id"),Zt.draggable=!1,Zt.style["will-change"]="",this._hideClone(),nt(Zt,this.options.chosenClass,!1),ct.clone=Zt),b.cloneId=Ua(function(){Hr("clone",b),!ct.eventCanceled&&(b.options.removeCloneOnHide||Wt.insertBefore(Zt,Ne),b._hideClone(),Jr({sortable:b,name:"clone"}))}),!m&&nt(Ne,K.dragClass,!0),m?(fo=!0,b._loopId=setInterval(b._emulateDragOver,50)):(be(document,"mouseup",b._onDrop),be(document,"touchend",b._onDrop),be(document,"touchcancel",b._onDrop),R&&(R.effectAllowed="move",K.setData&&K.setData.call(b,R,Ne)),Te(document,"drop",b),Oe(Ne,"transform","translateZ(0)")),An=!0,b._dragStartId=Ua(b._dragStarted.bind(b,m,g)),Te(document,"selectstart",b),Pa=!0,Gn&&Oe(document.body,"user-select","none")},_onDragOver:function(g){var m=this.el,b=g.target,R,K,te,pe=this.options,we=pe.group,Se=ct.active,Ve=Bn===we,je=pe.sort,lt=sr||Se,kt,ze=this,Bt=!1;if(ca)return;function ir(qi,Ss){Hr(qi,ze,H({evt:g,isOwner:Ve,axis:kt?"vertical":"horizontal",revert:te,dragRect:R,targetRect:K,canSort:je,fromSortable:lt,target:b,completed:mr,onMove:function(Ir,Jo){return Ia(Wt,m,Ne,R,Ir,$t(Ir),g,Jo)},changed:en},Ss))}function vn(){ir("dragOverAnimationCapture"),ze.captureAnimationState(),ze!==lt&&lt.captureAnimationState()}function mr(qi){return ir("dragOverCompleted",{insertion:qi}),qi&&(Ve?Se._hideClone():Se._showClone(ze),ze!==lt&&(nt(Ne,sr?sr.options.ghostClass:Se.options.ghostClass,!1),nt(Ne,pe.ghostClass,!0)),sr!==ze&&ze!==ct.active?sr=ze:ze===ct.active&&sr&&(sr=null),lt===ze&&(ze._ignoreWhileAnimating=b),ze.animateAll(function(){ir("dragOverAnimationComplete"),ze._ignoreWhileAnimating=null}),ze!==lt&&(lt.animateAll(),lt._ignoreWhileAnimating=null)),(b===Ne&&!Ne.animated||b===m&&!b.animated)&&(Hi=null),!pe.dragoverBubble&&!g.rootEl&&b!==document&&(Ne.parentNode[Pe]._isOutsideThisEl(g.target),!qi&&un(g)),!pe.dragoverBubble&&g.stopPropagation&&g.stopPropagation(),Bt=!0}function en(){mn=Vt(Ne),sn=Vt(Ne,pe.draggable),Jr({sortable:ze,name:"change",toEl:m,newIndex:mn,newDraggableIndex:sn,originalEvent:g})}if(g.preventDefault!==void 0&&g.cancelable&&g.preventDefault(),b=Ze(b,pe.draggable,m,!0),ir("dragOver"),ct.eventCanceled)return Bt;if(Ne.contains(g.target)||b.animated&&b.animatingX&&b.animatingY||ze._ignoreWhileAnimating===b)return mr(!1);if(fo=!1,Se&&!pe.disabled&&(Ve?je||(te=fr!==Wt):sr===this||(this.lastPutMode=Bn.checkPull(this,Se,Ne,g))&&we.checkPut(this,Se,Ne,g))){if(kt=this._getDirection(g,b)==="vertical",R=$t(Ne),ir("dragOverValid"),ct.eventCanceled)return Bt;if(te)return fr=Wt,vn(),this._hideClone(),ir("revert"),ct.eventCanceled||(zi?Wt.insertBefore(Ne,zi):Wt.appendChild(Ne)),mr(!0);var St=wn(m,pe.draggable);if(!St||Es(g,kt,this)&&!St.animated){if(St===Ne)return mr(!1);if(St&&m===g.target&&(b=St),b&&(K=$t(b)),Ia(Wt,m,Ne,R,b,K,g,!!b)!==!1)return vn(),St&&St.nextSibling?m.insertBefore(Ne,St.nextSibling):m.appendChild(Ne),fr=m,en(),mr(!0)}else if(St&&Ls(g,kt,this)){var Fr=qr(m,0,pe,!0);if(Fr===Ne)return mr(!1);if(b=Fr,K=$t(b),Ia(Wt,m,Ne,R,b,K,g,!1)!==!1)return vn(),m.insertBefore(Ne,Fr),fr=m,en(),mr(!0)}else if(b.parentNode===m){K=$t(b);var Hn=0,$r,Xi=Ne.parentNode!==m,Mr=!Cs(Ne.animated&&Ne.toRect||R,b.animated&&b.toRect||K,kt),Yi=kt?"top":"left",Kn=hi(b,"top","top")||hi(Ne,"top","top"),Ti=Kn?Kn.scrollTop:void 0;Hi!==b&&($r=K[Yi],Sr=!1,mo=!Mr&&pe.invertSwap||Xi),Hn=Wo(g,b,K,kt,Mr?1:pe.swapThreshold,pe.invertedSwapThreshold==null?pe.swapThreshold:pe.invertedSwapThreshold,mo,Hi===b);var tn;if(Hn!==0){var st=Vt(Ne);do st-=Hn,tn=fr.children[st];while(tn&&(Oe(tn,"display")==="none"||tn===ft))}if(Hn===0||tn===b)return mr(!1);Hi=b,Ki=Hn;var _r=b.nextElementSibling,mi=!1;mi=Hn===1;var $n=Ia(Wt,m,Ne,R,b,K,g,mi);if($n!==!1)return($n===1||$n===-1)&&(mi=$n===1),ca=!0,setTimeout(Vo,30),vn(),mi&&!_r?m.appendChild(Ne):b.parentNode.insertBefore(Ne,mi?_r:b),Kn&&Io(Kn,0,Ti-Kn.scrollTop),fr=Ne.parentNode,$r!==void 0&&!mo&&(Ta=Math.abs($r-$t(b)[Yi])),en(),mr(!0)}if(m.contains(Ne))return mr(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){be(document,"mousemove",this._onTouchMove),be(document,"touchmove",this._onTouchMove),be(document,"pointermove",this._onTouchMove),be(document,"dragover",un),be(document,"mousemove",un),be(document,"touchmove",un)},_offUpEvents:function(){var g=this.el.ownerDocument;be(g,"mouseup",this._onDrop),be(g,"touchend",this._onDrop),be(g,"pointerup",this._onDrop),be(g,"touchcancel",this._onDrop),be(document,"selectstart",this)},_onDrop:function(g){var m=this.el,b=this.options;if(mn=Vt(Ne),sn=Vt(Ne,b.draggable),Hr("drop",this,{evt:g}),fr=Ne&&Ne.parentNode,mn=Vt(Ne),sn=Vt(Ne,b.draggable),ct.eventCanceled){this._nulling();return}An=!1,mo=!1,Sr=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),ja(this.cloneId),ja(this._dragStartId),this.nativeDraggable&&(be(document,"drop",this),be(m,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Gn&&Oe(document.body,"user-select",""),Oe(Ne,"transform",""),g&&(Pa&&(g.cancelable&&g.preventDefault(),!b.dropBubble&&g.stopPropagation()),ft&&ft.parentNode&&ft.parentNode.removeChild(ft),(Wt===fr||sr&&sr.lastPutMode!=="clone")&&Zt&&Zt.parentNode&&Zt.parentNode.removeChild(Zt),Ne&&(this.nativeDraggable&&be(Ne,"dragend",this),Na(Ne),Ne.style["will-change"]="",Pa&&!An&&nt(Ne,sr?sr.options.ghostClass:this.options.ghostClass,!1),nt(Ne,this.options.chosenClass,!1),Jr({sortable:this,name:"unchoose",toEl:fr,newIndex:null,newDraggableIndex:null,originalEvent:g}),Wt!==fr?(mn>=0&&(Jr({rootEl:fr,name:"add",toEl:fr,fromEl:Wt,originalEvent:g}),Jr({sortable:this,name:"remove",toEl:fr,originalEvent:g}),Jr({rootEl:fr,name:"sort",toEl:fr,fromEl:Wt,originalEvent:g}),Jr({sortable:this,name:"sort",toEl:fr,originalEvent:g})),sr&&sr.save()):mn!==zn&&mn>=0&&(Jr({sortable:this,name:"update",toEl:fr,originalEvent:g}),Jr({sortable:this,name:"sort",toEl:fr,originalEvent:g})),ct.active&&((mn==null||mn===-1)&&(mn=zn,sn=di),Jr({sortable:this,name:"end",toEl:fr,originalEvent:g}),this.save()))),this._nulling()},_nulling:function(){Hr("nulling",this),Wt=Ne=fr=ft=zi=Zt=ua=Di=pi=Sn=Pa=mn=sn=zn=di=Hi=Ki=sr=Bn=ct.dragged=ct.ghost=ct.clone=ct.active=null,Ra.forEach(function(g){g.checked=!0}),Ra.length=ha=po=0},handleEvent:function(g){switch(g.type){case"drop":case"dragend":this._onDrop(g);break;case"dragenter":case"dragover":Ne&&(this._onDragOver(g),$o(g));break;case"selectstart":g.preventDefault();break}},toArray:function(){for(var g=[],m,b=this.el.children,R=0,K=b.length,te=this.options;R<K;R++)m=b[R],Ze(m,te.draggable,this.el,!1)&&g.push(m.getAttribute(te.dataIdAttr)||Ms(m));return g},sort:function(g,m){var b={},R=this.el;this.toArray().forEach(function(K,te){var pe=R.children[te];Ze(pe,this.options.draggable,R,!1)&&(b[K]=pe)},this),m&&this.captureAnimationState(),g.forEach(function(K){b[K]&&(R.removeChild(b[K]),R.appendChild(b[K]))}),m&&this.animateAll()},save:function(){var g=this.options.store;g&&g.set&&g.set(this)},closest:function(g,m){return Ze(g,m||this.options.draggable,this.el,!1)},option:function(g,m){var b=this.options;if(m===void 0)return b[g];var R=sa.modifyOption(this,g,m);typeof R<"u"?b[g]=R:b[g]=m,g==="group"&&vo(b)},destroy:function(){Hr("destroy",this);var g=this.el;g[Pe]=null,be(g,"mousedown",this._onTapStart),be(g,"touchstart",this._onTapStart),be(g,"pointerdown",this._onTapStart),this.nativeDraggable&&(be(g,"dragover",this),be(g,"dragenter",this)),Array.prototype.forEach.call(g.querySelectorAll("[draggable]"),function(m){m.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),la.splice(la.indexOf(this.el),1),this.el=g=null},_hideClone:function(){if(!Di){if(Hr("hideClone",this),ct.eventCanceled)return;Oe(Zt,"display","none"),this.options.removeCloneOnHide&&Zt.parentNode&&Zt.parentNode.removeChild(Zt),Di=!0}},_showClone:function(g){if(g.lastPutMode!=="clone"){this._hideClone();return}if(Di){if(Hr("showClone",this),ct.eventCanceled)return;Ne.parentNode==Wt&&!this.options.group.revertClone?Wt.insertBefore(Zt,Ne):zi?Wt.insertBefore(Zt,zi):Wt.appendChild(Zt),this.options.group.revertClone&&this.animate(Ne,Zt),Oe(Zt,"display",""),Di=!1}}};function $o(E){E.dataTransfer&&(E.dataTransfer.dropEffect="move"),E.cancelable&&E.preventDefault()}function Ia(E,g,m,b,R,K,te,pe){var we,Se=E[Pe],Ve=Se.options.onMove,je;return window.CustomEvent&&!an&&!Nn?we=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(we=document.createEvent("Event"),we.initEvent("move",!0,!0)),we.to=g,we.from=E,we.dragged=m,we.draggedRect=b,we.related=R||g,we.relatedRect=K||$t(g),we.willInsertAfter=pe,we.originalEvent=te,E.dispatchEvent(we),Ve&&(je=Ve.call(Se,we,te)),je}function Na(E){E.draggable=!1}function Vo(){ca=!1}function Ls(E,g,m){var b=$t(qr(m.el,0,m.options,!0)),R=Go(m.el,m.options,ft),K=10;return g?E.clientX<R.left-K||E.clientY<b.top&&E.clientX<b.right:E.clientY<R.top-K||E.clientY<b.bottom&&E.clientX<b.left}function Es(E,g,m){var b=$t(wn(m.el,m.options.draggable)),R=Go(m.el,m.options,ft),K=10;return g?E.clientX>R.right+K||E.clientY>b.bottom&&E.clientX>b.left:E.clientY>R.bottom+K||E.clientX>b.right&&E.clientY>b.top}function Wo(E,g,m,b,R,K,te,pe){var we=b?E.clientY:E.clientX,Se=b?m.height:m.width,Ve=b?m.top:m.left,je=b?m.bottom:m.right,lt=!1;if(!te){if(pe&&Ta<Se*R){if(!Sr&&(Ki===1?we>Ve+Se*K/2:we<je-Se*K/2)&&(Sr=!0),Sr)lt=!0;else if(Ki===1?we<Ve+Ta:we>je-Ta)return-Ki}else if(we>Ve+Se*(1-R)/2&&we<je-Se*(1-R)/2)return xs(g)}return lt=lt||te,lt&&(we<Ve+Se*K/2||we>je-Se*K/2)?we>Ve+Se/2?1:-1:0}function xs(E){return Vt(Ne)<Vt(E)?1:-1}function Ms(E){for(var g=E.tagName+E.className+E.src+E.href+E.textContent,m=g.length,b=0;m--;)b+=g.charCodeAt(m);return b.toString(36)}function Ga(E){Ra.length=0;for(var g=E.getElementsByTagName("input"),m=g.length;m--;){var b=g[m];b.checked&&Ra.push(b)}}function Ua(E){return setTimeout(E,0)}function ja(E){return clearTimeout(E)}Oa&&Te(document,"touchmove",function(E){(ct.active||An)&&E.cancelable&&E.preventDefault()}),ct.utils={on:Te,off:be,css:Oe,find:Or,is:function(g,m){return!!Ze(g,m,g,!1)},extend:Aa,throttle:Sa,closest:Ze,toggleClass:nt,clone:ji,index:Vt,nextTick:Ua,cancelNextTick:ja,detectDirection:Ho,getChild:qr,expando:Pe},ct.get=function(E){return E[Pe]},ct.mount=function(){for(var E=arguments.length,g=new Array(E),m=0;m<E;m++)g[m]=arguments[m];g[0].constructor===Array&&(g=g[0]),g.forEach(function(b){if(!b.prototype||!b.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(b));b.utils&&(ct.utils=H(H({},ct.utils),b.utils)),sa.mount(b)})},ct.create=function(E,g){return new ct(E,g)},ct.version=dt;var ur=[],Pi,za,Ha=!1,Ka,bo,$a,fa;function Xo(){function E(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var g in this)g.charAt(0)==="_"&&typeof this[g]=="function"&&(this[g]=this[g].bind(this))}return E.prototype={dragStarted:function(m){var b=m.originalEvent;this.sortable.nativeDraggable?Te(document,"dragover",this._handleAutoScroll):this.options.supportPointer?Te(document,"pointermove",this._handleFallbackAutoScroll):b.touches?Te(document,"touchmove",this._handleFallbackAutoScroll):Te(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(m){var b=m.originalEvent;!this.options.dragOverBubble&&!b.rootEl&&this._handleAutoScroll(b)},drop:function(){this.sortable.nativeDraggable?be(document,"dragover",this._handleAutoScroll):(be(document,"pointermove",this._handleFallbackAutoScroll),be(document,"touchmove",this._handleFallbackAutoScroll),be(document,"mousemove",this._handleFallbackAutoScroll)),Yo(),gi(),oa()},nulling:function(){$a=za=Pi=Ha=fa=Ka=bo=null,ur.length=0},_handleFallbackAutoScroll:function(m){this._handleAutoScroll(m,!0)},_handleAutoScroll:function(m,b){var R=this,K=(m.touches?m.touches[0]:m).clientX,te=(m.touches?m.touches[0]:m).clientY,pe=document.elementFromPoint(K,te);if($a=m,b||this.options.forceAutoScrollFallback||Nn||an||Gn){Va(m,this.options,pe,b);var we=kn(pe,!0);Ha&&(!fa||K!==Ka||te!==bo)&&(fa&&Yo(),fa=setInterval(function(){var Se=kn(document.elementFromPoint(K,te),!0);Se!==we&&(we=Se,gi()),Va(m,R.options,Se,b)},10),Ka=K,bo=te)}else{if(!this.options.bubbleScroll||kn(pe,!0)===Ar()){gi();return}Va(m,this.options,kn(pe,!1),!1)}}},Tt(E,{pluginName:"scroll",initializeByDefault:!0})}function gi(){ur.forEach(function(E){clearInterval(E.pid)}),ur=[]}function Yo(){clearInterval(fa)}var Va=Sa(function(E,g,m,b){if(g.scroll){var R=(E.touches?E.touches[0]:E).clientX,K=(E.touches?E.touches[0]:E).clientY,te=g.scrollSensitivity,pe=g.scrollSpeed,we=Ar(),Se=!1,Ve;za!==m&&(za=m,gi(),Pi=g.scroll,Ve=g.scrollFn,Pi===!0&&(Pi=kn(m,!0)));var je=0,lt=Pi;do{var kt=lt,ze=$t(kt),Bt=ze.top,ir=ze.bottom,vn=ze.left,mr=ze.right,en=ze.width,St=ze.height,Fr=void 0,Hn=void 0,$r=kt.scrollWidth,Xi=kt.scrollHeight,Mr=Oe(kt),Yi=kt.scrollLeft,Kn=kt.scrollTop;kt===we?(Fr=en<$r&&(Mr.overflowX==="auto"||Mr.overflowX==="scroll"||Mr.overflowX==="visible"),Hn=St<Xi&&(Mr.overflowY==="auto"||Mr.overflowY==="scroll"||Mr.overflowY==="visible")):(Fr=en<$r&&(Mr.overflowX==="auto"||Mr.overflowX==="scroll"),Hn=St<Xi&&(Mr.overflowY==="auto"||Mr.overflowY==="scroll"));var Ti=Fr&&(Math.abs(mr-R)<=te&&Yi+en<$r)-(Math.abs(vn-R)<=te&&!!Yi),tn=Hn&&(Math.abs(ir-K)<=te&&Kn+St<Xi)-(Math.abs(Bt-K)<=te&&!!Kn);if(!ur[je])for(var st=0;st<=je;st++)ur[st]||(ur[st]={});(ur[je].vx!=Ti||ur[je].vy!=tn||ur[je].el!==kt)&&(ur[je].el=kt,ur[je].vx=Ti,ur[je].vy=tn,clearInterval(ur[je].pid),(Ti!=0||tn!=0)&&(Se=!0,ur[je].pid=setInterval(function(){b&&this.layer===0&&ct.active._onTouchMove($a);var _r=ur[this.layer].vy?ur[this.layer].vy*pe:0,mi=ur[this.layer].vx?ur[this.layer].vx*pe:0;typeof Ve=="function"&&Ve.call(ct.dragged.parentNode[Pe],mi,_r,E,$a,ur[this.layer].el)!=="continue"||Io(ur[this.layer].el,mi,_r)}.bind({layer:je}),24))),je++}while(g.bubbleScroll&&lt!==we&&(lt=kn(lt,!1)));Ha=Se}},30),Co=function(g){var m=g.originalEvent,b=g.putSortable,R=g.dragEl,K=g.activeSortable,te=g.dispatchSortableEvent,pe=g.hideGhostForTarget,we=g.unhideGhostForTarget;if(m){var Se=b||K;pe();var Ve=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:m,je=document.elementFromPoint(Ve.clientX,Ve.clientY);we(),Se&&!Se.el.contains(je)&&(te("spill"),this.onSpill({dragEl:R,putSortable:b}))}};function Lo(){}Lo.prototype={startIndex:null,dragStart:function(g){var m=g.oldDraggableIndex;this.startIndex=m},onSpill:function(g){var m=g.dragEl,b=g.putSortable;this.sortable.captureAnimationState(),b&&b.captureAnimationState();var R=qr(this.sortable.el,this.startIndex,this.options);R?this.sortable.el.insertBefore(m,R):this.sortable.el.appendChild(m),this.sortable.animateAll(),b&&b.animateAll()},drop:Co},Tt(Lo,{pluginName:"revertOnSpill"});function Wa(){}Wa.prototype={onSpill:function(g){var m=g.dragEl,b=g.putSortable,R=b||this.sortable;R.captureAnimationState(),m.parentNode&&m.parentNode.removeChild(m),R.animateAll()},drop:Co},Tt(Wa,{pluginName:"removeOnSpill"});var _n;function ws(){function E(){this.defaults={swapClass:"sortable-swap-highlight"}}return E.prototype={dragStart:function(m){var b=m.dragEl;_n=b},dragOverValid:function(m){var b=m.completed,R=m.target,K=m.onMove,te=m.activeSortable,pe=m.changed,we=m.cancel;if(te.options.swap){var Se=this.sortable.el,Ve=this.options;if(R&&R!==Se){var je=_n;K(R)!==!1?(nt(R,Ve.swapClass,!0),_n=R):_n=null,je&&je!==_n&&nt(je,Ve.swapClass,!1)}pe(),b(!0),we()}},drop:function(m){var b=m.activeSortable,R=m.putSortable,K=m.dragEl,te=R||this.sortable,pe=this.options;_n&&nt(_n,pe.swapClass,!1),_n&&(pe.swap||R&&R.options.swap)&&K!==_n&&(te.captureAnimationState(),te!==b&&b.captureAnimationState(),ks(K,_n),te.animateAll(),te!==b&&b.animateAll())},nulling:function(){_n=null}},Tt(E,{pluginName:"swap",eventProperties:function(){return{swapItem:_n}}})}function ks(E,g){var m=E.parentNode,b=g.parentNode,R,K;!m||!b||m.isEqualNode(g)||b.isEqualNode(E)||(R=Vt(E),K=Vt(g),m.isEqualNode(b)&&R<K&&K++,m.insertBefore(g,m.children[R]),b.insertBefore(E,b.children[K]))}var yt=[],ln=[],da,gr,Vi=!1,Zr=!1,Wi=!1,Yt,pa,Xa;function Bs(){function E(g){for(var m in this)m.charAt(0)==="_"&&typeof this[m]=="function"&&(this[m]=this[m].bind(this));g.options.avoidImplicitDeselect||(g.options.supportPointer?Te(document,"pointerup",this._deselectMultiDrag):(Te(document,"mouseup",this._deselectMultiDrag),Te(document,"touchend",this._deselectMultiDrag))),Te(document,"keydown",this._checkKeyDown),Te(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,avoidImplicitDeselect:!1,setData:function(R,K){var te="";yt.length&&gr===g?yt.forEach(function(pe,we){te+=(we?", ":"")+pe.textContent}):te=K.textContent,R.setData("Text",te)}}}return E.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(m){var b=m.dragEl;Yt=b},delayEnded:function(){this.isMultiDrag=~yt.indexOf(Yt)},setupClone:function(m){var b=m.sortable,R=m.cancel;if(this.isMultiDrag){for(var K=0;K<yt.length;K++)ln.push(ji(yt[K])),ln[K].sortableIndex=yt[K].sortableIndex,ln[K].draggable=!1,ln[K].style["will-change"]="",nt(ln[K],this.options.selectedClass,!1),yt[K]===Yt&&nt(ln[K],this.options.chosenClass,!1);b._hideClone(),R()}},clone:function(m){var b=m.sortable,R=m.rootEl,K=m.dispatchSortableEvent,te=m.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||yt.length&&gr===b&&(qo(!0,R),K("clone"),te()))},showClone:function(m){var b=m.cloneNowShown,R=m.rootEl,K=m.cancel;this.isMultiDrag&&(qo(!1,R),ln.forEach(function(te){Oe(te,"display","")}),b(),Xa=!1,K())},hideClone:function(m){var b=this,R=m.sortable,K=m.cloneNowHidden,te=m.cancel;this.isMultiDrag&&(ln.forEach(function(pe){Oe(pe,"display","none"),b.options.removeCloneOnHide&&pe.parentNode&&pe.parentNode.removeChild(pe)}),K(),Xa=!0,te())},dragStartGlobal:function(m){var b=m.sortable;!this.isMultiDrag&&gr&&gr.multiDrag._deselectMultiDrag(),yt.forEach(function(R){R.sortableIndex=Vt(R)}),yt=yt.sort(function(R,K){return R.sortableIndex-K.sortableIndex}),Wi=!0},dragStarted:function(m){var b=this,R=m.sortable;if(this.isMultiDrag){if(this.options.sort&&(R.captureAnimationState(),this.options.animation)){yt.forEach(function(te){te!==Yt&&Oe(te,"position","absolute")});var K=$t(Yt,!1,!0,!0);yt.forEach(function(te){te!==Yt&&No(te,K)}),Zr=!0,Vi=!0}R.animateAll(function(){Zr=!1,Vi=!1,b.options.animation&&yt.forEach(function(te){ho(te)}),b.options.sort&&Cr()})}},dragOver:function(m){var b=m.target,R=m.completed,K=m.cancel;Zr&&~yt.indexOf(b)&&(R(!1),K())},revert:function(m){var b=m.fromSortable,R=m.rootEl,K=m.sortable,te=m.dragRect;yt.length>1&&(yt.forEach(function(pe){K.addAnimationState({target:pe,rect:Zr?$t(pe):te}),ho(pe),pe.fromRect=te,b.removeAnimationState(pe)}),Zr=!1,As(!this.options.removeCloneOnHide,R))},dragOverCompleted:function(m){var b=m.sortable,R=m.isOwner,K=m.insertion,te=m.activeSortable,pe=m.parentEl,we=m.putSortable,Se=this.options;if(K){if(R&&te._hideClone(),Vi=!1,Se.animation&&yt.length>1&&(Zr||!R&&!te.options.sort&&!we)){var Ve=$t(Yt,!1,!0,!0);yt.forEach(function(lt){lt!==Yt&&(No(lt,Ve),pe.appendChild(lt))}),Zr=!0}if(!R)if(Zr||Cr(),yt.length>1){var je=Xa;te._showClone(b),te.options.animation&&!Xa&&je&&ln.forEach(function(lt){te.addAnimationState({target:lt,rect:pa}),lt.fromRect=pa,lt.thisAnimationDuration=null})}else te._showClone(b)}},dragOverAnimationCapture:function(m){var b=m.dragRect,R=m.isOwner,K=m.activeSortable;if(yt.forEach(function(pe){pe.thisAnimationDuration=null}),K.options.animation&&!R&&K.multiDrag.isMultiDrag){pa=Tt({},b);var te=rr(Yt,!0);pa.top-=te.f,pa.left-=te.e}},dragOverAnimationComplete:function(){Zr&&(Zr=!1,Cr())},drop:function(m){var b=m.originalEvent,R=m.rootEl,K=m.parentEl,te=m.sortable,pe=m.dispatchSortableEvent,we=m.oldIndex,Se=m.putSortable,Ve=Se||this.sortable;if(b){var je=this.options,lt=K.children;if(!Wi)if(je.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),nt(Yt,je.selectedClass,!~yt.indexOf(Yt)),~yt.indexOf(Yt))yt.splice(yt.indexOf(Yt),1),da=null,Da({sortable:te,rootEl:R,name:"deselect",targetEl:Yt,originalEvent:b});else{if(yt.push(Yt),Da({sortable:te,rootEl:R,name:"select",targetEl:Yt,originalEvent:b}),b.shiftKey&&da&&te.el.contains(da)){var kt=Vt(da),ze=Vt(Yt);if(~kt&&~ze&&kt!==ze){var Bt,ir;for(ze>kt?(ir=kt,Bt=ze):(ir=ze,Bt=kt+1);ir<Bt;ir++)~yt.indexOf(lt[ir])||(nt(lt[ir],je.selectedClass,!0),yt.push(lt[ir]),Da({sortable:te,rootEl:R,name:"select",targetEl:lt[ir],originalEvent:b}))}}else da=Yt;gr=Ve}if(Wi&&this.isMultiDrag){if(Zr=!1,(K[Pe].options.sort||K!==R)&&yt.length>1){var vn=$t(Yt),mr=Vt(Yt,":not(."+this.options.selectedClass+")");if(!Vi&&je.animation&&(Yt.thisAnimationDuration=null),Ve.captureAnimationState(),!Vi&&(je.animation&&(Yt.fromRect=vn,yt.forEach(function(St){if(St.thisAnimationDuration=null,St!==Yt){var Fr=Zr?$t(St):vn;St.fromRect=Fr,Ve.addAnimationState({target:St,rect:Fr})}})),Cr(),yt.forEach(function(St){lt[mr]?K.insertBefore(St,lt[mr]):K.appendChild(St),mr++}),we===Vt(Yt))){var en=!1;yt.forEach(function(St){if(St.sortableIndex!==Vt(St)){en=!0;return}}),en&&(pe("update"),pe("sort"))}yt.forEach(function(St){ho(St)}),Ve.animateAll()}gr=Ve}(R===K||Se&&Se.lastPutMode!=="clone")&&ln.forEach(function(St){St.parentNode&&St.parentNode.removeChild(St)})}},nullingGlobal:function(){this.isMultiDrag=Wi=!1,ln.length=0},destroyGlobal:function(){this._deselectMultiDrag(),be(document,"pointerup",this._deselectMultiDrag),be(document,"mouseup",this._deselectMultiDrag),be(document,"touchend",this._deselectMultiDrag),be(document,"keydown",this._checkKeyDown),be(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(m){if(!(typeof Wi<"u"&&Wi)&&gr===this.sortable&&!(m&&Ze(m.target,this.options.draggable,this.sortable.el,!1))&&!(m&&m.button!==0))for(;yt.length;){var b=yt[0];nt(b,this.options.selectedClass,!1),yt.shift(),Da({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:b,originalEvent:m})}},_checkKeyDown:function(m){m.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(m){m.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},Tt(E,{pluginName:"multiDrag",utils:{select:function(m){var b=m.parentNode[Pe];!b||!b.options.multiDrag||~yt.indexOf(m)||(gr&&gr!==b&&(gr.multiDrag._deselectMultiDrag(),gr=b),nt(m,b.options.selectedClass,!0),yt.push(m))},deselect:function(m){var b=m.parentNode[Pe],R=yt.indexOf(m);!b||!b.options.multiDrag||!~R||(nt(m,b.options.selectedClass,!1),yt.splice(R,1))}},eventProperties:function(){var m=this,b=[],R=[];return yt.forEach(function(K){b.push({multiDragElement:K,index:K.sortableIndex});var te;Zr&&K!==Yt?te=-1:Zr?te=Vt(K,":not(."+m.options.selectedClass+")"):te=Vt(K),R.push({multiDragElement:K,index:te})}),{items:xr(yt),clones:[].concat(ln),oldIndicies:b,newIndicies:R}},optionListeners:{multiDragKey:function(m){return m=m.toLowerCase(),m==="ctrl"?m="Control":m.length>1&&(m=m.charAt(0).toUpperCase()+m.substr(1)),m}}})}function As(E,g){yt.forEach(function(m,b){var R=g.children[m.sortableIndex+(E?Number(b):0)];R?g.insertBefore(m,R):g.appendChild(m)})}function qo(E,g){ln.forEach(function(m,b){var R=g.children[m.sortableIndex+(E?Number(b):0)];R?g.insertBefore(m,R):g.appendChild(m)})}function Cr(){yt.forEach(function(E){E!==Yt&&E.parentNode&&E.parentNode.removeChild(E)})}ct.mount(new Xo),ct.mount(Wa,Lo);const Qr=ct},97828:(zt,Fe)=>{var Re,fe;/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(){"use strict";var H={}.hasOwnProperty;function rt(){for(var it="",Ht=0;Ht<arguments.length;Ht++){var xr=arguments[Ht];xr&&(it=Tt(it,Pt(xr)))}return it}function Pt(it){if(typeof it=="string"||typeof it=="number")return it;if(typeof it!="object")return"";if(Array.isArray(it))return rt.apply(null,it);if(it.toString!==Object.prototype.toString&&!it.toString.toString().includes("[native code]"))return it.toString();var Ht="";for(var xr in it)H.call(it,xr)&&it[xr]&&(Ht=Tt(Ht,xr));return Ht}function Tt(it,Ht){return Ht?it?it+" "+Ht:it+Ht:it}zt.exports?(rt.default=rt,zt.exports=rt):(Re=[],fe=function(){return rt}.apply(Fe,Re),fe!==void 0&&(zt.exports=fe))})()},89089:(zt,Fe,Re)=>{"use strict";Re.d(Fe,{A:()=>rt});var fe=Re(92132);const H=Pt=>(0,fe.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 24 25",...Pt,children:(0,fe.jsx)("path",{fill:"#212134",fillRule:"evenodd",d:"M13.571 18.272H10.43v-8.47H2.487a.2.2 0 0 1-.14-.343L11.858.058a.2.2 0 0 1 .282 0l9.513 9.4a.2.2 0 0 1-.14.343H13.57v8.47ZM2.2 21.095a.2.2 0 0 0-.2.2v2.424c0 .11.09.2.2.2h19.6a.2.2 0 0 0 .2-.2v-2.424a.2.2 0 0 0-.2-.2H2.2Z",clipRule:"evenodd"})}),rt=H},99706:(zt,Fe,Re)=>{"use strict";Re.r(Fe),Re.d(Fe,{default:()=>Rl});var fe=Re(92132),H=Re(21272),rt=Re(26509);const Pt=1;function Tt(f){return Object.freeze({__version:Pt,map:f})}function it(f,p){return Object.freeze({...f,...p})}const Ht=(0,H.createContext)(null),xr=Ht.Provider;function P(){const f=(0,H.useContext)(Ht);if(f==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return f}function Ye(f){function p(l,x){const{instance:O,context:G}=f(l).current;return(0,H.useImperativeHandle)(x,()=>O),l.children==null?null:H.createElement(xr,{value:G},l.children)}return(0,H.forwardRef)(p)}function q(f){function p(l,x){const[O,G]=useState(!1),{instance:W}=f(l,G).current;useImperativeHandle(x,()=>W),useEffect(function(){O&&W.update()},[W,O,l.children]);const Y=W._contentNode;return Y?createPortal(l.children,Y):null}return forwardRef(p)}function Ue(f){function p(l,x){const{instance:O}=f(l).current;return(0,H.useImperativeHandle)(x,()=>O),null}return(0,H.forwardRef)(p)}function Kt(f,p,l){return Object.freeze({instance:f,context:p,container:l})}function dt(f,p){return p==null?function(x,O){const G=(0,H.useRef)();return G.current||(G.current=f(x,O)),G}:function(x,O){const G=(0,H.useRef)();G.current||(G.current=f(x,O));const W=(0,H.useRef)(x),{instance:Y}=G.current;return(0,H.useEffect)(function(){W.current!==x&&(p(Y,x,W.current),W.current=x)},[Y,x,O]),G}}function gn(f,p){const l=(0,H.useRef)(p);(0,H.useEffect)(function(){p!==l.current&&f.attributionControl!=null&&(l.current!=null&&f.attributionControl.removeAttribution(l.current),p!=null&&f.attributionControl.addAttribution(p)),l.current=p},[f,p])}function an(f,p){const l=(0,H.useRef)();(0,H.useEffect)(function(){return p!=null&&f.instance.on(p),l.current=p,function(){l.current!=null&&f.instance.off(l.current),l.current=null}},[f,p])}function Nn(f,p){const l=f.pane??p.pane;return l?{...f,pane:l}:f}function aa(f,p){(0,H.useEffect)(function(){return(p.layerContainer??p.map).addLayer(f.instance),function(){p.layerContainer?.removeLayer(f.instance),p.map.removeLayer(f.instance)}},[p,f])}function Gn(f){return function(l){const x=P(),O=f(Nn(l,x),x);return gn(x.map,l.attribution),an(O.current,l.eventHandlers),aa(O.current,x),O}}function Rr(f,p){const l=(0,H.useRef)();(0,H.useEffect)(function(){if(p.pathOptions!==l.current){const O=p.pathOptions??{};f.instance.setStyle(O),l.current=O}},[f,p])}function Ba(f){return function(l){const x=P(),O=f(Nn(l,x),x);return an(O.current,l.eventHandlers),aa(O.current,x),Rr(O.current,l),O}}function uo(f){function p(O,G){return createElementObject(f(O),G)}const l=createElementHook(p),x=createControlHook(l);return createLeafComponent(x)}function Te(f,p){const l=createElementHook(f,p),x=createLayerHook(l);return createContainerComponent(x)}function be(f,p){const l=createElementHook(f),x=createDivOverlayHook(l,p);return createDivOverlayComponent(x)}function We(f,p){const l=dt(f,p),x=Ba(l);return Ye(x)}function at(f,p){const l=dt(f,p),x=Gn(l);return Ue(x)}var Ze=Re(9685);const vt=We(function({children:p,...l},x){const O=new Ze.FeatureGroup([],l);return Kt(O,it(x,{layerContainer:O,overlayContainer:O}))});function nt(){return nt=Object.assign||function(f){for(var p=1;p<arguments.length;p++){var l=arguments[p];for(var x in l)Object.prototype.hasOwnProperty.call(l,x)&&(f[x]=l[x])}return f},nt.apply(this,arguments)}function Oe({bounds:f,boundsOptions:p,center:l,children:x,className:O,id:G,placeholder:W,style:Y,whenReady:Ce,zoom:de,...ke},Be){const[Me]=(0,H.useState)({className:O,id:G,style:Y}),[ve,me]=(0,H.useState)(null);(0,H.useImperativeHandle)(Be,()=>ve?.map??null,[ve]);const le=(0,H.useCallback)(he=>{if(he!==null&&ve===null){const oe=new Ze.Map(he,ke);l!=null&&de!=null?oe.setView(l,de):f!=null&&oe.fitBounds(f,p),Ce!=null&&oe.whenReady(Ce),me(Tt(oe))}},[]);(0,H.useEffect)(()=>()=>{ve?.map.remove()},[ve]);const ge=ve?H.createElement(xr,{value:ve},x):W??null;return H.createElement("div",nt({},Me,{ref:le}),ge)}const rr=(0,H.forwardRef)(Oe);function Or(f,p,l){const{opacity:x,zIndex:O}=p;x!=null&&x!==l.opacity&&f.setOpacity(x),O!=null&&O!==l.zIndex&&f.setZIndex(O)}const Ar=at(function({url:p,...l},x){const O=new Ze.TileLayer(p,Nn(l,x));return Kt(O,x)},function(p,l,x){Or(p,l,x);const{url:O}=l;O!=null&&O!==x.url&&p.setUrl(O)});var $t=Re(16838);const hi=["onMapRemove","onLayerRemove","onMapCut","onLayerCut","onMapRotateEnable","onLayerRotateEnable","onMapRotateDisable","onLayerRotateDisable","onMapRotateStart","onLayerRotateStart","onMapRotate","onLayerRotate","onMapRotateEnd","onLayerRotateEnd","onGlobalDrawModeToggled","onDrawStart","onDrawEnd","onCreate","onGlobalEditModeToggled","onGlobalDragModeToggled","onGlobalRemovalModeToggled","onGlobalCutModeToggled","onGlobalRotateModeToggled","onLangChange","onButtonClick","onActionClick","onKeyEvent","onSnapDrag","onSnap","onUnsnap","onCenterPlaced","onEdit","onUpdate","onEnable","onDisable","onVertexAdded","onVertexRemoved","onVertexClick","onMarkerDragStart","onMarkerDrag","onMarkerDragEnd","onLayerReset","onIntersect","onChange","onTextChange","onDragStart","onDrag","onDragEnd","onDragEnable","onDragDisable"];function qr(f,p,l){p.onVertexAdded&&f[l]("pm:vertexadded",p.onVertexAdded),p.onSnapDrag&&f[l]("pm:snapdrag",p.onSnapDrag),p.onSnap&&f[l]("pm:snap",p.onSnap),p.onUnsnap&&f[l]("pm:unsnap",p.onUnsnap),p.onCenterPlaced&&f[l]("pm:centerplaced",p.onCenterPlaced),p.onChange&&f[l]("pm:change",p.onChange),p.onEdit&&f[l]("pm:edit",p.onEdit),p.onUpdate&&f[l]("pm:update",p.onUpdate),p.onEnable&&f[l]("pm:enable",p.onEnable),p.onDisable&&f[l]("pm:disable",p.onDisable),p.onVertexRemoved&&f[l]("pm:vertexremoved",p.onVertexRemoved),p.onVertexClick&&f[l]("pm:vertexclick",p.onVertexClick),p.onMarkerDragStart&&f[l]("pm:markerdragstart",p.onMarkerDragStart),p.onMarkerDrag&&f[l]("pm:markerdrag",p.onMarkerDrag),p.onMarkerDragEnd&&f[l]("pm:markerdragend",p.onMarkerDragEnd),p.onLayerReset&&f[l]("pm:layerreset",p.onLayerReset),p.onIntersect&&f[l]("pm:intersect",p.onIntersect),p.onDragStart&&f[l]("pm:dragstart",p.onDragStart),p.onDrag&&f[l]("pm:drag",p.onDrag),p.onDragEnd&&f[l]("pm:dragend",p.onDragEnd),p.onDragEnable&&f[l]("pm:dragenable",p.onDragEnable),p.onDragDisable&&f[l]("pm:dragdisable",p.onDragDisable),p.onLayerRemove&&f[l]("pm:remove",p.onLayerRemove),p.onLayerCut&&f[l]("pm:cut",p.onLayerCut),p.onLayerRotateEnable&&f[l]("pm:rotateenable",p.onLayerRotateEnable),p.onLayerRotateDisable&&f[l]("pm:rotatedisable",p.onLayerRotateDisable),p.onLayerRotateStart&&f[l]("pm:rotatestart",p.onLayerRotateStart),p.onLayerRotate&&f[l]("pm:rotate",p.onLayerRotate),p.onLayerRotateEnd&&f[l]("pm:rotateend",p.onLayerRotateEnd),p.onTextChange&&f[l]("pm:textchange",p.onTextChange)}function wn(f,p,l){p.onGlobalCutModeToggled&&f[l]("pm:globalcutmodetoggled",p.onGlobalCutModeToggled),p.onGlobalDragModeToggled&&f[l]("pm:globaldragmodetoggled",p.onGlobalDragModeToggled),p.onGlobalDrawModeToggled&&f[l]("pm:globaldrawmodetoggled",p.onGlobalDrawModeToggled),p.onGlobalEditModeToggled&&f[l]("pm:globaleditmodetoggled",p.onGlobalEditModeToggled),p.onButtonClick&&f[l]("pm:buttonclick",p.onButtonClick),p.onActionClick&&f[l]("pm:actionclick",p.onActionClick),p.onKeyEvent&&f[l]("pm:keyevent",p.onKeyEvent),p.onLangChange&&f[l]("pm:langchange",p.onLangChange),p.onGlobalRemovalModeToggled&&f[l]("pm:globalremovalmodetoggled",p.onGlobalRemovalModeToggled),p.onGlobalRotateModeToggled&&f[l]("pm:globalrotatemodetoggled",p.onGlobalRotateModeToggled)}function Vt(f,p,l){p.onMapCut&&f[l]("pm:cut",x=>{qr(x.layer,p,"off"),qr(x.layer,p,"on"),p.onMapCut&&p.onMapCut(x)}),p.onCreate&&f[l]("pm:create",x=>{qr(x.layer,p,"off"),qr(x.layer,p,"on"),p.onCreate&&p.onCreate(x)}),p.onDrawStart&&f[l]("pm:drawstart",p.onDrawStart),p.onDrawEnd&&f[l]("pm:drawend",p.onDrawEnd),p.onMapRemove&&f[l]("pm:remove",p.onMapRemove),p.onMapRotateEnable&&f[l]("pm:rotateenable",p.onMapRotateEnable),p.onMapRotateDisable&&f[l]("pm:rotatedisable",p.onMapRotateDisable),p.onMapRotate&&f[l]("pm:rotate",p.onMapRotate),p.onMapRotateStart&&f[l]("pm:rotatestart",p.onMapRotateStart),p.onMapRotateEnd&&f[l]("pm:rotateend",p.onMapRotateEnd)}function ci({options:f={},globalOptions:p={},pathOptions:l={},lang:x="en",eventDebugFn:O,onMount:G,onUnmount:W,...Y}){const[Ce,de]=(0,H.useState)(!1),[ke,Be]=(0,H.useState)({}),{map:Me,layerContainer:ve}=P(),me=ve||Me;return me?((0,H.useLayoutEffect)(()=>(Me.pm.controlsVisible()||(Me.pm.addControls(f),G&&G(),de(!0)),()=>{Me.pm.disableDraw(),Me.pm.disableGlobalEditMode(),Me.pm.disableGlobalRemovalMode(),Me.pm.disableGlobalDragMode(),Me.pm.disableGlobalCutMode(),Me.pm.disableGlobalRotateMode(),Me.pm.disableGlobalDragMode(),Me.pm.disableGlobalCutMode(),W&&W(),Me.pm.removeControls(),de(!1)}),[]),(0,H.useEffect)(()=>{Ce&&Me.pm.setPathOptions(l)},[l,Ce]),(0,H.useEffect)(()=>{Ce&&Me.pm.setGlobalOptions({layerGroup:me,...p})},[p,Ce]),(0,H.useEffect)(()=>{Ce&&Me.pm.setLang(x)},[x,Ce]),(0,H.useEffect)(()=>{if(Ce){const le=Object.fromEntries(hi.map(he=>[he,Y[he]??O])),ge=ve?me.getLayers():Me.pm.getGeomanLayers();return ge.forEach(he=>qr(he,le,"on")),wn(Me,le,"on"),Vt(Me,le,"on"),()=>{wn(Me,le,"off"),Vt(Me,le,"off"),ge.forEach(he=>qr(he,le,"off")),Be(Y)}}},[Ce,!0]),null):(console.warn("[GEOMAN-CONTROLS] No map or container instance found"),null)}var lo=Re(3058),kn=Re(83997),Aa=Re(88353),fi=Re(85963),Un=Re(30893),Sa=Re(12493),oa=Re(94061),Io=Re(61485),ji=Re(99248),No=Re(6239),ho=Re(67030),Go=Re(43064),Pe=Re(25354),on=Re(17837),Zn=255,co=360,or=100,jn=f=>{var{r:p,g:l,b:x,a:O}=f,G=Math.max(p,l,x),W=G-Math.min(p,l,x),Y=W?G===p?(l-x)/W:G===l?2+(x-p)/W:4+(p-l)/W:0;return{h:60*(Y<0?Y+6:Y),s:G?W/G*or:0,v:G/Zn*or,a:O}},sa=f=>{var{h:p,s:l,l:x}=Wt(f);return"hsl("+p+", "+Math.round(l)+"%, "+Math.round(x)+"%)"},Da=f=>{var{h:p,s:l,v:x}=f;return"hsv("+p+", "+l+"%, "+x+"%)"},au=f=>{var{h:p,s:l,v:x,a:O}=f;return"hsva("+p+", "+l+"%, "+x+"%, "+O+")"},Hr=f=>{var{h:p,s:l,l:x,a:O}=Wt(f);return"hsla("+p+", "+l+"%, "+x+"%, "+O+")"},Jr=f=>{var[p,l,x,O]=(f.match(/\d+/g)||[]).map(Number);return{h:p,s:l,l:x,a:O}},Ne=f=>{var p=/hsla?\(?\s*(-?\d*\.?\d+)(deg|rad|grad|turn)?[,\s]+(-?\d*\.?\d+)%?[,\s]+(-?\d*\.?\d+)%?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i,l=p.exec(f);return l?ft({h:Zt(l[1],l[2]),s:Number(l[3]),l:Number(l[4]),a:l[5]===void 0?1:Number(l[5])/(l[6]?100:1)}):{h:0,s:0,v:0,a:1}},fr=null,ft=f=>{var{h:p,s:l,l:x,a:O}=f;return l*=(x<50?x:or-x)/or,{h:p,s:l>0?2*l/(x+l)*or:0,v:x+l,a:O}},Wt=f=>{var{h:p,s:l,v:x,a:O}=f,G=(200-l)*x/or;return{h:p,s:G>0&&G<200?l*x/or/(G<=or?G:200-G)*or:0,l:G/2,a:O}},zi=f=>{var p=/hsva?\(?\s*(-?\d*\.?\d+)(deg|rad|grad|turn)?[,\s]+(-?\d*\.?\d+)%?[,\s]+(-?\d*\.?\d+)%?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i,l=p.exec(f);return l?{h:Zt(l[1],l[2]),s:Number(l[3]),v:Number(l[4]),a:l[5]===void 0?1:Number(l[5])/(l[6]?or:1)}:{h:0,s:0,v:0,a:1}},ua={grad:co/400,turn:co,rad:co/(Math.PI*2)},Zt=function(p,l){return l===void 0&&(l="deg"),Number(p)*(ua[l]||1)},Di=null,zn=f=>{var p=/rgba?\(?\s*(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i,l=p.exec(f);return l?jn({r:Number(l[1])/(l[2]?or/Zn:1),g:Number(l[3])/(l[4]?or/Zn:1),b:Number(l[5])/(l[6]?or/Zn:1),a:l[7]===void 0?1:Number(l[7])/(l[8]?or:1)}):{h:0,s:0,v:0,a:1}},mn=null,di=f=>{var{r:p,g:l,b:x}=f,O=p<<16|l<<8|x;return"#"+(G=>new Array(7-G.length).join("0")+G)(O.toString(16))},sn=f=>{var{r:p,g:l,b:x,a:O}=f,G=typeof O=="number"&&(O*255|1<<8).toString(16).slice(1);return""+di({r:p,g:l,b:x,a:O})+(G||"")},Bn=f=>jn(sr(f)),sr=f=>{var p=f.replace("#","");/^#?/.test(f)&&p.length===3&&(f="#"+p.charAt(0)+p.charAt(0)+p.charAt(1)+p.charAt(1)+p.charAt(2)+p.charAt(2));var l=new RegExp("[A-Za-z0-9]{2}","g"),[x,O,G=0,W]=f.match(l).map(Y=>parseInt(Y,16));return{r:x,g:O,b:G,a:(W??255)/Zn}},An=f=>{var{h:p,s:l,v:x,a:O}=f,G=p/60,W=l/or,Y=x/or,Ce=Math.floor(G)%6,de=G-Math.floor(G),ke=Zn*Y*(1-W),Be=Zn*Y*(1-W*de),Me=Zn*Y*(1-W*(1-de));Y*=Zn;var ve={};switch(Ce){case 0:ve.r=Y,ve.g=Me,ve.b=ke;break;case 1:ve.r=Be,ve.g=Y,ve.b=ke;break;case 2:ve.r=ke,ve.g=Y,ve.b=Me;break;case 3:ve.r=ke,ve.g=Be,ve.b=Y;break;case 4:ve.r=Me,ve.g=ke,ve.b=Y;break;case 5:ve.r=Y,ve.g=ke,ve.b=Be;break}return ve.r=Math.round(ve.r),ve.g=Math.round(ve.g),ve.b=Math.round(ve.b),(0,Pe.A)({},ve,{a:O})},fo=f=>{var{r:p,g:l,b:x}=An(f);return"rgb("+p+", "+l+", "+x+")"},la=f=>{var{r:p,g:l,b:x,a:O}=An(f);return"rgba("+p+", "+l+", "+x+", "+O+")"},pi=f=>{var{r:p,g:l,b:x}=f;return{r:p,g:l,b:x}},Sn=f=>{var{h:p,s:l,l:x}=f;return{h:p,s:l,l:x}},ha=f=>di(An(f)),po=f=>sn(An(f)),go=f=>{var{h:p,s:l,v:x}=f;return{h:p,s:l,v:x}},Uo=f=>Ki(pi(sr(f))),Pa=f=>di(_extends({},Hi(f),{a:255})),Hi=f=>{var{x:p,y:l,bri:x=255}=f,O=p*3.2406255+l*-1.537208+x*-.4986286,G=p*-.9689307+l*1.8757561+x*.0415175,W=p*.0557101+l*-.2040211+x*1.0569959,Y=function(de){return de<=.0031308?12.92*de:1.055*Math.pow(de,1/2.4)-.055};return{r:Math.round(255*Y(O)),g:Math.round(255*Y(G)),b:Math.round(255*Y(W))}},Ki=f=>{var{r:p,g:l,b:x}=f,O=function(ke){return ke<=.04045?ke/12.92:Math.pow((ke+.055)/1.055,2.4)},G=O(p/255),W=O(l/255),Y=O(x/255),Ce={};return Ce.x=G*.4124+W*.3576+Y*.1805,Ce.y=G*.2126+W*.7152+Y*.0722,Ce.bri=G*.0193+W*.1192+Y*.9505,Ce},Sr=f=>{var p,l,x,O,G,W,Y,Ce,de;return typeof f=="string"&&ca(f)?(W=Bn(f),Ce=f):typeof f!="string"&&(W=f),W&&(x=go(W),G=Wt(W),O=An(W),de=sn(O),Ce=ha(W),l=Sn(G),p=pi(O),Y=Ki(p)),{rgb:p,hsl:l,hsv:x,rgba:O,hsla:G,hsva:W,hex:Ce,hexa:de,xy:Y}},mo=f=>{if(!f)return"#ffffff";var p=Sr(f),l=(p.rgb.r*299+p.rgb.g*587+p.rgb.b*114)/1e3;return l>=128?"#000000":"#ffffff"},Ta=(f,p)=>{if(f===p)return!0;for(var l in f)if(f[l]!==p[l])return!1;return!0},Kr=(f,p)=>f.replace(/\s/g,"")===p.replace(/\s/g,""),_o=(f,p)=>f.toLowerCase()===p.toLowerCase()?!0:Ta(sr(f),sr(p)),ca=f=>/^#?([A-Fa-f0-9]{3,4}){1,2}$/.test(f);function Ra(f){if(f==null)throw new TypeError("Cannot destructure "+f)}var Oa=["prefixCls","className","color","colors","style","rectProps","onChange","addonAfter","addonBefore","rectRender"],$i=H.forwardRef((f,p)=>{var{prefixCls:l="w-color-swatch",className:x,color:O,colors:G=[],style:W,rectProps:Y={},onChange:Ce,addonAfter:de,addonBefore:ke,rectRender:Be}=f,Me=(0,on.A)(f,Oa),ve=(0,Pe.A)({"--swatch-background-color":"rgb(144, 19, 254)",background:"var(--swatch-background-color)",height:15,width:15,marginRight:5,marginBottom:5,cursor:"pointer",position:"relative",outline:"none",borderRadius:2},Y.style),me=(le,ge)=>{Ce&&Ce(Bn(le),Sr(Bn(le)),ge)};return(0,fe.jsxs)("div",(0,Pe.A)({ref:p},Me,{className:[l,x||""].filter(Boolean).join(" "),style:(0,Pe.A)({display:"flex",flexWrap:"wrap",position:"relative"},W),children:[ke&&H.isValidElement(ke)&&ke,G&&Array.isArray(G)&&G.map((le,ge)=>{var he="",oe="";typeof le=="string"&&(he=le,oe=le),typeof le=="object"&&le.color&&(he=le.title||le.color,oe=le.color);var Ie=O&&O.toLocaleLowerCase()===oe.toLocaleLowerCase(),Xe=Be&&Be({title:he,color:oe,checked:!!Ie,style:(0,Pe.A)({},ve,{background:oe}),onClick:qe=>me(oe,qe)});if(Xe)return(0,fe.jsx)(H.Fragment,{children:Xe},ge);var ue=Y.children&&H.isValidElement(Y.children)?H.cloneElement(Y.children,{color:oe,checked:Ie}):null;return(0,fe.jsx)("div",(0,Pe.A)({tabIndex:0,title:he,onClick:qe=>me(oe,qe)},Y,{children:ue,style:(0,Pe.A)({},ve,{background:oe})}),ge)}),de&&H.isValidElement(de)&&de]}))});$i.displayName="Swatch";const jo=$i;var bs={marginRight:0,marginBottom:0,borderRadius:0,boxSizing:"border-box",height:25,width:25};function zo(f){var{style:p,title:l,checked:x,color:O,onClick:G,rectProps:W}=f,Y=(0,H.useRef)(null),Ce=(0,H.useCallback)(()=>{Y.current.style.zIndex="2",Y.current.style.outline="#fff solid 2px",Y.current.style.boxShadow="rgb(0 0 0 / 25%) 0 0 5px 2px"},[]),de=(0,H.useCallback)(()=>{x||(Y.current.style.zIndex="0",Y.current.style.outline="initial",Y.current.style.boxShadow="initial")},[x]),ke=x?{zIndex:1,outline:"#fff solid 2px",boxShadow:"rgb(0 0 0 / 25%) 0 0 5px 2px"}:{zIndex:0};return(0,fe.jsx)("div",(0,Pe.A)({ref:Y,title:l},W,{onClick:G,onMouseEnter:Ce,onMouseLeave:de,style:(0,Pe.A)({},p,{marginRight:0,marginBottom:0,borderRadius:0,boxSizing:"border-box",height:25,width:25},bs,ke,W?.style)}))}var Ho=["prefixCls","placement","className","style","color","colors","rectProps","onChange","rectRender"],Cs=["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],pr=function(f){return f.Left="L",f.LeftTop="LT",f.LeftBottom="LB",f.Right="R",f.RightTop="RT",f.RightBottom="RB",f.Top="T",f.TopRight="TR",f.TopLeft="TL",f.Bottom="B",f.BottomLeft="BL",f.BottomRight="BR",f}({}),vo=H.forwardRef((f,p)=>{var{prefixCls:l="w-color-github",placement:x=pr.TopRight,className:O,style:G,color:W,colors:Y=Cs,rectProps:Ce={},onChange:de,rectRender:ke}=f,Be=(0,on.A)(f,Ho),Me=typeof W=="string"&&ca(W)?Bn(W):W,ve=W?ha(Me):"",me=Xe=>de&&de(Sr(Xe)),le=(0,Pe.A)({"--github-border":"1px solid rgba(0, 0, 0, 0.2)","--github-background-color":"#fff","--github-box-shadow":"rgb(0 0 0 / 15%) 0px 3px 12px","--github-arrow-border-color":"rgba(0, 0, 0, 0.15)",width:200,borderRadius:4,background:"var(--github-background-color)",boxShadow:"var(--github-box-shadow)",border:"var(--github-border)",position:"relative",padding:5},G),ge={borderStyle:"solid",position:"absolute"},he=(0,Pe.A)({},ge),oe=(0,Pe.A)({},ge);/^T/.test(x)&&(he.borderWidth="0 8px 8px",he.borderColor="transparent transparent var(--github-arrow-border-color)",oe.borderWidth="0 7px 7px",oe.borderColor="transparent transparent var(--github-background-color)"),x===pr.TopRight&&(he.top=-8,oe.top=-7),x===pr.Top&&(he.top=-8,oe.top=-7),x===pr.TopLeft&&(he.top=-8,oe.top=-7),/^B/.test(x)&&(he.borderWidth="8px 8px 0",he.borderColor="var(--github-arrow-border-color) transparent transparent",oe.borderWidth="7px 7px 0",oe.borderColor="var(--github-background-color) transparent transparent",x===pr.BottomRight&&(he.top="100%",oe.top="100%"),x===pr.Bottom&&(he.top="100%",oe.top="100%"),x===pr.BottomLeft&&(he.top="100%",oe.top="100%")),/^(B|T)/.test(x)&&((x===pr.Top||x===pr.Bottom)&&(he.left="50%",he.marginLeft=-8,oe.left="50%",oe.marginLeft=-7),(x===pr.TopRight||x===pr.BottomRight)&&(he.right=10,oe.right=11),(x===pr.TopLeft||x===pr.BottomLeft)&&(he.left=7,oe.left=8)),/^L/.test(x)&&(he.borderWidth="8px 8px 8px 0",he.borderColor="transparent var(--github-arrow-border-color) transparent transparent",oe.borderWidth="7px 7px 7px 0",oe.borderColor="transparent var(--github-background-color) transparent transparent",he.left=-8,oe.left=-7),/^R/.test(x)&&(he.borderWidth="8px 0 8px 8px",he.borderColor="transparent transparent transparent var(--github-arrow-border-color)",oe.borderWidth="7px 0 7px 7px",oe.borderColor="transparent transparent transparent var(--github-background-color)",he.right=-8,oe.right=-7),/^(L|R)/.test(x)&&((x===pr.RightTop||x===pr.LeftTop)&&(he.top=5,oe.top=6),(x===pr.Left||x===pr.Right)&&(he.top="50%",oe.top="50%",he.marginTop=-8,oe.marginTop=-7),(x===pr.LeftBottom||x===pr.RightBottom)&&(he.top="100%",oe.top="100%",he.marginTop=-21,oe.marginTop=-20));var Ie=Xe=>{var ue=(0,Pe.A)({},(Ra(Xe),Xe)),qe=ke&&ke((0,Pe.A)({},ue));return qe||(0,fe.jsx)(zo,(0,Pe.A)({},ue,{rectProps:Ce}))};return(0,fe.jsx)(jo,(0,Pe.A)({ref:p,className:[l,O].filter(Boolean).join(" "),colors:Y,color:ve,rectRender:Ie},Be,{onChange:me,style:le,rectProps:{style:{marginRight:0,marginBottom:0,borderRadius:0,height:25,width:25}},addonBefore:(0,fe.jsxs)(H.Fragment,{children:[(0,fe.jsx)("div",{style:he}),(0,fe.jsx)("div",{style:oe})]})}))});vo.displayName="Github";const Ko=vo;function yo(f){var p=(0,H.useRef)(f);return(0,H.useEffect)(()=>{p.current=f}),(0,H.useCallback)((l,x)=>p.current&&p.current(l,x),[])}var un=f=>"touches"in f,Fa=f=>{!un(f)&&f.preventDefault&&f.preventDefault()},ct=function(p,l,x){return l===void 0&&(l=0),x===void 0&&(x=1),p>x?x:p<l?l:p},$o=(f,p)=>{var l=f.getBoundingClientRect(),x=un(p)?p.touches[0]:p;return{left:ct((x.pageX-(l.left+window.pageXOffset))/l.width),top:ct((x.pageY-(l.top+window.pageYOffset))/l.height),width:l.width,height:l.height,x:x.pageX-(l.left+window.pageXOffset),y:x.pageY-(l.top+window.pageYOffset)}},Ia=["prefixCls","className","onMove","onDown"],Na=H.forwardRef((f,p)=>{var{prefixCls:l="w-color-interactive",className:x,onMove:O,onDown:G}=f,W=(0,on.A)(f,Ia),Y=(0,H.useRef)(null),Ce=(0,H.useRef)(!1),[de,ke]=(0,H.useState)(!1),Be=yo(O),Me=yo(G),ve=oe=>Ce.current&&!un(oe)?!1:(Ce.current=un(oe),!0),me=(0,H.useCallback)(oe=>{Fa(oe);var Ie=un(oe)?oe.touches.length>0:oe.buttons>0;Ie&&Y.current?Be&&Be($o(Y.current,oe),oe):ke(!1)},[Be]),le=(0,H.useCallback)(()=>ke(!1),[]),ge=(0,H.useCallback)(oe=>{var Ie=oe?window.addEventListener:window.removeEventListener;Ie(Ce.current?"touchmove":"mousemove",me),Ie(Ce.current?"touchend":"mouseup",le)},[]);(0,H.useEffect)(()=>(ge(de),()=>{de&&ge(!1)}),[de,ge]);var he=(0,H.useCallback)(oe=>{Fa(oe.nativeEvent),ve(oe.nativeEvent)&&(Me&&Me($o(Y.current,oe.nativeEvent),oe.nativeEvent),ke(!0))},[Me]);return(0,fe.jsx)("div",(0,Pe.A)({},W,{className:[l,x||""].filter(Boolean).join(" "),style:(0,Pe.A)({},W.style,{touchAction:"none"}),ref:Y,tabIndex:0,onMouseDown:he,onTouchStart:he}))});Na.displayName="Interactive";const Vo=Na;var Ls=f=>{var{className:p,color:l,left:x,top:O,prefixCls:G}=f,W={position:"absolute",top:O,left:x},Y={"--saturation-pointer-box-shadow":"rgb(255 255 255) 0px 0px 0px 1.5px, rgb(0 0 0 / 30%) 0px 0px 1px 1px inset, rgb(0 0 0 / 40%) 0px 0px 1px 2px",width:6,height:6,transform:"translate(-3px, -3px)",boxShadow:"var(--saturation-pointer-box-shadow)",borderRadius:"50%",backgroundColor:l};return(0,H.useMemo)(()=>(0,fe.jsx)("div",{className:G+"-pointer "+(p||""),style:W,children:(0,fe.jsx)("div",{className:G+"-fill",style:Y})}),[O,x,l,p,G])},Es=["prefixCls","radius","pointer","className","hue","style","hsva","onChange"],Wo=H.forwardRef((f,p)=>{var l,{prefixCls:x="w-color-saturation",radius:O=0,pointer:G,className:W,hue:Y=0,style:Ce,hsva:de,onChange:ke}=f,Be=(0,on.A)(f,Es),Me=(0,Pe.A)({width:200,height:200,borderRadius:O},Ce,{position:"relative"}),ve=(le,ge)=>{ke&&de&&ke({h:de.h,s:le.left*100,v:(1-le.top)*100,a:de.a})},me=(0,H.useMemo)(()=>{if(!de)return null;var le={top:100-de.v+"%",left:de.s+"%",color:Hr(de)};return G&&typeof G=="function"?G((0,Pe.A)({prefixCls:x},le)):(0,fe.jsx)(Ls,(0,Pe.A)({prefixCls:x},le))},[de,G,x]);return(0,fe.jsx)(Vo,(0,Pe.A)({className:[x,W||""].filter(Boolean).join(" ")},Be,{style:(0,Pe.A)({position:"absolute",inset:0,cursor:"crosshair",backgroundImage:"linear-gradient(0deg, #000, transparent), linear-gradient(90deg, #fff, hsl("+((l=de?.h)!=null?l:Y)+", 100%, 50%))"},Me),ref:p,onMove:ve,onDown:ve,children:me}))});Wo.displayName="Saturation";const xs=Wo;var Ms=["className","prefixCls","left","top","style","fillProps"],Ga=f=>{var{className:p,prefixCls:l,left:x,top:O,style:G,fillProps:W}=f,Y=(0,on.A)(f,Ms),Ce=(0,Pe.A)({},G,{position:"absolute",left:x,top:O}),de=(0,Pe.A)({width:18,height:18,boxShadow:"var(--alpha-pointer-box-shadow)",borderRadius:"50%",backgroundColor:"var(--alpha-pointer-background-color)"},W?.style,{transform:x?"translate(-9px, -1px)":"translate(-1px, -9px)"});return(0,fe.jsx)("div",(0,Pe.A)({className:l+"-pointer "+(p||""),style:Ce},Y,{children:(0,fe.jsx)("div",(0,Pe.A)({className:l+"-fill"},W,{style:de}))}))},Ua=["prefixCls","className","hsva","background","bgProps","innerProps","pointerProps","radius","width","height","direction","style","onChange","pointer"],ja="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg==",ur=H.forwardRef((f,p)=>{var{prefixCls:l="w-color-alpha",className:x,hsva:O,background:G,bgProps:W={},innerProps:Y={},pointerProps:Ce={},radius:de=0,width:ke,height:Be=16,direction:Me="horizontal",style:ve,onChange:me,pointer:le}=f,ge=(0,on.A)(f,Ua),he=tt=>{me&&me((0,Pe.A)({},O,{a:Me==="horizontal"?tt.left:tt.top}),tt)},oe=Hr(Object.assign({},O,{a:1})),Ie="linear-gradient(to "+(Me==="horizontal"?"right":"bottom")+", rgba(244, 67, 54, 0) 0%, "+oe+" 100%)",Xe={};Me==="horizontal"?Xe.left=O.a*100+"%":Xe.top=O.a*100+"%";var ue=(0,Pe.A)({"--alpha-background-color":"#fff","--alpha-pointer-background-color":"rgb(248, 248, 248)","--alpha-pointer-box-shadow":"rgb(0 0 0 / 37%) 0px 1px 4px 0px",borderRadius:de,background:"url("+ja+") left center",backgroundColor:"var(--alpha-background-color)"},{width:ke,height:Be},ve,{position:"relative"}),qe=le&&typeof le=="function"?le((0,Pe.A)({prefixCls:l},Ce,Xe)):(0,fe.jsx)(Ga,(0,Pe.A)({},Ce,{prefixCls:l},Xe));return(0,fe.jsxs)("div",(0,Pe.A)({},ge,{className:[l,l+"-"+Me,x||""].filter(Boolean).join(" "),style:ue,ref:p,children:[(0,fe.jsx)("div",(0,Pe.A)({},W,{style:(0,Pe.A)({inset:0,position:"absolute",background:G||Ie,borderRadius:de},W.style)})),(0,fe.jsx)(Vo,(0,Pe.A)({},Y,{style:(0,Pe.A)({},Y.style,{inset:0,zIndex:1,position:"absolute"}),onMove:he,onDown:he,children:qe}))]}))});ur.displayName="Alpha";const Pi=ur;var za=["prefixCls","className","hue","onChange","direction"],Ha=H.forwardRef((f,p)=>{var{prefixCls:l="w-color-hue",className:x,hue:O=0,onChange:G,direction:W="horizontal"}=f,Y=(0,on.A)(f,za);return(0,fe.jsx)(Pi,(0,Pe.A)({ref:p,className:l+" "+(x||"")},Y,{direction:W,background:"linear-gradient(to "+(W==="horizontal"?"right":"bottom")+", rgb(255, 0, 0) 0%, rgb(255, 255, 0) 17%, rgb(0, 255, 0) 33%, rgb(0, 255, 255) 50%, rgb(0, 0, 255) 67%, rgb(255, 0, 255) 83%, rgb(255, 0, 0) 100%)",hsva:{h:O,s:100,v:100,a:O/360},onChange:(Ce,de)=>{G&&G({h:W==="horizontal"?360*de.left:360*de.top})}}))});Ha.displayName="Hue";const Ka=Ha;var bo=["prefixCls","placement","label","value","className","style","labelStyle","inputStyle","onChange","onBlur"],$a=f=>/^#?([A-Fa-f0-9]{3,4}){1,2}$/.test(f),fa=f=>Number(String(f).replace(/%/g,"")),Xo=H.forwardRef((f,p)=>{var{prefixCls:l="w-color-editable-input",placement:x="bottom",label:O,value:G,className:W,style:Y,labelStyle:Ce,inputStyle:de,onChange:ke,onBlur:Be}=f,Me=(0,on.A)(f,bo),[ve,me]=(0,H.useState)(G),le=(0,H.useRef)(!1);(0,H.useEffect)(()=>{f.value!==ve&&(le.current||me(f.value))},[f.value]);function ge(ue,qe){var tt=(qe||ue.target.value).trim().replace(/^#/,"");$a(tt)&&ke&&ke(ue,tt);var Ct=fa(tt);isNaN(Ct)||ke&&ke(ue,Ct),me(tt)}function he(ue){le.current=!1,me(f.value),Be&&Be(ue)}var oe={};x==="bottom"&&(oe.flexDirection="column"),x==="top"&&(oe.flexDirection="column-reverse"),x==="left"&&(oe.flexDirection="row-reverse");var Ie=(0,Pe.A)({"--editable-input-label-color":"rgb(153, 153, 153)","--editable-input-box-shadow":"rgb(204 204 204) 0px 0px 0px 1px inset","--editable-input-color":"#666",position:"relative",alignItems:"center",display:"flex",fontSize:11},oe,Y),Xe=(0,Pe.A)({width:"100%",paddingTop:2,paddingBottom:2,paddingLeft:3,paddingRight:3,fontSize:11,background:"transparent",boxSizing:"border-box",border:"none",color:"var(--editable-input-color)",boxShadow:"var(--editable-input-box-shadow)"},de);return(0,fe.jsxs)("div",{className:[l,W||""].filter(Boolean).join(" "),style:Ie,children:[(0,fe.jsx)("input",(0,Pe.A)({ref:p,value:ve,onChange:ge,onBlur:he,autoComplete:"off",onFocus:()=>le.current=!0},Me,{style:Xe})),O&&(0,fe.jsx)("span",{style:(0,Pe.A)({color:"var(--editable-input-label-color)",textTransform:"capitalize"},Ce),children:O})]})});Xo.displayName="EditableInput";const gi=Xo;var Yo=["prefixCls","hsva","placement","rProps","gProps","bProps","aProps","className","style","onChange"],Va=H.forwardRef((f,p)=>{var{prefixCls:l="w-color-editable-input-rgba",hsva:x,placement:O="bottom",rProps:G={},gProps:W={},bProps:Y={},aProps:Ce={},className:de,style:ke,onChange:Be}=f,Me=(0,on.A)(f,Yo),ve=x?An(x):{};function me(ge){var he=Number(ge.target.value);he&&he>255&&(ge.target.value="255"),he&&he<0&&(ge.target.value="0")}var le=(ge,he,oe)=>{typeof ge=="number"&&(he==="a"&&(ge<0&&(ge=0),ge>100&&(ge=100),Be&&Be(Sr(jn((0,Pe.A)({},ve,{a:ge/100}))))),ge>255&&(ge=255,oe.target.value="255"),ge<0&&(ge=0,oe.target.value="0"),he==="r"&&Be&&Be(Sr(jn((0,Pe.A)({},ve,{r:ge})))),he==="g"&&Be&&Be(Sr(jn((0,Pe.A)({},ve,{g:ge})))),he==="b"&&Be&&Be(Sr(jn((0,Pe.A)({},ve,{b:ge})))))};return(0,fe.jsxs)("div",(0,Pe.A)({ref:p,className:[l,de||""].filter(Boolean).join(" ")},Me,{style:(0,Pe.A)({fontSize:11,display:"flex"},ke),children:[(0,fe.jsx)(gi,(0,Pe.A)({label:"R",value:ve.r||0,onBlur:me,placement:O,onChange:(ge,he)=>le(he,"r",ge)},G,{style:(0,Pe.A)({},G.style)})),(0,fe.jsx)(gi,(0,Pe.A)({label:"G",value:ve.g||0,onBlur:me,placement:O,onChange:(ge,he)=>le(he,"g",ge)},W,{style:(0,Pe.A)({marginLeft:5},G.style)})),(0,fe.jsx)(gi,(0,Pe.A)({label:"B",value:ve.b||0,onBlur:me,placement:O,onChange:(ge,he)=>le(he,"b",ge)},Y,{style:(0,Pe.A)({marginLeft:5},Y.style)})),Ce&&(0,fe.jsx)(gi,(0,Pe.A)({label:"A",value:ve.a?parseInt(String(ve.a*100),10):0,onBlur:me,placement:O,onChange:(ge,he)=>le(he,"a",ge)},Ce,{style:(0,Pe.A)({marginLeft:5},Ce.style)}))]}))});Va.displayName="EditableInputRGBA";const Co=Va;var Lo=["prefixCls","hsva","hProps","sProps","lProps","aProps","className","onChange"],Wa=H.forwardRef((f,p)=>{var{prefixCls:l="w-color-editable-input-hsla",hsva:x,hProps:O={},sProps:G={},lProps:W={},aProps:Y={},className:Ce,onChange:de}=f,ke=(0,on.A)(f,Lo),Be=x?Wt(x):{h:0,s:0,l:0,a:0},Me=(me,le,ge)=>{typeof me=="number"&&(le==="h"&&(me<0&&(me=0),me>360&&(me=360),de&&de(Sr(ft((0,Pe.A)({},Be,{h:me}))))),le==="s"&&(me<0&&(me=0),me>100&&(me=100),de&&de(Sr(ft((0,Pe.A)({},Be,{s:me}))))),le==="l"&&(me<0&&(me=0),me>100&&(me=100),de&&de(Sr(ft((0,Pe.A)({},Be,{l:me}))))),le==="a"&&(me<0&&(me=0),me>1&&(me=1),de&&de(Sr(ft((0,Pe.A)({},Be,{a:me}))))))},ve=Y==!1?!1:(0,Pe.A)({label:"A",value:Math.round(Be.a*100)/100},Y,{onChange:(me,le)=>Me(le,"a",me)});return(0,fe.jsx)(Co,(0,Pe.A)({ref:p,hsva:x,rProps:(0,Pe.A)({label:"H",value:Math.round(Be.h)},O,{onChange:(me,le)=>Me(le,"h",me)}),gProps:(0,Pe.A)({label:"S",value:Math.round(Be.s)+"%"},G,{onChange:(me,le)=>Me(le,"s",me)}),bProps:(0,Pe.A)({label:"L",value:Math.round(Be.l)+"%"},W,{onChange:(me,le)=>Me(le,"l",me)}),aProps:ve,className:[l,Ce||""].filter(Boolean).join(" ")},ke))});Wa.displayName="EditableInputHSLA";const _n=Wa;var ws=["style"];function ks(f){var{style:p}=f,l=(0,on.A)(f,ws),x=(0,H.useRef)(null),O=(0,H.useCallback)(()=>{x.current.style.backgroundColor="var(--chrome-arrow-background-color)"},[]),G=(0,H.useCallback)(()=>{x.current.style.backgroundColor="transparent"},[]);return(0,fe.jsx)("div",(0,Pe.A)({ref:x,style:(0,Pe.A)({marginLeft:5,cursor:"pointer",transition:"background-color .3s",borderRadius:2},p)},l,{onMouseEnter:O,onMouseLeave:G,children:(0,fe.jsx)("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24",style:{display:"block"},children:(0,fe.jsx)("path",{d:"M373.888 576h276.224c9.322667 0 14.293333 11.178667 9.173333 18.773333l-1.258666 1.557334-138.112 146.858666a10.709333 10.709333 0 0 1-14.293334 1.365334l-1.536-1.365334-138.112-146.858666c-6.592-6.997333-2.666667-18.645333 5.973334-20.16l1.941333-0.170667h276.224-276.224z m146.026667-295.189333l138.112 146.858666c7.04 7.509333 2.069333 20.330667-7.914667 20.330667H373.888c-9.984 0-14.976-12.821333-7.914667-20.330667l138.112-146.858666a10.730667 10.730667 0 0 1 15.829334 0z",fill:"var(--chrome-arrow-fill)"})})}))}var yt="EyeDropper"in window;function ln(f){var p=()=>{if("EyeDropper"in window){var l=new window.EyeDropper;l.open().then(x=>{console.log(x),f.onPickColor==null||f.onPickColor(x.sRGBHex)})}};return(0,fe.jsx)("svg",{viewBox:"0 0 512 512",height:"1em",width:"1em",onClick:p,children:(0,fe.jsx)("path",{fill:"currentColor",d:"M482.8 29.23c38.9 38.98 38.9 102.17 0 141.17L381.2 271.9l9.4 9.5c12.5 12.5 12.5 32.7 0 45.2s-32.7 12.5-45.2 0l-160-160c-12.5-12.5-12.5-32.7 0-45.2s32.7-12.5 45.2 0l9.5 9.4L341.6 29.23c39-38.974 102.2-38.974 141.2 0zM55.43 323.3 176.1 202.6l45.3 45.3-120.7 120.7c-3.01 3-4.7 7-4.7 11.3V416h36.1c4.3 0 8.3-1.7 11.3-4.7l120.7-120.7 45.3 45.3-120.7 120.7c-15 15-35.4 23.4-56.6 23.4H89.69l-39.94 26.6c-12.69 8.5-29.59 6.8-40.377-4-10.786-10.8-12.459-27.7-3.998-40.4L32 422.3v-42.4c0-21.2 8.43-41.6 23.43-56.6z"})})}var da=["prefixCls","className","style","color","showEditableInput","showEyeDropper","showColorPreview","showHue","showAlpha","inputType","rectProps","onChange"],gr=function(f){return f.HEXA="hexa",f.RGBA="rgba",f.HSLA="hsla",f}({}),Vi=H.forwardRef((f,p)=>{var{prefixCls:l="w-color-chrome",className:x,style:O,color:G,showEditableInput:W=!0,showEyeDropper:Y=!0,showColorPreview:Ce=!0,showHue:de=!0,showAlpha:ke=!0,inputType:Be=gr.RGBA,rectProps:Me={},onChange:ve}=f,me=(0,on.A)(f,da),le=typeof G=="string"&&ca(G)?Bn(G):G||{h:0,s:0,l:0,a:0},ge=Nt=>ve&&ve(Sr(Nt)),[he,oe]=(0,H.useState)(Be),Ie=()=>{he===gr.RGBA&&oe(gr.HSLA),he===gr.HSLA&&oe(gr.HEXA),he===gr.HEXA&&oe(gr.RGBA)},Xe={paddingTop:6},ue={textAlign:"center",paddingTop:4,paddingBottom:4},qe=(0,Pe.A)({"--chrome-arrow-fill":"#333","--chrome-arrow-background-color":"#e8e8e8",borderRadius:0,flexDirection:"column",width:230,padding:0},O),tt={"--chrome-alpha-box-shadow":"rgb(0 0 0 / 25%) 0px 0px 1px inset",borderRadius:"50%",background:la(le),boxShadow:"var(--chrome-alpha-box-shadow)"},Ct=Nt=>{var Qt=Bn(Nt);ge((0,Pe.A)({},Qt))},nr={height:14,width:14},Dt={style:(0,Pe.A)({},nr),fillProps:{style:nr}};return(0,fe.jsx)(Ko,(0,Pe.A)({ref:p,color:le,style:qe,colors:void 0,className:[l,x].filter(Boolean).join(" "),placement:pr.TopLeft},me,{addonAfter:(0,fe.jsxs)(H.Fragment,{children:[(0,fe.jsx)(xs,{hsva:le,style:{width:"100%",height:130},onChange:Nt=>{ge((0,Pe.A)({},le,Nt,{a:le.a}))}}),(0,fe.jsxs)("div",{style:{padding:15,display:"flex",alignItems:"center",gap:10},children:[yt&&Y&&(0,fe.jsx)(ln,{onPickColor:Ct}),Ce&&(0,fe.jsx)(Pi,{width:28,height:28,hsva:le,radius:2,style:{borderRadius:"50%"},bgProps:{style:{background:"transparent"}},innerProps:{style:tt},pointer:()=>(0,fe.jsx)(H.Fragment,{})}),(0,fe.jsxs)("div",{style:{flex:1},children:[de==!0&&(0,fe.jsx)(Ka,{hue:le.h,style:{width:"100%",height:12,borderRadius:2},pointerProps:Dt,bgProps:{style:{borderRadius:2}},onChange:Nt=>{ge((0,Pe.A)({},le,Nt))}}),ke==!0&&(0,fe.jsx)(Pi,{hsva:le,style:{marginTop:6,height:12,borderRadius:2},pointerProps:Dt,bgProps:{style:{borderRadius:2}},onChange:Nt=>{ge((0,Pe.A)({},le,Nt))}})]})]}),W&&(0,fe.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",padding:"0 15px 15px 15px",userSelect:"none"},children:[(0,fe.jsxs)("div",{style:{flex:1},children:[he==gr.RGBA&&(0,fe.jsx)(Co,{hsva:le,rProps:{labelStyle:Xe,inputStyle:ue},gProps:{labelStyle:Xe,inputStyle:ue},bProps:{labelStyle:Xe,inputStyle:ue},aProps:ke==!1?!1:{labelStyle:Xe,inputStyle:ue},onChange:Nt=>ge(Nt.hsva)}),he===gr.HEXA&&(0,fe.jsx)(gi,{label:"HEX",labelStyle:Xe,inputStyle:ue,value:le.a>0&&le.a<1?po(le).toLocaleUpperCase():ha(le).toLocaleUpperCase(),onChange:(Nt,Qt)=>{typeof Qt=="string"&&ge(Bn(/^#/.test(Qt)?Qt:"#"+Qt))}}),he===gr.HSLA&&(0,fe.jsx)(_n,{hsva:le,hProps:{labelStyle:Xe,inputStyle:ue},sProps:{labelStyle:Xe,inputStyle:ue},lProps:{labelStyle:Xe,inputStyle:ue},aProps:ke==!1?!1:{labelStyle:Xe,inputStyle:ue},onChange:Nt=>ge(Nt.hsva)})]}),(0,fe.jsx)(ks,{onClick:Ie})]})]}),rectRender:()=>(0,fe.jsx)(H.Fragment,{})}))});Vi.displayName="Chrome";const Zr=Vi;var Wi=Re(39116),Yt=Re(61906),pa=Re(50612),Xa=Re(89089),Bs=Re(93714),As=Re(86986),qo=Re(60623),Cr=Re(88993),Qr=Re(71021),E=Re(73338),g=Re(25571),m=Re(10570),b=Re(97828),R=Re.n(b);function K(f){var p=H.useRef();p.current=f;var l=H.useCallback(function(){for(var x,O=arguments.length,G=new Array(O),W=0;W<O;W++)G[W]=arguments[W];return(x=p.current)===null||x===void 0?void 0:x.call.apply(x,[p].concat(G))},[]);return l}function te(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var pe=te()?H.useLayoutEffect:H.useEffect,we=function(p,l){var x=H.useRef(!0);pe(function(){return p(x.current)},l),pe(function(){return x.current=!1,function(){x.current=!0}},[])},Se=function(p,l){we(function(x){if(!x)return p()},l)};const Ve=null;function je(f){var p=H.useRef(!1),l=H.useState(f),x=(0,g.A)(l,2),O=x[0],G=x[1];H.useEffect(function(){return p.current=!1,function(){p.current=!0}},[]);function W(Y,Ce){Ce&&p.current||G(Y)}return[O,W]}function lt(f){return f!==void 0}function kt(f,p){var l=p||{},x=l.defaultValue,O=l.value,G=l.onChange,W=l.postState,Y=je(function(){return lt(O)?O:lt(x)?typeof x=="function"?x():x:typeof f=="function"?f():f}),Ce=(0,g.A)(Y,2),de=Ce[0],ke=Ce[1],Be=O!==void 0?O:de,Me=W?W(Be):Be,ve=K(G),me=je([Be]),le=(0,g.A)(me,2),ge=le[0],he=le[1];Se(function(){var Ie=ge[0];de!==Ie&&ve(de,Ie)},[ge]),Se(function(){lt(O)||ke(O)},[O]);var oe=K(function(Ie,Xe){ke(Ie,Xe),he([Be],Xe)});return[Me,oe]}var ze={},Bt=[],ir=function(p){Bt.push(p)};function vn(f,p){if(!1)var l}function mr(f,p){if(!1)var l}function en(){ze={}}function St(f,p,l){!p&&!ze[l]&&(f(!1,l),ze[l]=!0)}function Fr(f,p){St(vn,f,p)}function Hn(f,p){St(mr,f,p)}Fr.preMessage=ir,Fr.resetWarned=en,Fr.noteOnce=Hn;const $r=Fr;function Xi(f,p){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,x=new Set;function O(G,W){var Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,Ce=x.has(G);if($r(!Ce,"Warning: There may be circular references"),Ce)return!1;if(G===W)return!0;if(l&&Y>1)return!1;x.add(G);var de=Y+1;if(Array.isArray(G)){if(!Array.isArray(W)||G.length!==W.length)return!1;for(var ke=0;ke<G.length;ke++)if(!O(G[ke],W[ke],de))return!1;return!0}if(G&&W&&(0,m.A)(G)==="object"&&(0,m.A)(W)==="object"){var Be=Object.keys(G);return Be.length!==Object.keys(W).length?!1:Be.every(function(Me){return O(G[Me],W[Me],de)})}return!1}return O(f,p)}const Mr=Xi;var Yi=Re(45607);function Kn(f,p,l){return(f-p)/(l-p)}function Ti(f,p,l,x){var O=Kn(p,l,x),G={};switch(f){case"rtl":G.right="".concat(O*100,"%"),G.transform="translateX(50%)";break;case"btt":G.bottom="".concat(O*100,"%"),G.transform="translateY(50%)";break;case"ttb":G.top="".concat(O*100,"%"),G.transform="translateY(-50%)";break;default:G.left="".concat(O*100,"%"),G.transform="translateX(-50%)";break}return G}function tn(f,p){return Array.isArray(f)?f[p]:f}var st={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(p){var l=p.keyCode;if(p.altKey&&!p.ctrlKey||p.metaKey||l>=st.F1&&l<=st.F12)return!1;switch(l){case st.ALT:case st.CAPS_LOCK:case st.CONTEXT_MENU:case st.CTRL:case st.DOWN:case st.END:case st.ESC:case st.HOME:case st.INSERT:case st.LEFT:case st.MAC_FF_META:case st.META:case st.NUMLOCK:case st.NUM_CENTER:case st.PAGE_DOWN:case st.PAGE_UP:case st.PAUSE:case st.PRINT_SCREEN:case st.RIGHT:case st.SHIFT:case st.UP:case st.WIN_KEY:case st.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(p){if(p>=st.ZERO&&p<=st.NINE||p>=st.NUM_ZERO&&p<=st.NUM_MULTIPLY||p>=st.A&&p<=st.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&p===0)return!0;switch(p){case st.SPACE:case st.QUESTION_MARK:case st.NUM_PLUS:case st.NUM_MINUS:case st.NUM_PERIOD:case st.NUM_DIVISION:case st.SEMICOLON:case st.DASH:case st.EQUALS:case st.COMMA:case st.PERIOD:case st.SLASH:case st.APOSTROPHE:case st.SINGLE_QUOTE:case st.OPEN_SQUARE_BRACKET:case st.BACKSLASH:case st.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}};const _r=st;var mi=H.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}});const $n=mi;var qi=["prefixCls","value","valueIndex","onStartMove","style","render","dragging","onOffsetChange","onChangeComplete","onFocus","onMouseEnter"],Ss=H.forwardRef(function(f,p){var l=f.prefixCls,x=f.value,O=f.valueIndex,G=f.onStartMove,W=f.style,Y=f.render,Ce=f.dragging,de=f.onOffsetChange,ke=f.onChangeComplete,Be=f.onFocus,Me=f.onMouseEnter,ve=(0,Yi.A)(f,qi),me=H.useContext($n),le=me.min,ge=me.max,he=me.direction,oe=me.disabled,Ie=me.keyboard,Xe=me.range,ue=me.tabIndex,qe=me.ariaLabelForHandle,tt=me.ariaLabelledByForHandle,Ct=me.ariaValueTextFormatterForHandle,nr=me.styles,Dt=me.classNames,Nt="".concat(l,"-handle"),Qt=function(kr){oe||G(kr,O)},Ln=function(kr){Be?.(kr,O)},Wn=function(kr){Me(kr,O)},vr=function(kr){if(!oe&&Ie){var Nr=null;switch(kr.which||kr.keyCode){case _r.LEFT:Nr=he==="ltr"||he==="btt"?-1:1;break;case _r.RIGHT:Nr=he==="ltr"||he==="btt"?1:-1;break;case _r.UP:Nr=he!=="ttb"?1:-1;break;case _r.DOWN:Nr=he!=="ttb"?-1:1;break;case _r.HOME:Nr="min";break;case _r.END:Nr="max";break;case _r.PAGE_UP:Nr=2;break;case _r.PAGE_DOWN:Nr=-2;break}Nr!==null&&(kr.preventDefault(),de(Nr,O))}},hr=function(kr){switch(kr.which||kr.keyCode){case _r.LEFT:case _r.RIGHT:case _r.UP:case _r.DOWN:case _r.HOME:case _r.END:case _r.PAGE_UP:case _r.PAGE_DOWN:ke?.();break}},Ot=Ti(he,x,le,ge),qt={};if(O!==null){var Vr;qt={tabIndex:oe?null:tn(ue,O),role:"slider","aria-valuemin":le,"aria-valuemax":ge,"aria-valuenow":x,"aria-disabled":oe,"aria-label":tn(qe,O),"aria-labelledby":tn(tt,O),"aria-valuetext":(Vr=tn(Ct,O))===null||Vr===void 0?void 0:Vr(x),"aria-orientation":he==="ltr"||he==="rtl"?"horizontal":"vertical",onMouseDown:Qt,onTouchStart:Qt,onFocus:Ln,onMouseEnter:Wn,onKeyDown:vr,onKeyUp:hr}}var hn=H.createElement("div",(0,Pe.A)({ref:p,className:R()(Nt,(0,Qr.A)((0,Qr.A)({},"".concat(Nt,"-").concat(O+1),O!==null&&Xe),"".concat(Nt,"-dragging"),Ce),Dt.handle),style:(0,Cr.A)((0,Cr.A)((0,Cr.A)({},Ot),W),nr.handle)},qt,ve));return Y&&(hn=Y(hn,{index:O,prefixCls:l,value:x,dragging:Ce})),hn});const Dr=Ss;var Ir=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","activeHandleRender","draggingIndex","onFocus"],Jo=H.forwardRef(function(f,p){var l=f.prefixCls,x=f.style,O=f.onStartMove,G=f.onOffsetChange,W=f.values,Y=f.handleRender,Ce=f.activeHandleRender,de=f.draggingIndex,ke=f.onFocus,Be=(0,Yi.A)(f,Ir),Me=H.useRef({});H.useImperativeHandle(p,function(){return{focus:function(ue){var qe;(qe=Me.current[ue])===null||qe===void 0||qe.focus()}}});var ve=H.useState(-1),me=(0,g.A)(ve,2),le=me[0],ge=me[1],he=function(ue,qe){ge(qe),ke?.(ue)},oe=function(ue,qe){ge(qe)},Ie=(0,Cr.A)({prefixCls:l,onStartMove:O,onOffsetChange:G,render:Y,onFocus:he,onMouseEnter:oe},Be);return H.createElement(H.Fragment,null,W.map(function(Xe,ue){return H.createElement(Dr,(0,Pe.A)({ref:function(tt){tt?Me.current[ue]=tt:delete Me.current[ue]},dragging:de===ue,style:tn(x,ue),key:ue,value:Xe,valueIndex:ue},Ie))}),Ce&&H.createElement(Dr,(0,Pe.A)({key:"a11y"},Ie,{value:W[le],valueIndex:null,dragging:de!==-1,render:Ce,style:{pointerEvents:"none"},tabIndex:null,"aria-hidden":!0})))});const Vh=Jo;var Ya=function(p){var l=p.prefixCls,x=p.style,O=p.children,G=p.value,W=p.onClick,Y=H.useContext($n),Ce=Y.min,de=Y.max,ke=Y.direction,Be=Y.includedStart,Me=Y.includedEnd,ve=Y.included,me="".concat(l,"-text"),le=Ti(ke,G,Ce,de);return H.createElement("span",{className:R()(me,(0,Qr.A)({},"".concat(me,"-active"),ve&&Be<=G&&G<=Me)),style:(0,Cr.A)((0,Cr.A)({},le),x),onMouseDown:function(he){he.stopPropagation()},onClick:function(){W(G)}},O)};const qa=Ya;var Eo=function(p){var l=p.prefixCls,x=p.marks,O=p.onClick,G="".concat(l,"-mark");return x.length?H.createElement("div",{className:G},x.map(function(W){var Y=W.value,Ce=W.style,de=W.label;return H.createElement(qa,{key:Y,prefixCls:G,style:Ce,value:Y,onClick:O},de)})):null};const Ji=Eo;var ul=function(p){var l=p.prefixCls,x=p.value,O=p.style,G=p.activeStyle,W=H.useContext($n),Y=W.min,Ce=W.max,de=W.direction,ke=W.included,Be=W.includedStart,Me=W.includedEnd,ve="".concat(l,"-dot"),me=ke&&Be<=x&&x<=Me,le=(0,Cr.A)((0,Cr.A)({},Ti(de,x,Y,Ce)),typeof O=="function"?O(x):O);return me&&(le=(0,Cr.A)((0,Cr.A)({},le),typeof G=="function"?G(x):G)),H.createElement("span",{className:R()(ve,(0,Qr.A)({},"".concat(ve,"-active"),me)),style:le})};const ll=ul;var Ds=function(p){var l=p.prefixCls,x=p.marks,O=p.dots,G=p.style,W=p.activeStyle,Y=H.useContext($n),Ce=Y.min,de=Y.max,ke=Y.step,Be=H.useMemo(function(){var Me=new Set;if(x.forEach(function(me){Me.add(me.value)}),O&&ke!==null)for(var ve=Ce;ve<=de;)Me.add(ve),ve+=ke;return Array.from(Me)},[Ce,de,ke,O,x]);return H.createElement("div",{className:"".concat(l,"-step")},Be.map(function(Me){return H.createElement(ll,{prefixCls:l,key:Me,value:Me,style:G,activeStyle:W})}))};const Qn=Ds;var ou=function(p){var l=p.prefixCls,x=p.style,O=p.start,G=p.end,W=p.index,Y=p.onStartMove,Ce=p.replaceCls,de=H.useContext($n),ke=de.direction,Be=de.min,Me=de.max,ve=de.disabled,me=de.range,le=de.classNames,ge="".concat(l,"-track"),he=Kn(O,Be,Me),oe=Kn(G,Be,Me),Ie=function(tt){!ve&&Y&&Y(tt,-1)},Xe={};switch(ke){case"rtl":Xe.right="".concat(he*100,"%"),Xe.width="".concat(oe*100-he*100,"%");break;case"btt":Xe.bottom="".concat(he*100,"%"),Xe.height="".concat(oe*100-he*100,"%");break;case"ttb":Xe.top="".concat(he*100,"%"),Xe.height="".concat(oe*100-he*100,"%");break;default:Xe.left="".concat(he*100,"%"),Xe.width="".concat(oe*100-he*100,"%")}var ue=Ce||R()(ge,(0,Qr.A)((0,Qr.A)({},"".concat(ge,"-").concat(W+1),W!==null&&me),"".concat(l,"-track-draggable"),Y),le.track);return H.createElement("div",{className:ue,style:(0,Cr.A)((0,Cr.A)({},Xe),x),onMouseDown:Ie,onTouchStart:Ie})};const xo=ou;var hl=function(p){var l=p.prefixCls,x=p.style,O=p.values,G=p.startPoint,W=p.onStartMove,Y=H.useContext($n),Ce=Y.included,de=Y.range,ke=Y.min,Be=Y.styles,Me=Y.classNames,ve=H.useMemo(function(){if(!de){if(O.length===0)return[];var le=G??ke,ge=O[0];return[{start:Math.min(le,ge),end:Math.max(le,ge)}]}for(var he=[],oe=0;oe<O.length-1;oe+=1)he.push({start:O[oe],end:O[oe+1]});return he},[O,de,G,ke]);if(!Ce)return null;var me=Me.tracks||Be.tracks?H.createElement(xo,{index:null,prefixCls:l,start:ve[0].start,end:ve[ve.length-1].end,replaceCls:R()(Me.tracks,"".concat(l,"-tracks")),style:Be.tracks}):null;return H.createElement(H.Fragment,null,me,ve.map(function(le,ge){var he=le.start,oe=le.end;return H.createElement(xo,{index:ge,prefixCls:l,style:(0,Cr.A)((0,Cr.A)({},tn(x,ge)),Be.track),start:he,end:oe,key:ge,onStartMove:W})}))};const _i=hl;var vi=Re(96711);function Ps(f,p,l){var x=React.useRef({});return(!("value"in x.current)||l(x.current.condition,p))&&(x.current.value=f(),x.current.condition=p),x.current.value}var su=function(p,l){typeof p=="function"?p(l):_typeof(p)==="object"&&p&&"current"in p&&(p.current=l)},Ts=function(){for(var p=arguments.length,l=new Array(p),x=0;x<p;x++)l[x]=arguments[x];var O=l.filter(Boolean);return O.length<=1?O[0]:function(G){l.forEach(function(W){su(W,G)})}},Zo=function(){for(var p=arguments.length,l=new Array(p),x=0;x<p;x++)l[x]=arguments[x];return useMemo(function(){return Ts.apply(void 0,l)},l,function(O,G){return O.length!==G.length||O.every(function(W,Y){return W!==G[Y]})})},cl=function(p){var l,x,O=isMemo(p)?p.type.type:p.type;return!(typeof O=="function"&&!((l=O.prototype)!==null&&l!==void 0&&l.render)&&O.$$typeof!==ForwardRef||typeof p=="function"&&!((x=p.prototype)!==null&&x!==void 0&&x.render)&&p.$$typeof!==ForwardRef)};function Rs(f){return(0,H.isValidElement)(f)&&!(0,vi.isFragment)(f)}var uu=function(p){return Rs(p)&&cl(p)},Wh=Number(H.version.split(".")[0])>=19?function(f){return Rs(f)?f.props.ref:null}:function(f){return Rs(f)?f.ref:null};function lu(f,p,l,x){if(!p.length)return l;var O=_toArray(p),G=O[0],W=O.slice(1),Y;return!f&&typeof G=="number"?Y=[]:Array.isArray(f)?Y=_toConsumableArray(f):Y=_objectSpread({},f),x&&l===void 0&&W.length===1?delete Y[G][W[0]]:Y[G]=lu(Y[G],W,l,x),Y}function Os(f,p,l){var x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return p.length&&x&&l===void 0&&!get(f,p.slice(0,-1))?f:lu(f,p,l,x)}function fl(f){return _typeof(f)==="object"&&f!==null&&Object.getPrototypeOf(f)===Object.prototype}function Qo(f){return Array.isArray(f)?[]:{}}var dl=typeof Reflect>"u"?Object.keys:Reflect.ownKeys;function Xh(){for(var f=arguments.length,p=new Array(f),l=0;l<f;l++)p[l]=arguments[l];var x=Qo(p[0]);return p.forEach(function(O){function G(W,Y){var Ce=new Set(Y),de=get(O,W),ke=Array.isArray(de);if(ke||fl(de)){if(!Ce.has(de)){Ce.add(de);var Be=get(x,W);ke?x=Os(x,W,[]):(!Be||_typeof(Be)!=="object")&&(x=Os(x,W,Qo(de))),dl(de).forEach(function(Me){G([].concat(_toConsumableArray(W),[Me]),Ce)})}}else x=Os(x,W,de)}G([])}),x}function Fs(f){var p="touches"in f?f.touches[0]:f;return{pageX:p.pageX,pageY:p.pageY}}function ga(f,p,l,x,O,G,W,Y,Ce){var de=H.useState(null),ke=(0,g.A)(de,2),Be=ke[0],Me=ke[1],ve=H.useState(-1),me=(0,g.A)(ve,2),le=me[0],ge=me[1],he=H.useState(l),oe=(0,g.A)(he,2),Ie=oe[0],Xe=oe[1],ue=H.useState(l),qe=(0,g.A)(ue,2),tt=qe[0],Ct=qe[1],nr=H.useRef(null),Dt=H.useRef(null);H.useLayoutEffect(function(){le===-1&&Xe(l)},[l,le]),H.useEffect(function(){return function(){document.removeEventListener("mousemove",nr.current),document.removeEventListener("mouseup",Dt.current),document.removeEventListener("touchmove",nr.current),document.removeEventListener("touchend",Dt.current)}},[]);var Nt=function(hr,Ot){Ie.some(function(qt,Vr){return qt!==hr[Vr]})&&(Ot!==void 0&&Me(Ot),Xe(hr),W(hr))},Qt=K(function(vr,hr){if(vr===-1){var Ot=tt[0],qt=tt[tt.length-1],Vr=x-Ot,hn=O-qt,jt=hr*(O-x);jt=Math.max(jt,Vr),jt=Math.min(jt,hn);var kr=G(Ot+jt);jt=kr-Ot;var Nr=tt.map(function(bi){return bi+jt});Nt(Nr)}else{var ti=(O-x)*hr,cn=(0,E.A)(Ie);cn[vr]=tt[vr];var Pn=Ce(cn,ti,vr,"dist");Nt(Pn.values,Pn.value)}}),Ln=function(hr,Ot,qt){hr.stopPropagation();var Vr=qt||l,hn=Vr[Ot];ge(Ot),Me(hn),Ct(Vr);var jt=Fs(hr),kr=jt.pageX,Nr=jt.pageY,ti=function(bi){bi.preventDefault();var Tn=Fs(bi),En=Tn.pageX,ea=Tn.pageY,Oi=En-kr,Ci=ea-Nr,ta=f.current.getBoundingClientRect(),Ft=ta.width,Gr=ta.height,Li;switch(p){case"btt":Li=-Ci/Gr;break;case"ttb":Li=Ci/Gr;break;case"rtl":Li=-Oi/Ft;break;default:Li=Oi/Ft}Qt(Ot,Li)},cn=function Pn(bi){bi.preventDefault(),document.removeEventListener("mouseup",Pn),document.removeEventListener("mousemove",ti),document.removeEventListener("touchend",Pn),document.removeEventListener("touchmove",ti),nr.current=null,Dt.current=null,ge(-1),Y()};document.addEventListener("mouseup",cn),document.addEventListener("mousemove",ti),document.addEventListener("touchend",cn),document.addEventListener("touchmove",ti),nr.current=ti,Dt.current=cn},Wn=H.useMemo(function(){var vr=(0,E.A)(l).sort(function(Ot,qt){return Ot-qt}),hr=(0,E.A)(Ie).sort(function(Ot,qt){return Ot-qt});return vr.every(function(Ot,qt){return Ot===hr[qt]})?Ie:l},[l,Ie]);return[le,Be,Wn,Ln]}const hu=ga;function pl(f,p,l,x,O,G){var W=H.useCallback(function(ve){return Math.max(f,Math.min(p,ve))},[f,p]),Y=H.useCallback(function(ve){if(l!==null){var me=f+Math.round((W(ve)-f)/l)*l,le=function(Ie){return(String(Ie).split(".")[1]||"").length},ge=Math.max(le(l),le(p),le(f)),he=Number(me.toFixed(ge));return f<=he&&he<=p?he:null}return null},[l,f,p,W]),Ce=H.useCallback(function(ve){var me=W(ve),le=x.map(function(oe){return oe.value});l!==null&&le.push(Y(ve)),le.push(f,p);var ge=le[0],he=p-f;return le.forEach(function(oe){var Ie=Math.abs(me-oe);Ie<=he&&(ge=oe,he=Ie)}),ge},[f,p,x,l,W,Y]),de=function ve(me,le,ge){var he=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit";if(typeof le=="number"){var oe,Ie=me[ge],Xe=Ie+le,ue=[];x.forEach(function(Dt){ue.push(Dt.value)}),ue.push(f,p),ue.push(Y(Ie));var qe=le>0?1:-1;he==="unit"?ue.push(Y(Ie+qe*l)):ue.push(Y(Xe)),ue=ue.filter(function(Dt){return Dt!==null}).filter(function(Dt){return le<0?Dt<=Ie:Dt>=Ie}),he==="unit"&&(ue=ue.filter(function(Dt){return Dt!==Ie}));var tt=he==="unit"?Ie:Xe;oe=ue[0];var Ct=Math.abs(oe-tt);if(ue.forEach(function(Dt){var Nt=Math.abs(Dt-tt);Nt<Ct&&(oe=Dt,Ct=Nt)}),oe===void 0)return le<0?f:p;if(he==="dist")return oe;if(Math.abs(le)>1){var nr=(0,E.A)(me);return nr[ge]=oe,ve(nr,le-qe,ge,he)}return oe}else{if(le==="min")return f;if(le==="max")return p}},ke=function(me,le,ge){var he=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",oe=me[ge],Ie=de(me,le,ge,he);return{value:Ie,changed:Ie!==oe}},Be=function(me){return G===null&&me===0||typeof G=="number"&&me<G},Me=function(me,le,ge){var he=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",oe=me.map(Ce),Ie=oe[ge],Xe=de(oe,le,ge,he);if(oe[ge]=Xe,O===!1){var ue=G||0;ge>0&&oe[ge-1]!==Ie&&(oe[ge]=Math.max(oe[ge],oe[ge-1]+ue)),ge<oe.length-1&&oe[ge+1]!==Ie&&(oe[ge]=Math.min(oe[ge],oe[ge+1]-ue))}else if(typeof G=="number"||G===null){for(var qe=ge+1;qe<oe.length;qe+=1)for(var tt=!0;Be(oe[qe]-oe[qe-1])&&tt;){var Ct=ke(oe,1,qe);oe[qe]=Ct.value,tt=Ct.changed}for(var nr=ge;nr>0;nr-=1)for(var Dt=!0;Be(oe[nr]-oe[nr-1])&&Dt;){var Nt=ke(oe,-1,nr-1);oe[nr-1]=Nt.value,Dt=Nt.changed}for(var Qt=oe.length-1;Qt>0;Qt-=1)for(var Ln=!0;Be(oe[Qt]-oe[Qt-1])&&Ln;){var Wn=ke(oe,-1,Qt-1);oe[Qt-1]=Wn.value,Ln=Wn.changed}for(var vr=0;vr<oe.length-1;vr+=1)for(var hr=!0;Be(oe[vr+1]-oe[vr])&&hr;){var Ot=ke(oe,1,vr+1);oe[vr+1]=Ot.value,hr=Ot.changed}}return{value:oe[ge],values:oe}};return[Ce,Me]}var ma=H.forwardRef(function(f,p){var l=f.prefixCls,x=l===void 0?"rc-slider":l,O=f.className,G=f.style,W=f.classNames,Y=f.styles,Ce=f.disabled,de=Ce===void 0?!1:Ce,ke=f.keyboard,Be=ke===void 0?!0:ke,Me=f.autoFocus,ve=f.onFocus,me=f.onBlur,le=f.min,ge=le===void 0?0:le,he=f.max,oe=he===void 0?100:he,Ie=f.step,Xe=Ie===void 0?1:Ie,ue=f.value,qe=f.defaultValue,tt=f.range,Ct=f.count,nr=f.onChange,Dt=f.onBeforeChange,Nt=f.onAfterChange,Qt=f.onChangeComplete,Ln=f.allowCross,Wn=Ln===void 0?!0:Ln,vr=f.pushable,hr=vr===void 0?!1:vr,Ot=f.draggableTrack,qt=f.reverse,Vr=f.vertical,hn=f.included,jt=hn===void 0?!0:hn,kr=f.startPoint,Nr=f.trackStyle,ti=f.handleStyle,cn=f.railStyle,Pn=f.dotStyle,bi=f.activeDotStyle,Tn=f.marks,En=f.dots,ea=f.handleRender,Oi=f.activeHandleRender,Ci=f.tabIndex,ta=Ci===void 0?0:Ci,Ft=f.ariaLabelForHandle,Gr=f.ariaLabelledByForHandle,Li=f.ariaValueTextFormatterForHandle,rn=H.useRef(null),Fi=H.useRef(null),Za=H.useMemo(function(){return Vr?qt?"ttb":"btt":qt?"rtl":"ltr"},[qt,Vr]),Ur=H.useMemo(function(){return isFinite(ge)?ge:0},[ge]),jr=H.useMemo(function(){return isFinite(oe)?oe:100},[oe]),e=H.useMemo(function(){return Xe!==null&&Xe<=0?1:Xe},[Xe]),r=H.useMemo(function(){return typeof hr=="boolean"?hr?e:!1:hr>=0?hr:!1},[hr,e]),i=H.useMemo(function(){return Object.keys(Tn||{}).map(function(Ge){var He=Tn[Ge],ut={value:Number(Ge)};return He&&(0,m.A)(He)==="object"&&!H.isValidElement(He)&&("label"in He||"style"in He)?(ut.style=He.style,ut.label=He.label):ut.label=He,ut}).filter(function(Ge){var He=Ge.label;return He||typeof He=="number"}).sort(function(Ge,He){return Ge.value-He.value})},[Tn]),a=pl(Ur,jr,e,i,Wn,r),o=(0,g.A)(a,2),u=o[0],c=o[1],d=kt(qe,{value:ue}),_=(0,g.A)(d,2),C=_[0],F=_[1],I=H.useMemo(function(){var Ge=C==null?[]:Array.isArray(C)?C:[C],He=(0,g.A)(Ge,1),ut=He[0],ht=ut===void 0?Ur:ut,gt=C===null?[]:[ht];if(tt){if(gt=(0,E.A)(Ge),Ct||C===void 0){var er=Ct>=0?Ct+1:2;for(gt=gt.slice(0,er);gt.length<er;){var fn;gt.push((fn=gt[gt.length-1])!==null&&fn!==void 0?fn:Ur)}}gt.sort(function(Rn,ri){return Rn-ri})}return gt.forEach(function(Rn,ri){gt[ri]=u(Rn)}),gt},[C,tt,Ur,Ct,u]),ie=H.useRef(I);ie.current=I;var J=function(He){return tt?He:He[0]},_e=function(He){var ut=(0,E.A)(He).sort(function(ht,gt){return ht-gt});nr&&!Mr(ut,ie.current,!0)&&nr(J(ut)),F(ut)},De=function(){var He=J(ie.current);Nt?.(He),$r(!Nt,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),Qt?.(He)},Je=hu(Fi,Za,I,Ur,jr,u,_e,De,c),xt=(0,g.A)(Je,4),T=xt[0],U=xt[1],X=xt[2],se=xt[3],Z=function(He,ut){if(!de){var ht=0,gt=jr-Ur;I.forEach(function(ri,zr){var ni=Math.abs(He-ri);ni<=gt&&(gt=ni,ht=zr)});var er=(0,E.A)(I);if(er[ht]=He,tt&&!I.length&&Ct===void 0&&er.push(He),Dt?.(J(er)),_e(er),ut){var fn,Rn;(fn=document.activeElement)===null||fn===void 0||(Rn=fn.blur)===null||Rn===void 0||Rn.call(fn),rn.current.focus(ht),se(ut,ht,er)}}},ae=function(He){He.preventDefault();var ut=Fi.current.getBoundingClientRect(),ht=ut.width,gt=ut.height,er=ut.left,fn=ut.top,Rn=ut.bottom,ri=ut.right,zr=He.clientX,ni=He.clientY,Lr;switch(Za){case"btt":Lr=(Rn-ni)/gt;break;case"ttb":Lr=(ni-fn)/gt;break;case"rtl":Lr=(ri-zr)/ht;break;default:Lr=(zr-er)/ht}var Wr=Ur+Lr*(jr-Ur);Z(u(Wr),He)},v=H.useState(null),M=(0,g.A)(v,2),B=M[0],k=M[1],S=function(He,ut){if(!de){var ht=c(I,He,ut);Dt?.(J(I)),_e(ht.values),k(ht.value)}};H.useEffect(function(){if(B!==null){var Ge=I.indexOf(B);Ge>=0&&rn.current.focus(Ge)}k(null)},[B]);var D=H.useMemo(function(){return Ot&&e===null?!1:Ot},[Ot,e]),z=function(He,ut){se(He,ut),Dt?.(J(ie.current))},j=T!==-1;H.useEffect(function(){if(!j){var Ge=I.lastIndexOf(U);rn.current.focus(Ge)}},[j]);var V=H.useMemo(function(){return(0,E.A)(X).sort(function(Ge,He){return Ge-He})},[X]),ne=H.useMemo(function(){return tt?[V[0],V[V.length-1]]:[Ur,V[0]]},[V,tt,Ur]),re=(0,g.A)(ne,2),Le=re[0],$e=re[1];H.useImperativeHandle(p,function(){return{focus:function(){rn.current.focus(0)},blur:function(){var He,ut=document,ht=ut.activeElement;(He=Fi.current)!==null&&He!==void 0&&He.contains(ht)&&ht?.blur()}}}),H.useEffect(function(){Me&&rn.current.focus(0)},[]);var Qe=H.useMemo(function(){return{min:Ur,max:jr,direction:Za,disabled:de,keyboard:Be,step:e,included:jt,includedStart:Le,includedEnd:$e,range:tt,tabIndex:ta,ariaLabelForHandle:Ft,ariaLabelledByForHandle:Gr,ariaValueTextFormatterForHandle:Li,styles:Y||{},classNames:W||{}}},[Ur,jr,Za,de,Be,e,jt,Le,$e,tt,ta,Ft,Gr,Li,Y,W]);return H.createElement($n.Provider,{value:Qe},H.createElement("div",{ref:Fi,className:R()(x,O,(0,Qr.A)((0,Qr.A)((0,Qr.A)((0,Qr.A)({},"".concat(x,"-disabled"),de),"".concat(x,"-vertical"),Vr),"".concat(x,"-horizontal"),!Vr),"".concat(x,"-with-marks"),i.length)),style:G,onMouseDown:ae},H.createElement("div",{className:R()("".concat(x,"-rail"),W?.rail),style:(0,Cr.A)((0,Cr.A)({},cn),Y?.rail)}),H.createElement(_i,{prefixCls:x,style:Nr,values:V,startPoint:kr,onStartMove:D?z:void 0}),H.createElement(Qn,{prefixCls:x,marks:i,dots:En,style:Pn,activeStyle:bi}),H.createElement(Vh,{ref:rn,prefixCls:x,style:ti,values:X,draggingIndex:T,onStartMove:z,onOffsetChange:S,onFocus:ve,onBlur:me,handleRender:ea,activeHandleRender:Oi,onChangeComplete:De}),H.createElement(Ji,{prefixCls:x,marks:i,onClick:Z})))});const gl=ma;var Is=Re(85072),Mo=Re.n(Is),ml=Re(97825),_l=Re.n(ml),vl=Re(77659),cu=Re.n(vl),yl=Re(55056),fu=Re.n(yl),bl=Re(10540),Cl=Re.n(bl),Ll=Re(41113),du=Re.n(Ll),Ja=Re(48607),_a={};_a.styleTagTransform=du(),_a.setAttributes=fu(),_a.insert=cu().bind(null,"head"),_a.domAPI=_l(),_a.insertStyleElement=Cl();var pu=Mo()(Ja.A,_a);const qh=Ja.A&&Ja.A.locals?Ja.A.locals:void 0;var es=Re(50745),gu=Re(4096),El=Re(70430),Jh=Re(91181),Zh=Re(40273),ts=Re(92274),Qh=Re(92389),ec=Re(74831);const xl=({geojson:f,setGeojson:p},l)=>{const x=H.useRef(null);H.useImperativeHandle(l,()=>({setStyle(G,W){const Y=x.current?.getLayers();if(!Y||Y[W]instanceof Ze.Marker)return;const Ce=x.current?.getLayerId(Y[W]);if(!Ce)return;(x.current?.getLayer(Ce)).setStyle(G)},removeLayer(G){const W=x.current?.getLayers();if(!W)return;const Y=x.current?.getLayerId(W[G]);Y&&x.current?.removeLayer(Y)},resetLayers(G){G&&x.current?.clearLayers()}})),H.useEffect(()=>{x.current?.getLayers().length===0&&f&&Ze.geoJSON(f).eachLayer(G=>{(G instanceof Ze.Polyline||G instanceof Ze.Polygon||G instanceof Ze.Marker)&&(G.feature?.properties?.style&&Object.assign(G.options,G.feature?.properties?.style),G?.feature?.properties.radius&&x.current?G?.feature?.properties.shape==="CircleMarker"?new Ze.CircleMarker(G.feature.geometry.coordinates.slice().reverse(),{radius:G.feature?.properties.radius,...G.feature?.properties?.style}).addTo(x.current):new Ze.Circle(G.feature.geometry.coordinates.slice().reverse(),{radius:G.feature?.properties.radius,...G.feature?.properties?.style}).addTo(x.current):x.current?.addLayer(G))})},[JSON.stringify(f)]);const O=()=>{const G={type:"FeatureCollection",features:[]},W=x.current?.getLayers();W&&W.forEach(Y=>{if(Y instanceof Ze.Circle||Y instanceof Ze.CircleMarker){const Ce=Y.pm.getShape();if(["Circle","CircleMarker"].includes(Ce)){const{lat:de,lng:ke}=Y.getLatLng();G.features.push({type:"Feature",properties:{radius:Y.getRadius(),shape:Y.pm.getShape(),style:Y.options},geometry:{type:"Point",coordinates:[ke,de]}})}}else(Y instanceof Ze.Marker||Y instanceof Ze.Polygon||Y instanceof Ze.Rectangle||Y instanceof Ze.Polyline)&&G.features.push({...Y.toGeoJSON(),properties:{...Y.toGeoJSON().properties,...Y.options,shape:Y.pm.getShape()}})}),p(G)};return(0,fe.jsx)(vt,{ref:x,children:(0,fe.jsx)(ci,{options:{position:"topleft",drawText:!1,customControls:!0},globalOptions:{continueDrawing:!0,editable:!1},eventDebugFn:console.log,onCreate:O,onChange:O,onUpdate:O,onEdit:O,onMapRemove:O,onMapCut:O,onDragEnd:O,onMarkerDragEnd:O})})},Ml=H.forwardRef(xl);var rs=function(){return rs=Object.assign||function(p){for(var l,x=1,O=arguments.length;x<O;x++){l=arguments[x];for(var G in l)Object.prototype.hasOwnProperty.call(l,G)&&(p[G]=l[G])}return p},rs.apply(this,arguments)};function mu(f,p){var l={};for(var x in f)Object.prototype.hasOwnProperty.call(f,x)&&p.indexOf(x)<0&&(l[x]=f[x]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function")for(var O=0,x=Object.getOwnPropertySymbols(f);O<x.length;O++)p.indexOf(x[O])<0&&Object.prototype.propertyIsEnumerable.call(f,x[O])&&(l[x[O]]=f[x[O]]);return l}typeof SuppressedError=="function"&&SuppressedError;var wo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wl(f){return f&&f.__esModule&&Object.prototype.hasOwnProperty.call(f,"default")?f.default:f}var Ns={exports:{}},Ut={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _u;function kl(){if(_u)return Ut;_u=1;var f=typeof Symbol=="function"&&Symbol.for,p=f?Symbol.for("react.element"):60103,l=f?Symbol.for("react.portal"):60106,x=f?Symbol.for("react.fragment"):60107,O=f?Symbol.for("react.strict_mode"):60108,G=f?Symbol.for("react.profiler"):60114,W=f?Symbol.for("react.provider"):60109,Y=f?Symbol.for("react.context"):60110,Ce=f?Symbol.for("react.async_mode"):60111,de=f?Symbol.for("react.concurrent_mode"):60111,ke=f?Symbol.for("react.forward_ref"):60112,Be=f?Symbol.for("react.suspense"):60113,Me=f?Symbol.for("react.suspense_list"):60120,ve=f?Symbol.for("react.memo"):60115,me=f?Symbol.for("react.lazy"):60116,le=f?Symbol.for("react.block"):60121,ge=f?Symbol.for("react.fundamental"):60117,he=f?Symbol.for("react.responder"):60118,oe=f?Symbol.for("react.scope"):60119;function Ie(ue){if(typeof ue=="object"&&ue!==null){var qe=ue.$$typeof;switch(qe){case p:switch(ue=ue.type,ue){case Ce:case de:case x:case G:case O:case Be:return ue;default:switch(ue=ue&&ue.$$typeof,ue){case Y:case ke:case me:case ve:case W:return ue;default:return qe}}case l:return qe}}}function Xe(ue){return Ie(ue)===de}return Ut.AsyncMode=Ce,Ut.ConcurrentMode=de,Ut.ContextConsumer=Y,Ut.ContextProvider=W,Ut.Element=p,Ut.ForwardRef=ke,Ut.Fragment=x,Ut.Lazy=me,Ut.Memo=ve,Ut.Portal=l,Ut.Profiler=G,Ut.StrictMode=O,Ut.Suspense=Be,Ut.isAsyncMode=function(ue){return Xe(ue)||Ie(ue)===Ce},Ut.isConcurrentMode=Xe,Ut.isContextConsumer=function(ue){return Ie(ue)===Y},Ut.isContextProvider=function(ue){return Ie(ue)===W},Ut.isElement=function(ue){return typeof ue=="object"&&ue!==null&&ue.$$typeof===p},Ut.isForwardRef=function(ue){return Ie(ue)===ke},Ut.isFragment=function(ue){return Ie(ue)===x},Ut.isLazy=function(ue){return Ie(ue)===me},Ut.isMemo=function(ue){return Ie(ue)===ve},Ut.isPortal=function(ue){return Ie(ue)===l},Ut.isProfiler=function(ue){return Ie(ue)===G},Ut.isStrictMode=function(ue){return Ie(ue)===O},Ut.isSuspense=function(ue){return Ie(ue)===Be},Ut.isValidElementType=function(ue){return typeof ue=="string"||typeof ue=="function"||ue===x||ue===de||ue===G||ue===O||ue===Be||ue===Me||typeof ue=="object"&&ue!==null&&(ue.$$typeof===me||ue.$$typeof===ve||ue.$$typeof===W||ue.$$typeof===Y||ue.$$typeof===ke||ue.$$typeof===ge||ue.$$typeof===he||ue.$$typeof===oe||ue.$$typeof===le)},Ut.typeOf=Ie,Ut}var Gs={};/** @license React v16.13.1
 * react-is.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ns;function tc(){return ns||(ns=1),Gs}Ns.exports=kl();var Bl=Ns.exports,is=Bl,Vn={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},yn={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Us={};Us[is.ForwardRef]=Vn,Us[is.Memo]=yn;function ei(f,p,l){if(l===void 0&&(l=Error),!f)throw new l(p)}var bt=function(f){},js=function(f){},zs={formats:{},messages:{},timeZone:void 0,defaultLocale:"en",defaultFormats:{},fallbackOnEmptyString:!0,onError:bt,onWarn:js};function Zi(f){ei(f,"[React Intl] Could not find required `intl` object. <IntlProvider> needs to exist in the component ancestry.")}rs(rs({},zs),{textComponent:H.Fragment});var wr=typeof window<"u"?window.__REACT_INTL_CONTEXT__||(window.__REACT_INTL_CONTEXT__=H.createContext(null)):H.createContext(null);wr.Consumer,wr.Provider;var vu=wr;function bn(){var f=H.useContext(vu);return Zi(f),f}var Cn;(function(f){f.formatDate="FormattedDate",f.formatTime="FormattedTime",f.formatNumber="FormattedNumber",f.formatList="FormattedList",f.formatDisplayName="FormattedDisplayName"})(Cn||(Cn={}));var Ri;(function(f){f.formatDate="FormattedDateParts",f.formatTime="FormattedTimeParts",f.formatNumber="FormattedNumberParts",f.formatList="FormattedListParts"})(Ri||(Ri={}));function lr(f){var p=function(l){var x=bn(),O=l.value,G=l.children,W=mu(l,["value","children"]),Y=typeof O=="string"?new Date(O||0):O,Ce=f==="formatDate"?x.formatDateToParts(Y,W):x.formatTimeToParts(Y,W);return G(Ce)};return p.displayName=Ri[f],p}function Qi(f){var p=function(l){var x=bn(),O=l.value,G=l.children,W=mu(l,["value","children"]),Y=x[f](O,W);if(typeof G=="function")return G(Y);var Ce=x.textComponent||H.Fragment;return H.createElement(Ce,null,Y)};return p.displayName=Cn[f],p}Qi("formatDate"),Qi("formatTime"),Qi("formatNumber"),Qi("formatList"),Qi("formatDisplayName"),lr("formatDate"),lr("formatTime");var va={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */va.exports,function(f,p){(function(){var l,x="4.17.21",O=200,G="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",W="Expected a function",Y="Invalid `variable` option passed into `_.template`",Ce="__lodash_hash_undefined__",de=500,ke="__lodash_placeholder__",Be=1,Me=2,ve=4,me=1,le=2,ge=1,he=2,oe=4,Ie=8,Xe=16,ue=32,qe=64,tt=128,Ct=256,nr=512,Dt=30,Nt="...",Qt=800,Ln=16,Wn=1,vr=2,hr=3,Ot=1/0,qt=9007199254740991,Vr=17976931348623157e292,hn=0/0,jt=4294967295,kr=jt-1,Nr=jt>>>1,ti=[["ary",tt],["bind",ge],["bindKey",he],["curry",Ie],["curryRight",Xe],["flip",nr],["partial",ue],["partialRight",qe],["rearg",Ct]],cn="[object Arguments]",Pn="[object Array]",bi="[object AsyncFunction]",Tn="[object Boolean]",En="[object Date]",ea="[object DOMException]",Oi="[object Error]",Ci="[object Function]",ta="[object GeneratorFunction]",Ft="[object Map]",Gr="[object Number]",Li="[object Null]",rn="[object Object]",Fi="[object Promise]",Za="[object Proxy]",Ur="[object RegExp]",jr="[object Set]",e="[object String]",r="[object Symbol]",i="[object Undefined]",a="[object WeakMap]",o="[object WeakSet]",u="[object ArrayBuffer]",c="[object DataView]",d="[object Float32Array]",_="[object Float64Array]",C="[object Int8Array]",F="[object Int16Array]",I="[object Int32Array]",ie="[object Uint8Array]",J="[object Uint8ClampedArray]",_e="[object Uint16Array]",De="[object Uint32Array]",Je=/\b__p \+= '';/g,xt=/\b(__p \+=) '' \+/g,T=/(__e\(.*?\)|\b__t\)) \+\n'';/g,U=/&(?:amp|lt|gt|quot|#39);/g,X=/[&<>"']/g,se=RegExp(U.source),Z=RegExp(X.source),ae=/<%-([\s\S]+?)%>/g,v=/<%([\s\S]+?)%>/g,M=/<%=([\s\S]+?)%>/g,B=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,k=/^\w*$/,S=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,D=/[\\^$.*+?()[\]{}|]/g,z=RegExp(D.source),j=/^\s+/,V=/\s/,ne=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,re=/\{\n\/\* \[wrapped with (.+)\] \*/,Le=/,? & /,$e=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Qe=/[()=,{}\[\]\/\s]/,Ge=/\\(\\)?/g,He=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ut=/\w*$/,ht=/^[-+]0x[0-9a-f]+$/i,gt=/^0b[01]+$/i,er=/^\[object .+?Constructor\]$/,fn=/^0o[0-7]+$/i,Rn=/^(?:0|[1-9]\d*)$/,ri=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,zr=/($^)/,ni=/['\n\r\u2028\u2029\\]/g,Lr="\\ud800-\\udfff",Wr="\\u0300-\\u036f",yr="\\ufe20-\\ufe2f",A0="\\u20d0-\\u20ff",rc=Wr+yr+A0,nc="\\u2700-\\u27bf",ic="a-z\\xdf-\\xf6\\xf8-\\xff",S0="\\xac\\xb1\\xd7\\xf7",D0="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",P0="\\u2000-\\u206f",T0=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ac="A-Z\\xc0-\\xd6\\xd8-\\xde",oc="\\ufe0e\\ufe0f",sc=S0+D0+P0+T0,Ol="['\u2019]",R0="["+Lr+"]",uc="["+sc+"]",Cu="["+rc+"]",lc="\\d+",O0="["+nc+"]",hc="["+ic+"]",cc="[^"+Lr+sc+lc+nc+ic+ac+"]",Fl="\\ud83c[\\udffb-\\udfff]",F0="(?:"+Cu+"|"+Fl+")",fc="[^"+Lr+"]",Il="(?:\\ud83c[\\udde6-\\uddff]){2}",Nl="[\\ud800-\\udbff][\\udc00-\\udfff]",os="["+ac+"]",dc="\\u200d",pc="(?:"+hc+"|"+cc+")",I0="(?:"+os+"|"+cc+")",gc="(?:"+Ol+"(?:d|ll|m|re|s|t|ve))?",mc="(?:"+Ol+"(?:D|LL|M|RE|S|T|VE))?",_c=F0+"?",vc="["+oc+"]?",N0="(?:"+dc+"(?:"+[fc,Il,Nl].join("|")+")"+vc+_c+")*",G0="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",U0="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",yc=vc+_c+N0,j0="(?:"+[O0,Il,Nl].join("|")+")"+yc,z0="(?:"+[fc+Cu+"?",Cu,Il,Nl,R0].join("|")+")",H0=RegExp(Ol,"g"),K0=RegExp(Cu,"g"),Gl=RegExp(Fl+"(?="+Fl+")|"+z0+yc,"g"),$0=RegExp([os+"?"+hc+"+"+gc+"(?="+[uc,os,"$"].join("|")+")",I0+"+"+mc+"(?="+[uc,os+pc,"$"].join("|")+")",os+"?"+pc+"+"+gc,os+"+"+mc,U0,G0,lc,j0].join("|"),"g"),V0=RegExp("["+dc+Lr+rc+oc+"]"),W0=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,X0=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Y0=-1,dr={};dr[d]=dr[_]=dr[C]=dr[F]=dr[I]=dr[ie]=dr[J]=dr[_e]=dr[De]=!0,dr[cn]=dr[Pn]=dr[u]=dr[Tn]=dr[c]=dr[En]=dr[Oi]=dr[Ci]=dr[Ft]=dr[Gr]=dr[rn]=dr[Ur]=dr[jr]=dr[e]=dr[a]=!1;var cr={};cr[cn]=cr[Pn]=cr[u]=cr[c]=cr[Tn]=cr[En]=cr[d]=cr[_]=cr[C]=cr[F]=cr[I]=cr[Ft]=cr[Gr]=cr[rn]=cr[Ur]=cr[jr]=cr[e]=cr[r]=cr[ie]=cr[J]=cr[_e]=cr[De]=!0,cr[Oi]=cr[Ci]=cr[a]=!1;var q0={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},J0={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Z0={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Q0={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ed=parseFloat,td=parseInt,bc=typeof wo=="object"&&wo&&wo.Object===Object&&wo,rd=typeof self=="object"&&self&&self.Object===Object&&self,dn=bc||rd||Function("return this")(),Ul=p&&!p.nodeType&&p,Bo=Ul&&!0&&f&&!f.nodeType&&f,Cc=Bo&&Bo.exports===Ul,jl=Cc&&bc.process,Ei=function(){try{var Q=Bo&&Bo.require&&Bo.require("util").types;return Q||jl&&jl.binding&&jl.binding("util")}catch{}}(),Lc=Ei&&Ei.isArrayBuffer,Ec=Ei&&Ei.isDate,xc=Ei&&Ei.isMap,Mc=Ei&&Ei.isRegExp,wc=Ei&&Ei.isSet,kc=Ei&&Ei.isTypedArray;function ii(Q,ye,ce){switch(ce.length){case 0:return Q.call(ye);case 1:return Q.call(ye,ce[0]);case 2:return Q.call(ye,ce[0],ce[1]);case 3:return Q.call(ye,ce[0],ce[1],ce[2])}return Q.apply(ye,ce)}function nd(Q,ye,ce,et){for(var Lt=-1,Xt=Q==null?0:Q.length;++Lt<Xt;){var Xr=Q[Lt];ye(et,Xr,ce(Xr),Q)}return et}function xi(Q,ye){for(var ce=-1,et=Q==null?0:Q.length;++ce<et&&ye(Q[ce],ce,Q)!==!1;);return Q}function id(Q,ye){for(var ce=Q==null?0:Q.length;ce--&&ye(Q[ce],ce,Q)!==!1;);return Q}function Bc(Q,ye){for(var ce=-1,et=Q==null?0:Q.length;++ce<et;)if(!ye(Q[ce],ce,Q))return!1;return!0}function Qa(Q,ye){for(var ce=-1,et=Q==null?0:Q.length,Lt=0,Xt=[];++ce<et;){var Xr=Q[ce];ye(Xr,ce,Q)&&(Xt[Lt++]=Xr)}return Xt}function Lu(Q,ye){var ce=Q==null?0:Q.length;return!!ce&&ss(Q,ye,0)>-1}function zl(Q,ye,ce){for(var et=-1,Lt=Q==null?0:Q.length;++et<Lt;)if(ce(ye,Q[et]))return!0;return!1}function br(Q,ye){for(var ce=-1,et=Q==null?0:Q.length,Lt=Array(et);++ce<et;)Lt[ce]=ye(Q[ce],ce,Q);return Lt}function eo(Q,ye){for(var ce=-1,et=ye.length,Lt=Q.length;++ce<et;)Q[Lt+ce]=ye[ce];return Q}function Hl(Q,ye,ce,et){var Lt=-1,Xt=Q==null?0:Q.length;for(et&&Xt&&(ce=Q[++Lt]);++Lt<Xt;)ce=ye(ce,Q[Lt],Lt,Q);return ce}function ad(Q,ye,ce,et){var Lt=Q==null?0:Q.length;for(et&&Lt&&(ce=Q[--Lt]);Lt--;)ce=ye(ce,Q[Lt],Lt,Q);return ce}function Kl(Q,ye){for(var ce=-1,et=Q==null?0:Q.length;++ce<et;)if(ye(Q[ce],ce,Q))return!0;return!1}var od=$l("length");function sd(Q){return Q.split("")}function ud(Q){return Q.match($e)||[]}function Ac(Q,ye,ce){var et;return ce(Q,function(Lt,Xt,Xr){if(ye(Lt,Xt,Xr))return et=Xt,!1}),et}function Eu(Q,ye,ce,et){for(var Lt=Q.length,Xt=ce+(et?1:-1);et?Xt--:++Xt<Lt;)if(ye(Q[Xt],Xt,Q))return Xt;return-1}function ss(Q,ye,ce){return ye===ye?bd(Q,ye,ce):Eu(Q,Sc,ce)}function ld(Q,ye,ce,et){for(var Lt=ce-1,Xt=Q.length;++Lt<Xt;)if(et(Q[Lt],ye))return Lt;return-1}function Sc(Q){return Q!==Q}function Dc(Q,ye){var ce=Q==null?0:Q.length;return ce?Wl(Q,ye)/ce:hn}function $l(Q){return function(ye){return ye==null?l:ye[Q]}}function Vl(Q){return function(ye){return Q==null?l:Q[ye]}}function Pc(Q,ye,ce,et,Lt){return Lt(Q,function(Xt,Xr,ar){ce=et?(et=!1,Xt):ye(ce,Xt,Xr,ar)}),ce}function hd(Q,ye){var ce=Q.length;for(Q.sort(ye);ce--;)Q[ce]=Q[ce].value;return Q}function Wl(Q,ye){for(var ce,et=-1,Lt=Q.length;++et<Lt;){var Xt=ye(Q[et]);Xt!==l&&(ce=ce===l?Xt:ce+Xt)}return ce}function Xl(Q,ye){for(var ce=-1,et=Array(Q);++ce<Q;)et[ce]=ye(ce);return et}function cd(Q,ye){return br(ye,function(ce){return[ce,Q[ce]]})}function Tc(Q){return Q&&Q.slice(0,Ic(Q)+1).replace(j,"")}function ai(Q){return function(ye){return Q(ye)}}function Yl(Q,ye){return br(ye,function(ce){return Q[ce]})}function Hs(Q,ye){return Q.has(ye)}function Rc(Q,ye){for(var ce=-1,et=Q.length;++ce<et&&ss(ye,Q[ce],0)>-1;);return ce}function Oc(Q,ye){for(var ce=Q.length;ce--&&ss(ye,Q[ce],0)>-1;);return ce}function fd(Q,ye){for(var ce=Q.length,et=0;ce--;)Q[ce]===ye&&++et;return et}var dd=Vl(q0),pd=Vl(J0);function gd(Q){return"\\"+Q0[Q]}function md(Q,ye){return Q==null?l:Q[ye]}function us(Q){return V0.test(Q)}function _d(Q){return W0.test(Q)}function vd(Q){for(var ye,ce=[];!(ye=Q.next()).done;)ce.push(ye.value);return ce}function ql(Q){var ye=-1,ce=Array(Q.size);return Q.forEach(function(et,Lt){ce[++ye]=[Lt,et]}),ce}function Fc(Q,ye){return function(ce){return Q(ye(ce))}}function to(Q,ye){for(var ce=-1,et=Q.length,Lt=0,Xt=[];++ce<et;){var Xr=Q[ce];(Xr===ye||Xr===ke)&&(Q[ce]=ke,Xt[Lt++]=ce)}return Xt}function xu(Q){var ye=-1,ce=Array(Q.size);return Q.forEach(function(et){ce[++ye]=et}),ce}function yd(Q){var ye=-1,ce=Array(Q.size);return Q.forEach(function(et){ce[++ye]=[et,et]}),ce}function bd(Q,ye,ce){for(var et=ce-1,Lt=Q.length;++et<Lt;)if(Q[et]===ye)return et;return-1}function Cd(Q,ye,ce){for(var et=ce+1;et--;)if(Q[et]===ye)return et;return et}function ls(Q){return us(Q)?Ed(Q):od(Q)}function Ii(Q){return us(Q)?xd(Q):sd(Q)}function Ic(Q){for(var ye=Q.length;ye--&&V.test(Q.charAt(ye)););return ye}var Ld=Vl(Z0);function Ed(Q){for(var ye=Gl.lastIndex=0;Gl.test(Q);)++ye;return ye}function xd(Q){return Q.match(Gl)||[]}function Md(Q){return Q.match($0)||[]}var wd=function Q(ye){ye=ye==null?dn:hs.defaults(dn.Object(),ye,hs.pick(dn,X0));var ce=ye.Array,et=ye.Date,Lt=ye.Error,Xt=ye.Function,Xr=ye.Math,ar=ye.Object,Jl=ye.RegExp,kd=ye.String,Mi=ye.TypeError,Mu=ce.prototype,Bd=Xt.prototype,cs=ar.prototype,wu=ye["__core-js_shared__"],ku=Bd.toString,tr=cs.hasOwnProperty,Ad=0,Nc=function(){var t=/[^.]+$/.exec(wu&&wu.keys&&wu.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Bu=cs.toString,Sd=ku.call(ar),Dd=dn._,Pd=Jl("^"+ku.call(tr).replace(D,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Au=Cc?ye.Buffer:l,ro=ye.Symbol,Su=ye.Uint8Array,Gc=Au?Au.allocUnsafe:l,Du=Fc(ar.getPrototypeOf,ar),Uc=ar.create,jc=cs.propertyIsEnumerable,Pu=Mu.splice,zc=ro?ro.isConcatSpreadable:l,Ks=ro?ro.iterator:l,Ao=ro?ro.toStringTag:l,Tu=function(){try{var t=Ro(ar,"defineProperty");return t({},"",{}),t}catch{}}(),Td=ye.clearTimeout!==dn.clearTimeout&&ye.clearTimeout,Rd=et&&et.now!==dn.Date.now&&et.now,Od=ye.setTimeout!==dn.setTimeout&&ye.setTimeout,Ru=Xr.ceil,Ou=Xr.floor,Zl=ar.getOwnPropertySymbols,Fd=Au?Au.isBuffer:l,Hc=ye.isFinite,Id=Mu.join,Nd=Fc(ar.keys,ar),Yr=Xr.max,xn=Xr.min,Gd=et.now,Ud=ye.parseInt,Kc=Xr.random,jd=Mu.reverse,Ql=Ro(ye,"DataView"),$s=Ro(ye,"Map"),eh=Ro(ye,"Promise"),fs=Ro(ye,"Set"),Vs=Ro(ye,"WeakMap"),Ws=Ro(ar,"create"),Fu=Vs&&new Vs,ds={},zd=Oo(Ql),Hd=Oo($s),Kd=Oo(eh),$d=Oo(fs),Vd=Oo(Vs),Iu=ro?ro.prototype:l,Xs=Iu?Iu.valueOf:l,$c=Iu?Iu.toString:l;function w(t){if(Br(t)&&!Et(t)&&!(t instanceof It)){if(t instanceof wi)return t;if(tr.call(t,"__wrapped__"))return Wf(t)}return new wi(t)}var ps=function(){function t(){}return function(n){if(!Er(n))return{};if(Uc)return Uc(n);t.prototype=n;var s=new t;return t.prototype=l,s}}();function Nu(){}function wi(t,n){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=l}w.templateSettings={escape:ae,evaluate:v,interpolate:M,variable:"",imports:{_:w}},w.prototype=Nu.prototype,w.prototype.constructor=w,wi.prototype=ps(Nu.prototype),wi.prototype.constructor=wi;function It(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=jt,this.__views__=[]}function Wd(){var t=new It(this.__wrapped__);return t.__actions__=Xn(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Xn(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Xn(this.__views__),t}function Xd(){if(this.__filtered__){var t=new It(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function Yd(){var t=this.__wrapped__.value(),n=this.__dir__,s=Et(t),h=n<0,y=s?t.length:0,A=sg(0,y,this.__views__),N=A.start,$=A.end,ee=$-N,Ee=h?$:N-1,xe=this.__iteratees__,Ae=xe.length,Ke=0,ot=xn(ee,this.__takeCount__);if(!s||!h&&y==ee&&ot==ee)return mf(t,this.__actions__);var mt=[];e:for(;ee--&&Ke<ot;){Ee+=n;for(var wt=-1,_t=t[Ee];++wt<Ae;){var Rt=xe[wt],Gt=Rt.iteratee,ui=Rt.type,In=Gt(_t);if(ui==vr)_t=In;else if(!In){if(ui==Wn)continue e;break e}}mt[Ke++]=_t}return mt}It.prototype=ps(Nu.prototype),It.prototype.constructor=It;function So(t){var n=-1,s=t==null?0:t.length;for(this.clear();++n<s;){var h=t[n];this.set(h[0],h[1])}}function qd(){this.__data__=Ws?Ws(null):{},this.size=0}function Jd(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}function Zd(t){var n=this.__data__;if(Ws){var s=n[t];return s===Ce?l:s}return tr.call(n,t)?n[t]:l}function Qd(t){var n=this.__data__;return Ws?n[t]!==l:tr.call(n,t)}function ep(t,n){var s=this.__data__;return this.size+=this.has(t)?0:1,s[t]=Ws&&n===l?Ce:n,this}So.prototype.clear=qd,So.prototype.delete=Jd,So.prototype.get=Zd,So.prototype.has=Qd,So.prototype.set=ep;function ya(t){var n=-1,s=t==null?0:t.length;for(this.clear();++n<s;){var h=t[n];this.set(h[0],h[1])}}function tp(){this.__data__=[],this.size=0}function rp(t){var n=this.__data__,s=Gu(n,t);if(s<0)return!1;var h=n.length-1;return s==h?n.pop():Pu.call(n,s,1),--this.size,!0}function np(t){var n=this.__data__,s=Gu(n,t);return s<0?l:n[s][1]}function ip(t){return Gu(this.__data__,t)>-1}function ap(t,n){var s=this.__data__,h=Gu(s,t);return h<0?(++this.size,s.push([t,n])):s[h][1]=n,this}ya.prototype.clear=tp,ya.prototype.delete=rp,ya.prototype.get=np,ya.prototype.has=ip,ya.prototype.set=ap;function ba(t){var n=-1,s=t==null?0:t.length;for(this.clear();++n<s;){var h=t[n];this.set(h[0],h[1])}}function op(){this.size=0,this.__data__={hash:new So,map:new($s||ya),string:new So}}function sp(t){var n=Ju(this,t).delete(t);return this.size-=n?1:0,n}function up(t){return Ju(this,t).get(t)}function lp(t){return Ju(this,t).has(t)}function hp(t,n){var s=Ju(this,t),h=s.size;return s.set(t,n),this.size+=s.size==h?0:1,this}ba.prototype.clear=op,ba.prototype.delete=sp,ba.prototype.get=up,ba.prototype.has=lp,ba.prototype.set=hp;function Do(t){var n=-1,s=t==null?0:t.length;for(this.__data__=new ba;++n<s;)this.add(t[n])}function cp(t){return this.__data__.set(t,Ce),this}function fp(t){return this.__data__.has(t)}Do.prototype.add=Do.prototype.push=cp,Do.prototype.has=fp;function Ni(t){var n=this.__data__=new ya(t);this.size=n.size}function dp(){this.__data__=new ya,this.size=0}function pp(t){var n=this.__data__,s=n.delete(t);return this.size=n.size,s}function gp(t){return this.__data__.get(t)}function mp(t){return this.__data__.has(t)}function _p(t,n){var s=this.__data__;if(s instanceof ya){var h=s.__data__;if(!$s||h.length<O-1)return h.push([t,n]),this.size=++s.size,this;s=this.__data__=new ba(h)}return s.set(t,n),this.size=s.size,this}Ni.prototype.clear=dp,Ni.prototype.delete=pp,Ni.prototype.get=gp,Ni.prototype.has=mp,Ni.prototype.set=_p;function Vc(t,n){var s=Et(t),h=!s&&Fo(t),y=!s&&!h&&so(t),A=!s&&!h&&!y&&vs(t),N=s||h||y||A,$=N?Xl(t.length,kd):[],ee=$.length;for(var Ee in t)(n||tr.call(t,Ee))&&!(N&&(Ee=="length"||y&&(Ee=="offset"||Ee=="parent")||A&&(Ee=="buffer"||Ee=="byteLength"||Ee=="byteOffset")||xa(Ee,ee)))&&$.push(Ee);return $}function Wc(t){var n=t.length;return n?t[ch(0,n-1)]:l}function vp(t,n){return Zu(Xn(t),Po(n,0,t.length))}function yp(t){return Zu(Xn(t))}function th(t,n,s){(s!==l&&!Gi(t[n],s)||s===l&&!(n in t))&&Ca(t,n,s)}function Ys(t,n,s){var h=t[n];(!(tr.call(t,n)&&Gi(h,s))||s===l&&!(n in t))&&Ca(t,n,s)}function Gu(t,n){for(var s=t.length;s--;)if(Gi(t[s][0],n))return s;return-1}function bp(t,n,s,h){return no(t,function(y,A,N){n(h,y,s(y),N)}),h}function Xc(t,n){return t&&na(n,nn(n),t)}function Cp(t,n){return t&&na(n,qn(n),t)}function Ca(t,n,s){n=="__proto__"&&Tu?Tu(t,n,{configurable:!0,enumerable:!0,value:s,writable:!0}):t[n]=s}function rh(t,n){for(var s=-1,h=n.length,y=ce(h),A=t==null;++s<h;)y[s]=A?l:Fh(t,n[s]);return y}function Po(t,n,s){return t===t&&(s!==l&&(t=t<=s?t:s),n!==l&&(t=t>=n?t:n)),t}function ki(t,n,s,h,y,A){var N,$=n&Be,ee=n&Me,Ee=n&ve;if(s&&(N=y?s(t,h,y,A):s(t)),N!==l)return N;if(!Er(t))return t;var xe=Et(t);if(xe){if(N=lg(t),!$)return Xn(t,N)}else{var Ae=Mn(t),Ke=Ae==Ci||Ae==ta;if(so(t))return yf(t,$);if(Ae==rn||Ae==cn||Ke&&!y){if(N=ee||Ke?{}:Nf(t),!$)return ee?Zp(t,Cp(N,t)):Jp(t,Xc(N,t))}else{if(!cr[Ae])return y?t:{};N=hg(t,Ae,$)}}A||(A=new Ni);var ot=A.get(t);if(ot)return ot;A.set(t,N),d0(t)?t.forEach(function(_t){N.add(ki(_t,n,s,_t,t,A))}):c0(t)&&t.forEach(function(_t,Rt){N.set(Rt,ki(_t,n,s,Rt,t,A))});var mt=Ee?ee?Lh:Ch:ee?qn:nn,wt=xe?l:mt(t);return xi(wt||t,function(_t,Rt){wt&&(Rt=_t,_t=t[Rt]),Ys(N,Rt,ki(_t,n,s,Rt,t,A))}),N}function Lp(t){var n=nn(t);return function(s){return Yc(s,t,n)}}function Yc(t,n,s){var h=s.length;if(t==null)return!h;for(t=ar(t);h--;){var y=s[h],A=n[y],N=t[y];if(N===l&&!(y in t)||!A(N))return!1}return!0}function qc(t,n,s){if(typeof t!="function")throw new Mi(W);return ru(function(){t.apply(l,s)},n)}function qs(t,n,s,h){var y=-1,A=Lu,N=!0,$=t.length,ee=[],Ee=n.length;if(!$)return ee;s&&(n=br(n,ai(s))),h?(A=zl,N=!1):n.length>=O&&(A=Hs,N=!1,n=new Do(n));e:for(;++y<$;){var xe=t[y],Ae=s==null?xe:s(xe);if(xe=h||xe!==0?xe:0,N&&Ae===Ae){for(var Ke=Ee;Ke--;)if(n[Ke]===Ae)continue e;ee.push(xe)}else A(n,Ae,h)||ee.push(xe)}return ee}var no=xf(ra),Jc=xf(ih,!0);function Ep(t,n){var s=!0;return no(t,function(h,y,A){return s=!!n(h,y,A),s}),s}function Uu(t,n,s){for(var h=-1,y=t.length;++h<y;){var A=t[h],N=n(A);if(N!=null&&($===l?N===N&&!si(N):s(N,$)))var $=N,ee=A}return ee}function xp(t,n,s,h){var y=t.length;for(s=Mt(s),s<0&&(s=-s>y?0:y+s),h=h===l||h>y?y:Mt(h),h<0&&(h+=y),h=s>h?0:g0(h);s<h;)t[s++]=n;return t}function Zc(t,n){var s=[];return no(t,function(h,y,A){n(h,y,A)&&s.push(h)}),s}function pn(t,n,s,h,y){var A=-1,N=t.length;for(s||(s=fg),y||(y=[]);++A<N;){var $=t[A];n>0&&s($)?n>1?pn($,n-1,s,h,y):eo(y,$):h||(y[y.length]=$)}return y}var nh=Mf(),Qc=Mf(!0);function ra(t,n){return t&&nh(t,n,nn)}function ih(t,n){return t&&Qc(t,n,nn)}function ju(t,n){return Qa(n,function(s){return Ma(t[s])})}function To(t,n){n=ao(n,t);for(var s=0,h=n.length;t!=null&&s<h;)t=t[ia(n[s++])];return s&&s==h?t:l}function ef(t,n,s){var h=n(t);return Et(t)?h:eo(h,s(t))}function On(t){return t==null?t===l?i:Li:Ao&&Ao in ar(t)?og(t):yg(t)}function ah(t,n){return t>n}function Mp(t,n){return t!=null&&tr.call(t,n)}function wp(t,n){return t!=null&&n in ar(t)}function kp(t,n,s){return t>=xn(n,s)&&t<Yr(n,s)}function oh(t,n,s){for(var h=s?zl:Lu,y=t[0].length,A=t.length,N=A,$=ce(A),ee=1/0,Ee=[];N--;){var xe=t[N];N&&n&&(xe=br(xe,ai(n))),ee=xn(xe.length,ee),$[N]=!s&&(n||y>=120&&xe.length>=120)?new Do(N&&xe):l}xe=t[0];var Ae=-1,Ke=$[0];e:for(;++Ae<y&&Ee.length<ee;){var ot=xe[Ae],mt=n?n(ot):ot;if(ot=s||ot!==0?ot:0,!(Ke?Hs(Ke,mt):h(Ee,mt,s))){for(N=A;--N;){var wt=$[N];if(!(wt?Hs(wt,mt):h(t[N],mt,s)))continue e}Ke&&Ke.push(mt),Ee.push(ot)}}return Ee}function Bp(t,n,s,h){return ra(t,function(y,A,N){n(h,s(y),A,N)}),h}function Js(t,n,s){n=ao(n,t),t=zf(t,n);var h=t==null?t:t[ia(Ai(n))];return h==null?l:ii(h,t,s)}function tf(t){return Br(t)&&On(t)==cn}function Ap(t){return Br(t)&&On(t)==u}function Sp(t){return Br(t)&&On(t)==En}function Zs(t,n,s,h,y){return t===n?!0:t==null||n==null||!Br(t)&&!Br(n)?t!==t&&n!==n:Dp(t,n,s,h,Zs,y)}function Dp(t,n,s,h,y,A){var N=Et(t),$=Et(n),ee=N?Pn:Mn(t),Ee=$?Pn:Mn(n);ee=ee==cn?rn:ee,Ee=Ee==cn?rn:Ee;var xe=ee==rn,Ae=Ee==rn,Ke=ee==Ee;if(Ke&&so(t)){if(!so(n))return!1;N=!0,xe=!1}if(Ke&&!xe)return A||(A=new Ni),N||vs(t)?Of(t,n,s,h,y,A):ig(t,n,ee,s,h,y,A);if(!(s&me)){var ot=xe&&tr.call(t,"__wrapped__"),mt=Ae&&tr.call(n,"__wrapped__");if(ot||mt){var wt=ot?t.value():t,_t=mt?n.value():n;return A||(A=new Ni),y(wt,_t,s,h,A)}}return Ke?(A||(A=new Ni),ag(t,n,s,h,y,A)):!1}function Pp(t){return Br(t)&&Mn(t)==Ft}function sh(t,n,s,h){var y=s.length,A=y,N=!h;if(t==null)return!A;for(t=ar(t);y--;){var $=s[y];if(N&&$[2]?$[1]!==t[$[0]]:!($[0]in t))return!1}for(;++y<A;){$=s[y];var ee=$[0],Ee=t[ee],xe=$[1];if(N&&$[2]){if(Ee===l&&!(ee in t))return!1}else{var Ae=new Ni;if(h)var Ke=h(Ee,xe,ee,t,n,Ae);if(!(Ke===l?Zs(xe,Ee,me|le,h,Ae):Ke))return!1}}return!0}function rf(t){if(!Er(t)||pg(t))return!1;var n=Ma(t)?Pd:er;return n.test(Oo(t))}function Tp(t){return Br(t)&&On(t)==Ur}function Rp(t){return Br(t)&&Mn(t)==jr}function Op(t){return Br(t)&&il(t.length)&&!!dr[On(t)]}function nf(t){return typeof t=="function"?t:t==null?Jn:typeof t=="object"?Et(t)?sf(t[0],t[1]):of(t):w0(t)}function uh(t){if(!tu(t))return Nd(t);var n=[];for(var s in ar(t))tr.call(t,s)&&s!="constructor"&&n.push(s);return n}function Fp(t){if(!Er(t))return vg(t);var n=tu(t),s=[];for(var h in t)h=="constructor"&&(n||!tr.call(t,h))||s.push(h);return s}function lh(t,n){return t<n}function af(t,n){var s=-1,h=Yn(t)?ce(t.length):[];return no(t,function(y,A,N){h[++s]=n(y,A,N)}),h}function of(t){var n=xh(t);return n.length==1&&n[0][2]?Uf(n[0][0],n[0][1]):function(s){return s===t||sh(s,t,n)}}function sf(t,n){return wh(t)&&Gf(n)?Uf(ia(t),n):function(s){var h=Fh(s,t);return h===l&&h===n?Ih(s,t):Zs(n,h,me|le)}}function zu(t,n,s,h,y){t!==n&&nh(n,function(A,N){if(y||(y=new Ni),Er(A))Ip(t,n,N,s,zu,h,y);else{var $=h?h(Bh(t,N),A,N+"",t,n,y):l;$===l&&($=A),th(t,N,$)}},qn)}function Ip(t,n,s,h,y,A,N){var $=Bh(t,s),ee=Bh(n,s),Ee=N.get(ee);if(Ee){th(t,s,Ee);return}var xe=A?A($,ee,s+"",t,n,N):l,Ae=xe===l;if(Ae){var Ke=Et(ee),ot=!Ke&&so(ee),mt=!Ke&&!ot&&vs(ee);xe=ee,Ke||ot||mt?Et($)?xe=$:Pr($)?xe=Xn($):ot?(Ae=!1,xe=yf(ee,!0)):mt?(Ae=!1,xe=bf(ee,!0)):xe=[]:nu(ee)||Fo(ee)?(xe=$,Fo($)?xe=m0($):(!Er($)||Ma($))&&(xe=Nf(ee))):Ae=!1}Ae&&(N.set(ee,xe),y(xe,ee,h,A,N),N.delete(ee)),th(t,s,xe)}function uf(t,n){var s=t.length;if(s)return n+=n<0?s:0,xa(n,s)?t[n]:l}function lf(t,n,s){n.length?n=br(n,function(A){return Et(A)?function(N){return To(N,A.length===1?A[0]:A)}:A}):n=[Jn];var h=-1;n=br(n,ai(pt()));var y=af(t,function(A,N,$){var ee=br(n,function(Ee){return Ee(A)});return{criteria:ee,index:++h,value:A}});return hd(y,function(A,N){return qp(A,N,s)})}function Np(t,n){return hf(t,n,function(s,h){return Ih(t,h)})}function hf(t,n,s){for(var h=-1,y=n.length,A={};++h<y;){var N=n[h],$=To(t,N);s($,N)&&Qs(A,ao(N,t),$)}return A}function Gp(t){return function(n){return To(n,t)}}function hh(t,n,s,h){var y=h?ld:ss,A=-1,N=n.length,$=t;for(t===n&&(n=Xn(n)),s&&($=br(t,ai(s)));++A<N;)for(var ee=0,Ee=n[A],xe=s?s(Ee):Ee;(ee=y($,xe,ee,h))>-1;)$!==t&&Pu.call($,ee,1),Pu.call(t,ee,1);return t}function cf(t,n){for(var s=t?n.length:0,h=s-1;s--;){var y=n[s];if(s==h||y!==A){var A=y;xa(y)?Pu.call(t,y,1):ph(t,y)}}return t}function ch(t,n){return t+Ou(Kc()*(n-t+1))}function Up(t,n,s,h){for(var y=-1,A=Yr(Ru((n-t)/(s||1)),0),N=ce(A);A--;)N[h?A:++y]=t,t+=s;return N}function fh(t,n){var s="";if(!t||n<1||n>qt)return s;do n%2&&(s+=t),n=Ou(n/2),n&&(t+=t);while(n);return s}function At(t,n){return Ah(jf(t,n,Jn),t+"")}function jp(t){return Wc(ys(t))}function zp(t,n){var s=ys(t);return Zu(s,Po(n,0,s.length))}function Qs(t,n,s,h){if(!Er(t))return t;n=ao(n,t);for(var y=-1,A=n.length,N=A-1,$=t;$!=null&&++y<A;){var ee=ia(n[y]),Ee=s;if(ee==="__proto__"||ee==="constructor"||ee==="prototype")return t;if(y!=N){var xe=$[ee];Ee=h?h(xe,ee,$):l,Ee===l&&(Ee=Er(xe)?xe:xa(n[y+1])?[]:{})}Ys($,ee,Ee),$=$[ee]}return t}var ff=Fu?function(t,n){return Fu.set(t,n),t}:Jn,Hp=Tu?function(t,n){return Tu(t,"toString",{configurable:!0,enumerable:!1,value:Gh(n),writable:!0})}:Jn;function Kp(t){return Zu(ys(t))}function Bi(t,n,s){var h=-1,y=t.length;n<0&&(n=-n>y?0:y+n),s=s>y?y:s,s<0&&(s+=y),y=n>s?0:s-n>>>0,n>>>=0;for(var A=ce(y);++h<y;)A[h]=t[h+n];return A}function $p(t,n){var s;return no(t,function(h,y,A){return s=n(h,y,A),!s}),!!s}function Hu(t,n,s){var h=0,y=t==null?h:t.length;if(typeof n=="number"&&n===n&&y<=Nr){for(;h<y;){var A=h+y>>>1,N=t[A];N!==null&&!si(N)&&(s?N<=n:N<n)?h=A+1:y=A}return y}return dh(t,n,Jn,s)}function dh(t,n,s,h){var y=0,A=t==null?0:t.length;if(A===0)return 0;n=s(n);for(var N=n!==n,$=n===null,ee=si(n),Ee=n===l;y<A;){var xe=Ou((y+A)/2),Ae=s(t[xe]),Ke=Ae!==l,ot=Ae===null,mt=Ae===Ae,wt=si(Ae);if(N)var _t=h||mt;else Ee?_t=mt&&(h||Ke):$?_t=mt&&Ke&&(h||!ot):ee?_t=mt&&Ke&&!ot&&(h||!wt):ot||wt?_t=!1:_t=h?Ae<=n:Ae<n;_t?y=xe+1:A=xe}return xn(A,kr)}function df(t,n){for(var s=-1,h=t.length,y=0,A=[];++s<h;){var N=t[s],$=n?n(N):N;if(!s||!Gi($,ee)){var ee=$;A[y++]=N===0?0:N}}return A}function pf(t){return typeof t=="number"?t:si(t)?hn:+t}function oi(t){if(typeof t=="string")return t;if(Et(t))return br(t,oi)+"";if(si(t))return $c?$c.call(t):"";var n=t+"";return n=="0"&&1/t==-Ot?"-0":n}function io(t,n,s){var h=-1,y=Lu,A=t.length,N=!0,$=[],ee=$;if(s)N=!1,y=zl;else if(A>=O){var Ee=n?null:rg(t);if(Ee)return xu(Ee);N=!1,y=Hs,ee=new Do}else ee=n?[]:$;e:for(;++h<A;){var xe=t[h],Ae=n?n(xe):xe;if(xe=s||xe!==0?xe:0,N&&Ae===Ae){for(var Ke=ee.length;Ke--;)if(ee[Ke]===Ae)continue e;n&&ee.push(Ae),$.push(xe)}else y(ee,Ae,s)||(ee!==$&&ee.push(Ae),$.push(xe))}return $}function ph(t,n){return n=ao(n,t),t=zf(t,n),t==null||delete t[ia(Ai(n))]}function gf(t,n,s,h){return Qs(t,n,s(To(t,n)),h)}function Ku(t,n,s,h){for(var y=t.length,A=h?y:-1;(h?A--:++A<y)&&n(t[A],A,t););return s?Bi(t,h?0:A,h?A+1:y):Bi(t,h?A+1:0,h?y:A)}function mf(t,n){var s=t;return s instanceof It&&(s=s.value()),Hl(n,function(h,y){return y.func.apply(y.thisArg,eo([h],y.args))},s)}function gh(t,n,s){var h=t.length;if(h<2)return h?io(t[0]):[];for(var y=-1,A=ce(h);++y<h;)for(var N=t[y],$=-1;++$<h;)$!=y&&(A[y]=qs(A[y]||N,t[$],n,s));return io(pn(A,1),n,s)}function _f(t,n,s){for(var h=-1,y=t.length,A=n.length,N={};++h<y;){var $=h<A?n[h]:l;s(N,t[h],$)}return N}function mh(t){return Pr(t)?t:[]}function _h(t){return typeof t=="function"?t:Jn}function ao(t,n){return Et(t)?t:wh(t,n)?[t]:Vf(Jt(t))}var Vp=At;function oo(t,n,s){var h=t.length;return s=s===l?h:s,!n&&s>=h?t:Bi(t,n,s)}var vf=Td||function(t){return dn.clearTimeout(t)};function yf(t,n){if(n)return t.slice();var s=t.length,h=Gc?Gc(s):new t.constructor(s);return t.copy(h),h}function vh(t){var n=new t.constructor(t.byteLength);return new Su(n).set(new Su(t)),n}function Wp(t,n){var s=n?vh(t.buffer):t.buffer;return new t.constructor(s,t.byteOffset,t.byteLength)}function Xp(t){var n=new t.constructor(t.source,ut.exec(t));return n.lastIndex=t.lastIndex,n}function Yp(t){return Xs?ar(Xs.call(t)):{}}function bf(t,n){var s=n?vh(t.buffer):t.buffer;return new t.constructor(s,t.byteOffset,t.length)}function Cf(t,n){if(t!==n){var s=t!==l,h=t===null,y=t===t,A=si(t),N=n!==l,$=n===null,ee=n===n,Ee=si(n);if(!$&&!Ee&&!A&&t>n||A&&N&&ee&&!$&&!Ee||h&&N&&ee||!s&&ee||!y)return 1;if(!h&&!A&&!Ee&&t<n||Ee&&s&&y&&!h&&!A||$&&s&&y||!N&&y||!ee)return-1}return 0}function qp(t,n,s){for(var h=-1,y=t.criteria,A=n.criteria,N=y.length,$=s.length;++h<N;){var ee=Cf(y[h],A[h]);if(ee){if(h>=$)return ee;var Ee=s[h];return ee*(Ee=="desc"?-1:1)}}return t.index-n.index}function Lf(t,n,s,h){for(var y=-1,A=t.length,N=s.length,$=-1,ee=n.length,Ee=Yr(A-N,0),xe=ce(ee+Ee),Ae=!h;++$<ee;)xe[$]=n[$];for(;++y<N;)(Ae||y<A)&&(xe[s[y]]=t[y]);for(;Ee--;)xe[$++]=t[y++];return xe}function Ef(t,n,s,h){for(var y=-1,A=t.length,N=-1,$=s.length,ee=-1,Ee=n.length,xe=Yr(A-$,0),Ae=ce(xe+Ee),Ke=!h;++y<xe;)Ae[y]=t[y];for(var ot=y;++ee<Ee;)Ae[ot+ee]=n[ee];for(;++N<$;)(Ke||y<A)&&(Ae[ot+s[N]]=t[y++]);return Ae}function Xn(t,n){var s=-1,h=t.length;for(n||(n=ce(h));++s<h;)n[s]=t[s];return n}function na(t,n,s,h){var y=!s;s||(s={});for(var A=-1,N=n.length;++A<N;){var $=n[A],ee=h?h(s[$],t[$],$,s,t):l;ee===l&&(ee=t[$]),y?Ca(s,$,ee):Ys(s,$,ee)}return s}function Jp(t,n){return na(t,Mh(t),n)}function Zp(t,n){return na(t,Ff(t),n)}function $u(t,n){return function(s,h){var y=Et(s)?nd:bp,A=n?n():{};return y(s,t,pt(h,2),A)}}function gs(t){return At(function(n,s){var h=-1,y=s.length,A=y>1?s[y-1]:l,N=y>2?s[2]:l;for(A=t.length>3&&typeof A=="function"?(y--,A):l,N&&Fn(s[0],s[1],N)&&(A=y<3?l:A,y=1),n=ar(n);++h<y;){var $=s[h];$&&t(n,$,h,A)}return n})}function xf(t,n){return function(s,h){if(s==null)return s;if(!Yn(s))return t(s,h);for(var y=s.length,A=n?y:-1,N=ar(s);(n?A--:++A<y)&&h(N[A],A,N)!==!1;);return s}}function Mf(t){return function(n,s,h){for(var y=-1,A=ar(n),N=h(n),$=N.length;$--;){var ee=N[t?$:++y];if(s(A[ee],ee,A)===!1)break}return n}}function Qp(t,n,s){var h=n&ge,y=eu(t);function A(){var N=this&&this!==dn&&this instanceof A?y:t;return N.apply(h?s:this,arguments)}return A}function wf(t){return function(n){n=Jt(n);var s=us(n)?Ii(n):l,h=s?s[0]:n.charAt(0),y=s?oo(s,1).join(""):n.slice(1);return h[t]()+y}}function ms(t){return function(n){return Hl(x0(E0(n).replace(H0,"")),t,"")}}function eu(t){return function(){var n=arguments;switch(n.length){case 0:return new t;case 1:return new t(n[0]);case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[1],n[2]);case 4:return new t(n[0],n[1],n[2],n[3]);case 5:return new t(n[0],n[1],n[2],n[3],n[4]);case 6:return new t(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new t(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var s=ps(t.prototype),h=t.apply(s,n);return Er(h)?h:s}}function eg(t,n,s){var h=eu(t);function y(){for(var A=arguments.length,N=ce(A),$=A,ee=_s(y);$--;)N[$]=arguments[$];var Ee=A<3&&N[0]!==ee&&N[A-1]!==ee?[]:to(N,ee);if(A-=Ee.length,A<s)return Df(t,n,Vu,y.placeholder,l,N,Ee,l,l,s-A);var xe=this&&this!==dn&&this instanceof y?h:t;return ii(xe,this,N)}return y}function kf(t){return function(n,s,h){var y=ar(n);if(!Yn(n)){var A=pt(s,3);n=nn(n),s=function($){return A(y[$],$,y)}}var N=t(n,s,h);return N>-1?y[A?n[N]:N]:l}}function Bf(t){return Ea(function(n){var s=n.length,h=s,y=wi.prototype.thru;for(t&&n.reverse();h--;){var A=n[h];if(typeof A!="function")throw new Mi(W);if(y&&!N&&qu(A)=="wrapper")var N=new wi([],!0)}for(h=N?h:s;++h<s;){A=n[h];var $=qu(A),ee=$=="wrapper"?Eh(A):l;ee&&kh(ee[0])&&ee[1]==(tt|Ie|ue|Ct)&&!ee[4].length&&ee[9]==1?N=N[qu(ee[0])].apply(N,ee[3]):N=A.length==1&&kh(A)?N[$]():N.thru(A)}return function(){var Ee=arguments,xe=Ee[0];if(N&&Ee.length==1&&Et(xe))return N.plant(xe).value();for(var Ae=0,Ke=s?n[Ae].apply(this,Ee):xe;++Ae<s;)Ke=n[Ae].call(this,Ke);return Ke}})}function Vu(t,n,s,h,y,A,N,$,ee,Ee){var xe=n&tt,Ae=n&ge,Ke=n&he,ot=n&(Ie|Xe),mt=n&nr,wt=Ke?l:eu(t);function _t(){for(var Rt=arguments.length,Gt=ce(Rt),ui=Rt;ui--;)Gt[ui]=arguments[ui];if(ot)var In=_s(_t),li=fd(Gt,In);if(h&&(Gt=Lf(Gt,h,y,ot)),A&&(Gt=Ef(Gt,A,N,ot)),Rt-=li,ot&&Rt<Ee){var Tr=to(Gt,In);return Df(t,n,Vu,_t.placeholder,s,Gt,Tr,$,ee,Ee-Rt)}var Ui=Ae?s:this,ka=Ke?Ui[t]:t;return Rt=Gt.length,$?Gt=bg(Gt,$):mt&&Rt>1&&Gt.reverse(),xe&&ee<Rt&&(Gt.length=ee),this&&this!==dn&&this instanceof _t&&(ka=wt||eu(ka)),ka.apply(Ui,Gt)}return _t}function Af(t,n){return function(s,h){return Bp(s,t,n(h),{})}}function Wu(t,n){return function(s,h){var y;if(s===l&&h===l)return n;if(s!==l&&(y=s),h!==l){if(y===l)return h;typeof s=="string"||typeof h=="string"?(s=oi(s),h=oi(h)):(s=pf(s),h=pf(h)),y=t(s,h)}return y}}function yh(t){return Ea(function(n){return n=br(n,ai(pt())),At(function(s){var h=this;return t(n,function(y){return ii(y,h,s)})})})}function Xu(t,n){n=n===l?" ":oi(n);var s=n.length;if(s<2)return s?fh(n,t):n;var h=fh(n,Ru(t/ls(n)));return us(n)?oo(Ii(h),0,t).join(""):h.slice(0,t)}function tg(t,n,s,h){var y=n&ge,A=eu(t);function N(){for(var $=-1,ee=arguments.length,Ee=-1,xe=h.length,Ae=ce(xe+ee),Ke=this&&this!==dn&&this instanceof N?A:t;++Ee<xe;)Ae[Ee]=h[Ee];for(;ee--;)Ae[Ee++]=arguments[++$];return ii(Ke,y?s:this,Ae)}return N}function Sf(t){return function(n,s,h){return h&&typeof h!="number"&&Fn(n,s,h)&&(s=h=l),n=wa(n),s===l?(s=n,n=0):s=wa(s),h=h===l?n<s?1:-1:wa(h),Up(n,s,h,t)}}function Yu(t){return function(n,s){return typeof n=="string"&&typeof s=="string"||(n=Si(n),s=Si(s)),t(n,s)}}function Df(t,n,s,h,y,A,N,$,ee,Ee){var xe=n&Ie,Ae=xe?N:l,Ke=xe?l:N,ot=xe?A:l,mt=xe?l:A;n|=xe?ue:qe,n&=~(xe?qe:ue),n&oe||(n&=~(ge|he));var wt=[t,n,y,ot,Ae,mt,Ke,$,ee,Ee],_t=s.apply(l,wt);return kh(t)&&Hf(_t,wt),_t.placeholder=h,Kf(_t,t,n)}function bh(t){var n=Xr[t];return function(s,h){if(s=Si(s),h=h==null?0:xn(Mt(h),292),h&&Hc(s)){var y=(Jt(s)+"e").split("e"),A=n(y[0]+"e"+(+y[1]+h));return y=(Jt(A)+"e").split("e"),+(y[0]+"e"+(+y[1]-h))}return n(s)}}var rg=fs&&1/xu(new fs([,-0]))[1]==Ot?function(t){return new fs(t)}:zh;function Pf(t){return function(n){var s=Mn(n);return s==Ft?ql(n):s==jr?yd(n):cd(n,t(n))}}function La(t,n,s,h,y,A,N,$){var ee=n&he;if(!ee&&typeof t!="function")throw new Mi(W);var Ee=h?h.length:0;if(Ee||(n&=~(ue|qe),h=y=l),N=N===l?N:Yr(Mt(N),0),$=$===l?$:Mt($),Ee-=y?y.length:0,n&qe){var xe=h,Ae=y;h=y=l}var Ke=ee?l:Eh(t),ot=[t,n,s,h,y,xe,Ae,A,N,$];if(Ke&&_g(ot,Ke),t=ot[0],n=ot[1],s=ot[2],h=ot[3],y=ot[4],$=ot[9]=ot[9]===l?ee?0:t.length:Yr(ot[9]-Ee,0),!$&&n&(Ie|Xe)&&(n&=~(Ie|Xe)),!n||n==ge)var mt=Qp(t,n,s);else n==Ie||n==Xe?mt=eg(t,n,$):(n==ue||n==(ge|ue))&&!y.length?mt=tg(t,n,s,h):mt=Vu.apply(l,ot);var wt=Ke?ff:Hf;return Kf(wt(mt,ot),t,n)}function Tf(t,n,s,h){return t===l||Gi(t,cs[s])&&!tr.call(h,s)?n:t}function Rf(t,n,s,h,y,A){return Er(t)&&Er(n)&&(A.set(n,t),zu(t,n,l,Rf,A),A.delete(n)),t}function ng(t){return nu(t)?l:t}function Of(t,n,s,h,y,A){var N=s&me,$=t.length,ee=n.length;if($!=ee&&!(N&&ee>$))return!1;var Ee=A.get(t),xe=A.get(n);if(Ee&&xe)return Ee==n&&xe==t;var Ae=-1,Ke=!0,ot=s&le?new Do:l;for(A.set(t,n),A.set(n,t);++Ae<$;){var mt=t[Ae],wt=n[Ae];if(h)var _t=N?h(wt,mt,Ae,n,t,A):h(mt,wt,Ae,t,n,A);if(_t!==l){if(_t)continue;Ke=!1;break}if(ot){if(!Kl(n,function(Rt,Gt){if(!Hs(ot,Gt)&&(mt===Rt||y(mt,Rt,s,h,A)))return ot.push(Gt)})){Ke=!1;break}}else if(!(mt===wt||y(mt,wt,s,h,A))){Ke=!1;break}}return A.delete(t),A.delete(n),Ke}function ig(t,n,s,h,y,A,N){switch(s){case c:if(t.byteLength!=n.byteLength||t.byteOffset!=n.byteOffset)return!1;t=t.buffer,n=n.buffer;case u:return!(t.byteLength!=n.byteLength||!A(new Su(t),new Su(n)));case Tn:case En:case Gr:return Gi(+t,+n);case Oi:return t.name==n.name&&t.message==n.message;case Ur:case e:return t==n+"";case Ft:var $=ql;case jr:var ee=h&me;if($||($=xu),t.size!=n.size&&!ee)return!1;var Ee=N.get(t);if(Ee)return Ee==n;h|=le,N.set(t,n);var xe=Of($(t),$(n),h,y,A,N);return N.delete(t),xe;case r:if(Xs)return Xs.call(t)==Xs.call(n)}return!1}function ag(t,n,s,h,y,A){var N=s&me,$=Ch(t),ee=$.length,Ee=Ch(n),xe=Ee.length;if(ee!=xe&&!N)return!1;for(var Ae=ee;Ae--;){var Ke=$[Ae];if(!(N?Ke in n:tr.call(n,Ke)))return!1}var ot=A.get(t),mt=A.get(n);if(ot&&mt)return ot==n&&mt==t;var wt=!0;A.set(t,n),A.set(n,t);for(var _t=N;++Ae<ee;){Ke=$[Ae];var Rt=t[Ke],Gt=n[Ke];if(h)var ui=N?h(Gt,Rt,Ke,n,t,A):h(Rt,Gt,Ke,t,n,A);if(!(ui===l?Rt===Gt||y(Rt,Gt,s,h,A):ui)){wt=!1;break}_t||(_t=Ke=="constructor")}if(wt&&!_t){var In=t.constructor,li=n.constructor;In!=li&&"constructor"in t&&"constructor"in n&&!(typeof In=="function"&&In instanceof In&&typeof li=="function"&&li instanceof li)&&(wt=!1)}return A.delete(t),A.delete(n),wt}function Ea(t){return Ah(jf(t,l,qf),t+"")}function Ch(t){return ef(t,nn,Mh)}function Lh(t){return ef(t,qn,Ff)}var Eh=Fu?function(t){return Fu.get(t)}:zh;function qu(t){for(var n=t.name+"",s=ds[n],h=tr.call(ds,n)?s.length:0;h--;){var y=s[h],A=y.func;if(A==null||A==t)return y.name}return n}function _s(t){var n=tr.call(w,"placeholder")?w:t;return n.placeholder}function pt(){var t=w.iteratee||Uh;return t=t===Uh?nf:t,arguments.length?t(arguments[0],arguments[1]):t}function Ju(t,n){var s=t.__data__;return dg(n)?s[typeof n=="string"?"string":"hash"]:s.map}function xh(t){for(var n=nn(t),s=n.length;s--;){var h=n[s],y=t[h];n[s]=[h,y,Gf(y)]}return n}function Ro(t,n){var s=md(t,n);return rf(s)?s:l}function og(t){var n=tr.call(t,Ao),s=t[Ao];try{t[Ao]=l;var h=!0}catch{}var y=Bu.call(t);return h&&(n?t[Ao]=s:delete t[Ao]),y}var Mh=Zl?function(t){return t==null?[]:(t=ar(t),Qa(Zl(t),function(n){return jc.call(t,n)}))}:Hh,Ff=Zl?function(t){for(var n=[];t;)eo(n,Mh(t)),t=Du(t);return n}:Hh,Mn=On;(Ql&&Mn(new Ql(new ArrayBuffer(1)))!=c||$s&&Mn(new $s)!=Ft||eh&&Mn(eh.resolve())!=Fi||fs&&Mn(new fs)!=jr||Vs&&Mn(new Vs)!=a)&&(Mn=function(t){var n=On(t),s=n==rn?t.constructor:l,h=s?Oo(s):"";if(h)switch(h){case zd:return c;case Hd:return Ft;case Kd:return Fi;case $d:return jr;case Vd:return a}return n});function sg(t,n,s){for(var h=-1,y=s.length;++h<y;){var A=s[h],N=A.size;switch(A.type){case"drop":t+=N;break;case"dropRight":n-=N;break;case"take":n=xn(n,t+N);break;case"takeRight":t=Yr(t,n-N);break}}return{start:t,end:n}}function ug(t){var n=t.match(re);return n?n[1].split(Le):[]}function If(t,n,s){n=ao(n,t);for(var h=-1,y=n.length,A=!1;++h<y;){var N=ia(n[h]);if(!(A=t!=null&&s(t,N)))break;t=t[N]}return A||++h!=y?A:(y=t==null?0:t.length,!!y&&il(y)&&xa(N,y)&&(Et(t)||Fo(t)))}function lg(t){var n=t.length,s=new t.constructor(n);return n&&typeof t[0]=="string"&&tr.call(t,"index")&&(s.index=t.index,s.input=t.input),s}function Nf(t){return typeof t.constructor=="function"&&!tu(t)?ps(Du(t)):{}}function hg(t,n,s){var h=t.constructor;switch(n){case u:return vh(t);case Tn:case En:return new h(+t);case c:return Wp(t,s);case d:case _:case C:case F:case I:case ie:case J:case _e:case De:return bf(t,s);case Ft:return new h;case Gr:case e:return new h(t);case Ur:return Xp(t);case jr:return new h;case r:return Yp(t)}}function cg(t,n){var s=n.length;if(!s)return t;var h=s-1;return n[h]=(s>1?"& ":"")+n[h],n=n.join(s>2?", ":" "),t.replace(ne,`{
/* [wrapped with `+n+`] */
`)}function fg(t){return Et(t)||Fo(t)||!!(zc&&t&&t[zc])}function xa(t,n){var s=typeof t;return n=n??qt,!!n&&(s=="number"||s!="symbol"&&Rn.test(t))&&t>-1&&t%1==0&&t<n}function Fn(t,n,s){if(!Er(s))return!1;var h=typeof n;return(h=="number"?Yn(s)&&xa(n,s.length):h=="string"&&n in s)?Gi(s[n],t):!1}function wh(t,n){if(Et(t))return!1;var s=typeof t;return s=="number"||s=="symbol"||s=="boolean"||t==null||si(t)?!0:k.test(t)||!B.test(t)||n!=null&&t in ar(n)}function dg(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}function kh(t){var n=qu(t),s=w[n];if(typeof s!="function"||!(n in It.prototype))return!1;if(t===s)return!0;var h=Eh(s);return!!h&&t===h[0]}function pg(t){return!!Nc&&Nc in t}var gg=wu?Ma:Kh;function tu(t){var n=t&&t.constructor,s=typeof n=="function"&&n.prototype||cs;return t===s}function Gf(t){return t===t&&!Er(t)}function Uf(t,n){return function(s){return s==null?!1:s[t]===n&&(n!==l||t in ar(s))}}function mg(t){var n=rl(t,function(h){return s.size===de&&s.clear(),h}),s=n.cache;return n}function _g(t,n){var s=t[1],h=n[1],y=s|h,A=y<(ge|he|tt),N=h==tt&&s==Ie||h==tt&&s==Ct&&t[7].length<=n[8]||h==(tt|Ct)&&n[7].length<=n[8]&&s==Ie;if(!(A||N))return t;h&ge&&(t[2]=n[2],y|=s&ge?0:oe);var $=n[3];if($){var ee=t[3];t[3]=ee?Lf(ee,$,n[4]):$,t[4]=ee?to(t[3],ke):n[4]}return $=n[5],$&&(ee=t[5],t[5]=ee?Ef(ee,$,n[6]):$,t[6]=ee?to(t[5],ke):n[6]),$=n[7],$&&(t[7]=$),h&tt&&(t[8]=t[8]==null?n[8]:xn(t[8],n[8])),t[9]==null&&(t[9]=n[9]),t[0]=n[0],t[1]=y,t}function vg(t){var n=[];if(t!=null)for(var s in ar(t))n.push(s);return n}function yg(t){return Bu.call(t)}function jf(t,n,s){return n=Yr(n===l?t.length-1:n,0),function(){for(var h=arguments,y=-1,A=Yr(h.length-n,0),N=ce(A);++y<A;)N[y]=h[n+y];y=-1;for(var $=ce(n+1);++y<n;)$[y]=h[y];return $[n]=s(N),ii(t,this,$)}}function zf(t,n){return n.length<2?t:To(t,Bi(n,0,-1))}function bg(t,n){for(var s=t.length,h=xn(n.length,s),y=Xn(t);h--;){var A=n[h];t[h]=xa(A,s)?y[A]:l}return t}function Bh(t,n){if(!(n==="constructor"&&typeof t[n]=="function")&&n!="__proto__")return t[n]}var Hf=$f(ff),ru=Od||function(t,n){return dn.setTimeout(t,n)},Ah=$f(Hp);function Kf(t,n,s){var h=n+"";return Ah(t,cg(h,Cg(ug(h),s)))}function $f(t){var n=0,s=0;return function(){var h=Gd(),y=Ln-(h-s);if(s=h,y>0){if(++n>=Qt)return arguments[0]}else n=0;return t.apply(l,arguments)}}function Zu(t,n){var s=-1,h=t.length,y=h-1;for(n=n===l?h:n;++s<n;){var A=ch(s,y),N=t[A];t[A]=t[s],t[s]=N}return t.length=n,t}var Vf=mg(function(t){var n=[];return t.charCodeAt(0)===46&&n.push(""),t.replace(S,function(s,h,y,A){n.push(y?A.replace(Ge,"$1"):h||s)}),n});function ia(t){if(typeof t=="string"||si(t))return t;var n=t+"";return n=="0"&&1/t==-Ot?"-0":n}function Oo(t){if(t!=null){try{return ku.call(t)}catch{}try{return t+""}catch{}}return""}function Cg(t,n){return xi(ti,function(s){var h="_."+s[0];n&s[1]&&!Lu(t,h)&&t.push(h)}),t.sort()}function Wf(t){if(t instanceof It)return t.clone();var n=new wi(t.__wrapped__,t.__chain__);return n.__actions__=Xn(t.__actions__),n.__index__=t.__index__,n.__values__=t.__values__,n}function Lg(t,n,s){(s?Fn(t,n,s):n===l)?n=1:n=Yr(Mt(n),0);var h=t==null?0:t.length;if(!h||n<1)return[];for(var y=0,A=0,N=ce(Ru(h/n));y<h;)N[A++]=Bi(t,y,y+=n);return N}function Eg(t){for(var n=-1,s=t==null?0:t.length,h=0,y=[];++n<s;){var A=t[n];A&&(y[h++]=A)}return y}function xg(){var t=arguments.length;if(!t)return[];for(var n=ce(t-1),s=arguments[0],h=t;h--;)n[h-1]=arguments[h];return eo(Et(s)?Xn(s):[s],pn(n,1))}var Mg=At(function(t,n){return Pr(t)?qs(t,pn(n,1,Pr,!0)):[]}),wg=At(function(t,n){var s=Ai(n);return Pr(s)&&(s=l),Pr(t)?qs(t,pn(n,1,Pr,!0),pt(s,2)):[]}),kg=At(function(t,n){var s=Ai(n);return Pr(s)&&(s=l),Pr(t)?qs(t,pn(n,1,Pr,!0),l,s):[]});function Bg(t,n,s){var h=t==null?0:t.length;return h?(n=s||n===l?1:Mt(n),Bi(t,n<0?0:n,h)):[]}function Ag(t,n,s){var h=t==null?0:t.length;return h?(n=s||n===l?1:Mt(n),n=h-n,Bi(t,0,n<0?0:n)):[]}function Sg(t,n){return t&&t.length?Ku(t,pt(n,3),!0,!0):[]}function Dg(t,n){return t&&t.length?Ku(t,pt(n,3),!0):[]}function Pg(t,n,s,h){var y=t==null?0:t.length;return y?(s&&typeof s!="number"&&Fn(t,n,s)&&(s=0,h=y),xp(t,n,s,h)):[]}function Xf(t,n,s){var h=t==null?0:t.length;if(!h)return-1;var y=s==null?0:Mt(s);return y<0&&(y=Yr(h+y,0)),Eu(t,pt(n,3),y)}function Yf(t,n,s){var h=t==null?0:t.length;if(!h)return-1;var y=h-1;return s!==l&&(y=Mt(s),y=s<0?Yr(h+y,0):xn(y,h-1)),Eu(t,pt(n,3),y,!0)}function qf(t){var n=t==null?0:t.length;return n?pn(t,1):[]}function Tg(t){var n=t==null?0:t.length;return n?pn(t,Ot):[]}function Rg(t,n){var s=t==null?0:t.length;return s?(n=n===l?1:Mt(n),pn(t,n)):[]}function Og(t){for(var n=-1,s=t==null?0:t.length,h={};++n<s;){var y=t[n];h[y[0]]=y[1]}return h}function Jf(t){return t&&t.length?t[0]:l}function Fg(t,n,s){var h=t==null?0:t.length;if(!h)return-1;var y=s==null?0:Mt(s);return y<0&&(y=Yr(h+y,0)),ss(t,n,y)}function Ig(t){var n=t==null?0:t.length;return n?Bi(t,0,-1):[]}var Ng=At(function(t){var n=br(t,mh);return n.length&&n[0]===t[0]?oh(n):[]}),Gg=At(function(t){var n=Ai(t),s=br(t,mh);return n===Ai(s)?n=l:s.pop(),s.length&&s[0]===t[0]?oh(s,pt(n,2)):[]}),Ug=At(function(t){var n=Ai(t),s=br(t,mh);return n=typeof n=="function"?n:l,n&&s.pop(),s.length&&s[0]===t[0]?oh(s,l,n):[]});function jg(t,n){return t==null?"":Id.call(t,n)}function Ai(t){var n=t==null?0:t.length;return n?t[n-1]:l}function zg(t,n,s){var h=t==null?0:t.length;if(!h)return-1;var y=h;return s!==l&&(y=Mt(s),y=y<0?Yr(h+y,0):xn(y,h-1)),n===n?Cd(t,n,y):Eu(t,Sc,y,!0)}function Hg(t,n){return t&&t.length?uf(t,Mt(n)):l}var Kg=At(Zf);function Zf(t,n){return t&&t.length&&n&&n.length?hh(t,n):t}function $g(t,n,s){return t&&t.length&&n&&n.length?hh(t,n,pt(s,2)):t}function Vg(t,n,s){return t&&t.length&&n&&n.length?hh(t,n,l,s):t}var Wg=Ea(function(t,n){var s=t==null?0:t.length,h=rh(t,n);return cf(t,br(n,function(y){return xa(y,s)?+y:y}).sort(Cf)),h});function Xg(t,n){var s=[];if(!(t&&t.length))return s;var h=-1,y=[],A=t.length;for(n=pt(n,3);++h<A;){var N=t[h];n(N,h,t)&&(s.push(N),y.push(h))}return cf(t,y),s}function Sh(t){return t==null?t:jd.call(t)}function Yg(t,n,s){var h=t==null?0:t.length;return h?(s&&typeof s!="number"&&Fn(t,n,s)?(n=0,s=h):(n=n==null?0:Mt(n),s=s===l?h:Mt(s)),Bi(t,n,s)):[]}function qg(t,n){return Hu(t,n)}function Jg(t,n,s){return dh(t,n,pt(s,2))}function Zg(t,n){var s=t==null?0:t.length;if(s){var h=Hu(t,n);if(h<s&&Gi(t[h],n))return h}return-1}function Qg(t,n){return Hu(t,n,!0)}function em(t,n,s){return dh(t,n,pt(s,2),!0)}function tm(t,n){var s=t==null?0:t.length;if(s){var h=Hu(t,n,!0)-1;if(Gi(t[h],n))return h}return-1}function rm(t){return t&&t.length?df(t):[]}function nm(t,n){return t&&t.length?df(t,pt(n,2)):[]}function im(t){var n=t==null?0:t.length;return n?Bi(t,1,n):[]}function am(t,n,s){return t&&t.length?(n=s||n===l?1:Mt(n),Bi(t,0,n<0?0:n)):[]}function om(t,n,s){var h=t==null?0:t.length;return h?(n=s||n===l?1:Mt(n),n=h-n,Bi(t,n<0?0:n,h)):[]}function sm(t,n){return t&&t.length?Ku(t,pt(n,3),!1,!0):[]}function um(t,n){return t&&t.length?Ku(t,pt(n,3)):[]}var lm=At(function(t){return io(pn(t,1,Pr,!0))}),hm=At(function(t){var n=Ai(t);return Pr(n)&&(n=l),io(pn(t,1,Pr,!0),pt(n,2))}),cm=At(function(t){var n=Ai(t);return n=typeof n=="function"?n:l,io(pn(t,1,Pr,!0),l,n)});function fm(t){return t&&t.length?io(t):[]}function dm(t,n){return t&&t.length?io(t,pt(n,2)):[]}function pm(t,n){return n=typeof n=="function"?n:l,t&&t.length?io(t,l,n):[]}function Dh(t){if(!(t&&t.length))return[];var n=0;return t=Qa(t,function(s){if(Pr(s))return n=Yr(s.length,n),!0}),Xl(n,function(s){return br(t,$l(s))})}function Qf(t,n){if(!(t&&t.length))return[];var s=Dh(t);return n==null?s:br(s,function(h){return ii(n,l,h)})}var gm=At(function(t,n){return Pr(t)?qs(t,n):[]}),mm=At(function(t){return gh(Qa(t,Pr))}),_m=At(function(t){var n=Ai(t);return Pr(n)&&(n=l),gh(Qa(t,Pr),pt(n,2))}),vm=At(function(t){var n=Ai(t);return n=typeof n=="function"?n:l,gh(Qa(t,Pr),l,n)}),ym=At(Dh);function bm(t,n){return _f(t||[],n||[],Ys)}function Cm(t,n){return _f(t||[],n||[],Qs)}var Lm=At(function(t){var n=t.length,s=n>1?t[n-1]:l;return s=typeof s=="function"?(t.pop(),s):l,Qf(t,s)});function e0(t){var n=w(t);return n.__chain__=!0,n}function Em(t,n){return n(t),t}function Qu(t,n){return n(t)}var xm=Ea(function(t){var n=t.length,s=n?t[0]:0,h=this.__wrapped__,y=function(A){return rh(A,t)};return n>1||this.__actions__.length||!(h instanceof It)||!xa(s)?this.thru(y):(h=h.slice(s,+s+(n?1:0)),h.__actions__.push({func:Qu,args:[y],thisArg:l}),new wi(h,this.__chain__).thru(function(A){return n&&!A.length&&A.push(l),A}))});function Mm(){return e0(this)}function wm(){return new wi(this.value(),this.__chain__)}function km(){this.__values__===l&&(this.__values__=p0(this.value()));var t=this.__index__>=this.__values__.length,n=t?l:this.__values__[this.__index__++];return{done:t,value:n}}function Bm(){return this}function Am(t){for(var n,s=this;s instanceof Nu;){var h=Wf(s);h.__index__=0,h.__values__=l,n?y.__wrapped__=h:n=h;var y=h;s=s.__wrapped__}return y.__wrapped__=t,n}function Sm(){var t=this.__wrapped__;if(t instanceof It){var n=t;return this.__actions__.length&&(n=new It(this)),n=n.reverse(),n.__actions__.push({func:Qu,args:[Sh],thisArg:l}),new wi(n,this.__chain__)}return this.thru(Sh)}function Dm(){return mf(this.__wrapped__,this.__actions__)}var Pm=$u(function(t,n,s){tr.call(t,s)?++t[s]:Ca(t,s,1)});function Tm(t,n,s){var h=Et(t)?Bc:Ep;return s&&Fn(t,n,s)&&(n=l),h(t,pt(n,3))}function Rm(t,n){var s=Et(t)?Qa:Zc;return s(t,pt(n,3))}var Om=kf(Xf),Fm=kf(Yf);function Im(t,n){return pn(el(t,n),1)}function Nm(t,n){return pn(el(t,n),Ot)}function Gm(t,n,s){return s=s===l?1:Mt(s),pn(el(t,n),s)}function t0(t,n){var s=Et(t)?xi:no;return s(t,pt(n,3))}function r0(t,n){var s=Et(t)?id:Jc;return s(t,pt(n,3))}var Um=$u(function(t,n,s){tr.call(t,s)?t[s].push(n):Ca(t,s,[n])});function jm(t,n,s,h){t=Yn(t)?t:ys(t),s=s&&!h?Mt(s):0;var y=t.length;return s<0&&(s=Yr(y+s,0)),al(t)?s<=y&&t.indexOf(n,s)>-1:!!y&&ss(t,n,s)>-1}var zm=At(function(t,n,s){var h=-1,y=typeof n=="function",A=Yn(t)?ce(t.length):[];return no(t,function(N){A[++h]=y?ii(n,N,s):Js(N,n,s)}),A}),Hm=$u(function(t,n,s){Ca(t,s,n)});function el(t,n){var s=Et(t)?br:af;return s(t,pt(n,3))}function Km(t,n,s,h){return t==null?[]:(Et(n)||(n=n==null?[]:[n]),s=h?l:s,Et(s)||(s=s==null?[]:[s]),lf(t,n,s))}var $m=$u(function(t,n,s){t[s?0:1].push(n)},function(){return[[],[]]});function Vm(t,n,s){var h=Et(t)?Hl:Pc,y=arguments.length<3;return h(t,pt(n,4),s,y,no)}function Wm(t,n,s){var h=Et(t)?ad:Pc,y=arguments.length<3;return h(t,pt(n,4),s,y,Jc)}function Xm(t,n){var s=Et(t)?Qa:Zc;return s(t,nl(pt(n,3)))}function Ym(t){var n=Et(t)?Wc:jp;return n(t)}function qm(t,n,s){(s?Fn(t,n,s):n===l)?n=1:n=Mt(n);var h=Et(t)?vp:zp;return h(t,n)}function Jm(t){var n=Et(t)?yp:Kp;return n(t)}function Zm(t){if(t==null)return 0;if(Yn(t))return al(t)?ls(t):t.length;var n=Mn(t);return n==Ft||n==jr?t.size:uh(t).length}function Qm(t,n,s){var h=Et(t)?Kl:$p;return s&&Fn(t,n,s)&&(n=l),h(t,pt(n,3))}var e_=At(function(t,n){if(t==null)return[];var s=n.length;return s>1&&Fn(t,n[0],n[1])?n=[]:s>2&&Fn(n[0],n[1],n[2])&&(n=[n[0]]),lf(t,pn(n,1),[])}),tl=Rd||function(){return dn.Date.now()};function t_(t,n){if(typeof n!="function")throw new Mi(W);return t=Mt(t),function(){if(--t<1)return n.apply(this,arguments)}}function n0(t,n,s){return n=s?l:n,n=t&&n==null?t.length:n,La(t,tt,l,l,l,l,n)}function i0(t,n){var s;if(typeof n!="function")throw new Mi(W);return t=Mt(t),function(){return--t>0&&(s=n.apply(this,arguments)),t<=1&&(n=l),s}}var Ph=At(function(t,n,s){var h=ge;if(s.length){var y=to(s,_s(Ph));h|=ue}return La(t,h,n,s,y)}),a0=At(function(t,n,s){var h=ge|he;if(s.length){var y=to(s,_s(a0));h|=ue}return La(n,h,t,s,y)});function o0(t,n,s){n=s?l:n;var h=La(t,Ie,l,l,l,l,l,n);return h.placeholder=o0.placeholder,h}function s0(t,n,s){n=s?l:n;var h=La(t,Xe,l,l,l,l,l,n);return h.placeholder=s0.placeholder,h}function u0(t,n,s){var h,y,A,N,$,ee,Ee=0,xe=!1,Ae=!1,Ke=!0;if(typeof t!="function")throw new Mi(W);n=Si(n)||0,Er(s)&&(xe=!!s.leading,Ae="maxWait"in s,A=Ae?Yr(Si(s.maxWait)||0,n):A,Ke="trailing"in s?!!s.trailing:Ke);function ot(Tr){var Ui=h,ka=y;return h=y=l,Ee=Tr,N=t.apply(ka,Ui),N}function mt(Tr){return Ee=Tr,$=ru(Rt,n),xe?ot(Tr):N}function wt(Tr){var Ui=Tr-ee,ka=Tr-Ee,k0=n-Ui;return Ae?xn(k0,A-ka):k0}function _t(Tr){var Ui=Tr-ee,ka=Tr-Ee;return ee===l||Ui>=n||Ui<0||Ae&&ka>=A}function Rt(){var Tr=tl();if(_t(Tr))return Gt(Tr);$=ru(Rt,wt(Tr))}function Gt(Tr){return $=l,Ke&&h?ot(Tr):(h=y=l,N)}function ui(){$!==l&&vf($),Ee=0,h=ee=y=$=l}function In(){return $===l?N:Gt(tl())}function li(){var Tr=tl(),Ui=_t(Tr);if(h=arguments,y=this,ee=Tr,Ui){if($===l)return mt(ee);if(Ae)return vf($),$=ru(Rt,n),ot(ee)}return $===l&&($=ru(Rt,n)),N}return li.cancel=ui,li.flush=In,li}var r_=At(function(t,n){return qc(t,1,n)}),n_=At(function(t,n,s){return qc(t,Si(n)||0,s)});function i_(t){return La(t,nr)}function rl(t,n){if(typeof t!="function"||n!=null&&typeof n!="function")throw new Mi(W);var s=function(){var h=arguments,y=n?n.apply(this,h):h[0],A=s.cache;if(A.has(y))return A.get(y);var N=t.apply(this,h);return s.cache=A.set(y,N)||A,N};return s.cache=new(rl.Cache||ba),s}rl.Cache=ba;function nl(t){if(typeof t!="function")throw new Mi(W);return function(){var n=arguments;switch(n.length){case 0:return!t.call(this);case 1:return!t.call(this,n[0]);case 2:return!t.call(this,n[0],n[1]);case 3:return!t.call(this,n[0],n[1],n[2])}return!t.apply(this,n)}}function a_(t){return i0(2,t)}var o_=Vp(function(t,n){n=n.length==1&&Et(n[0])?br(n[0],ai(pt())):br(pn(n,1),ai(pt()));var s=n.length;return At(function(h){for(var y=-1,A=xn(h.length,s);++y<A;)h[y]=n[y].call(this,h[y]);return ii(t,this,h)})}),Th=At(function(t,n){var s=to(n,_s(Th));return La(t,ue,l,n,s)}),l0=At(function(t,n){var s=to(n,_s(l0));return La(t,qe,l,n,s)}),s_=Ea(function(t,n){return La(t,Ct,l,l,l,n)});function u_(t,n){if(typeof t!="function")throw new Mi(W);return n=n===l?n:Mt(n),At(t,n)}function l_(t,n){if(typeof t!="function")throw new Mi(W);return n=n==null?0:Yr(Mt(n),0),At(function(s){var h=s[n],y=oo(s,0,n);return h&&eo(y,h),ii(t,this,y)})}function h_(t,n,s){var h=!0,y=!0;if(typeof t!="function")throw new Mi(W);return Er(s)&&(h="leading"in s?!!s.leading:h,y="trailing"in s?!!s.trailing:y),u0(t,n,{leading:h,maxWait:n,trailing:y})}function c_(t){return n0(t,1)}function f_(t,n){return Th(_h(n),t)}function d_(){if(!arguments.length)return[];var t=arguments[0];return Et(t)?t:[t]}function p_(t){return ki(t,ve)}function g_(t,n){return n=typeof n=="function"?n:l,ki(t,ve,n)}function m_(t){return ki(t,Be|ve)}function __(t,n){return n=typeof n=="function"?n:l,ki(t,Be|ve,n)}function v_(t,n){return n==null||Yc(t,n,nn(n))}function Gi(t,n){return t===n||t!==t&&n!==n}var y_=Yu(ah),b_=Yu(function(t,n){return t>=n}),Fo=tf(function(){return arguments}())?tf:function(t){return Br(t)&&tr.call(t,"callee")&&!jc.call(t,"callee")},Et=ce.isArray,C_=Lc?ai(Lc):Ap;function Yn(t){return t!=null&&il(t.length)&&!Ma(t)}function Pr(t){return Br(t)&&Yn(t)}function L_(t){return t===!0||t===!1||Br(t)&&On(t)==Tn}var so=Fd||Kh,E_=Ec?ai(Ec):Sp;function x_(t){return Br(t)&&t.nodeType===1&&!nu(t)}function M_(t){if(t==null)return!0;if(Yn(t)&&(Et(t)||typeof t=="string"||typeof t.splice=="function"||so(t)||vs(t)||Fo(t)))return!t.length;var n=Mn(t);if(n==Ft||n==jr)return!t.size;if(tu(t))return!uh(t).length;for(var s in t)if(tr.call(t,s))return!1;return!0}function w_(t,n){return Zs(t,n)}function k_(t,n,s){s=typeof s=="function"?s:l;var h=s?s(t,n):l;return h===l?Zs(t,n,l,s):!!h}function Rh(t){if(!Br(t))return!1;var n=On(t);return n==Oi||n==ea||typeof t.message=="string"&&typeof t.name=="string"&&!nu(t)}function B_(t){return typeof t=="number"&&Hc(t)}function Ma(t){if(!Er(t))return!1;var n=On(t);return n==Ci||n==ta||n==bi||n==Za}function h0(t){return typeof t=="number"&&t==Mt(t)}function il(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=qt}function Er(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}function Br(t){return t!=null&&typeof t=="object"}var c0=xc?ai(xc):Pp;function A_(t,n){return t===n||sh(t,n,xh(n))}function S_(t,n,s){return s=typeof s=="function"?s:l,sh(t,n,xh(n),s)}function D_(t){return f0(t)&&t!=+t}function P_(t){if(gg(t))throw new Lt(G);return rf(t)}function T_(t){return t===null}function R_(t){return t==null}function f0(t){return typeof t=="number"||Br(t)&&On(t)==Gr}function nu(t){if(!Br(t)||On(t)!=rn)return!1;var n=Du(t);if(n===null)return!0;var s=tr.call(n,"constructor")&&n.constructor;return typeof s=="function"&&s instanceof s&&ku.call(s)==Sd}var Oh=Mc?ai(Mc):Tp;function O_(t){return h0(t)&&t>=-qt&&t<=qt}var d0=wc?ai(wc):Rp;function al(t){return typeof t=="string"||!Et(t)&&Br(t)&&On(t)==e}function si(t){return typeof t=="symbol"||Br(t)&&On(t)==r}var vs=kc?ai(kc):Op;function F_(t){return t===l}function I_(t){return Br(t)&&Mn(t)==a}function N_(t){return Br(t)&&On(t)==o}var G_=Yu(lh),U_=Yu(function(t,n){return t<=n});function p0(t){if(!t)return[];if(Yn(t))return al(t)?Ii(t):Xn(t);if(Ks&&t[Ks])return vd(t[Ks]());var n=Mn(t),s=n==Ft?ql:n==jr?xu:ys;return s(t)}function wa(t){if(!t)return t===0?t:0;if(t=Si(t),t===Ot||t===-Ot){var n=t<0?-1:1;return n*Vr}return t===t?t:0}function Mt(t){var n=wa(t),s=n%1;return n===n?s?n-s:n:0}function g0(t){return t?Po(Mt(t),0,jt):0}function Si(t){if(typeof t=="number")return t;if(si(t))return hn;if(Er(t)){var n=typeof t.valueOf=="function"?t.valueOf():t;t=Er(n)?n+"":n}if(typeof t!="string")return t===0?t:+t;t=Tc(t);var s=gt.test(t);return s||fn.test(t)?td(t.slice(2),s?2:8):ht.test(t)?hn:+t}function m0(t){return na(t,qn(t))}function j_(t){return t?Po(Mt(t),-qt,qt):t===0?t:0}function Jt(t){return t==null?"":oi(t)}var z_=gs(function(t,n){if(tu(n)||Yn(n)){na(n,nn(n),t);return}for(var s in n)tr.call(n,s)&&Ys(t,s,n[s])}),_0=gs(function(t,n){na(n,qn(n),t)}),ol=gs(function(t,n,s,h){na(n,qn(n),t,h)}),H_=gs(function(t,n,s,h){na(n,nn(n),t,h)}),K_=Ea(rh);function $_(t,n){var s=ps(t);return n==null?s:Xc(s,n)}var V_=At(function(t,n){t=ar(t);var s=-1,h=n.length,y=h>2?n[2]:l;for(y&&Fn(n[0],n[1],y)&&(h=1);++s<h;)for(var A=n[s],N=qn(A),$=-1,ee=N.length;++$<ee;){var Ee=N[$],xe=t[Ee];(xe===l||Gi(xe,cs[Ee])&&!tr.call(t,Ee))&&(t[Ee]=A[Ee])}return t}),W_=At(function(t){return t.push(l,Rf),ii(v0,l,t)});function X_(t,n){return Ac(t,pt(n,3),ra)}function Y_(t,n){return Ac(t,pt(n,3),ih)}function q_(t,n){return t==null?t:nh(t,pt(n,3),qn)}function J_(t,n){return t==null?t:Qc(t,pt(n,3),qn)}function Z_(t,n){return t&&ra(t,pt(n,3))}function Q_(t,n){return t&&ih(t,pt(n,3))}function ev(t){return t==null?[]:ju(t,nn(t))}function tv(t){return t==null?[]:ju(t,qn(t))}function Fh(t,n,s){var h=t==null?l:To(t,n);return h===l?s:h}function rv(t,n){return t!=null&&If(t,n,Mp)}function Ih(t,n){return t!=null&&If(t,n,wp)}var nv=Af(function(t,n,s){n!=null&&typeof n.toString!="function"&&(n=Bu.call(n)),t[n]=s},Gh(Jn)),iv=Af(function(t,n,s){n!=null&&typeof n.toString!="function"&&(n=Bu.call(n)),tr.call(t,n)?t[n].push(s):t[n]=[s]},pt),av=At(Js);function nn(t){return Yn(t)?Vc(t):uh(t)}function qn(t){return Yn(t)?Vc(t,!0):Fp(t)}function ov(t,n){var s={};return n=pt(n,3),ra(t,function(h,y,A){Ca(s,n(h,y,A),h)}),s}function sv(t,n){var s={};return n=pt(n,3),ra(t,function(h,y,A){Ca(s,y,n(h,y,A))}),s}var uv=gs(function(t,n,s){zu(t,n,s)}),v0=gs(function(t,n,s,h){zu(t,n,s,h)}),lv=Ea(function(t,n){var s={};if(t==null)return s;var h=!1;n=br(n,function(A){return A=ao(A,t),h||(h=A.length>1),A}),na(t,Lh(t),s),h&&(s=ki(s,Be|Me|ve,ng));for(var y=n.length;y--;)ph(s,n[y]);return s});function hv(t,n){return y0(t,nl(pt(n)))}var cv=Ea(function(t,n){return t==null?{}:Np(t,n)});function y0(t,n){if(t==null)return{};var s=br(Lh(t),function(h){return[h]});return n=pt(n),hf(t,s,function(h,y){return n(h,y[0])})}function fv(t,n,s){n=ao(n,t);var h=-1,y=n.length;for(y||(y=1,t=l);++h<y;){var A=t==null?l:t[ia(n[h])];A===l&&(h=y,A=s),t=Ma(A)?A.call(t):A}return t}function dv(t,n,s){return t==null?t:Qs(t,n,s)}function pv(t,n,s,h){return h=typeof h=="function"?h:l,t==null?t:Qs(t,n,s,h)}var b0=Pf(nn),C0=Pf(qn);function gv(t,n,s){var h=Et(t),y=h||so(t)||vs(t);if(n=pt(n,4),s==null){var A=t&&t.constructor;y?s=h?new A:[]:Er(t)?s=Ma(A)?ps(Du(t)):{}:s={}}return(y?xi:ra)(t,function(N,$,ee){return n(s,N,$,ee)}),s}function mv(t,n){return t==null?!0:ph(t,n)}function _v(t,n,s){return t==null?t:gf(t,n,_h(s))}function vv(t,n,s,h){return h=typeof h=="function"?h:l,t==null?t:gf(t,n,_h(s),h)}function ys(t){return t==null?[]:Yl(t,nn(t))}function yv(t){return t==null?[]:Yl(t,qn(t))}function bv(t,n,s){return s===l&&(s=n,n=l),s!==l&&(s=Si(s),s=s===s?s:0),n!==l&&(n=Si(n),n=n===n?n:0),Po(Si(t),n,s)}function Cv(t,n,s){return n=wa(n),s===l?(s=n,n=0):s=wa(s),t=Si(t),kp(t,n,s)}function Lv(t,n,s){if(s&&typeof s!="boolean"&&Fn(t,n,s)&&(n=s=l),s===l&&(typeof n=="boolean"?(s=n,n=l):typeof t=="boolean"&&(s=t,t=l)),t===l&&n===l?(t=0,n=1):(t=wa(t),n===l?(n=t,t=0):n=wa(n)),t>n){var h=t;t=n,n=h}if(s||t%1||n%1){var y=Kc();return xn(t+y*(n-t+ed("1e-"+((y+"").length-1))),n)}return ch(t,n)}var Ev=ms(function(t,n,s){return n=n.toLowerCase(),t+(s?L0(n):n)});function L0(t){return Nh(Jt(t).toLowerCase())}function E0(t){return t=Jt(t),t&&t.replace(ri,dd).replace(K0,"")}function xv(t,n,s){t=Jt(t),n=oi(n);var h=t.length;s=s===l?h:Po(Mt(s),0,h);var y=s;return s-=n.length,s>=0&&t.slice(s,y)==n}function Mv(t){return t=Jt(t),t&&Z.test(t)?t.replace(X,pd):t}function wv(t){return t=Jt(t),t&&z.test(t)?t.replace(D,"\\$&"):t}var kv=ms(function(t,n,s){return t+(s?"-":"")+n.toLowerCase()}),Bv=ms(function(t,n,s){return t+(s?" ":"")+n.toLowerCase()}),Av=wf("toLowerCase");function Sv(t,n,s){t=Jt(t),n=Mt(n);var h=n?ls(t):0;if(!n||h>=n)return t;var y=(n-h)/2;return Xu(Ou(y),s)+t+Xu(Ru(y),s)}function Dv(t,n,s){t=Jt(t),n=Mt(n);var h=n?ls(t):0;return n&&h<n?t+Xu(n-h,s):t}function Pv(t,n,s){t=Jt(t),n=Mt(n);var h=n?ls(t):0;return n&&h<n?Xu(n-h,s)+t:t}function Tv(t,n,s){return s||n==null?n=0:n&&(n=+n),Ud(Jt(t).replace(j,""),n||0)}function Rv(t,n,s){return(s?Fn(t,n,s):n===l)?n=1:n=Mt(n),fh(Jt(t),n)}function Ov(){var t=arguments,n=Jt(t[0]);return t.length<3?n:n.replace(t[1],t[2])}var Fv=ms(function(t,n,s){return t+(s?"_":"")+n.toLowerCase()});function Iv(t,n,s){return s&&typeof s!="number"&&Fn(t,n,s)&&(n=s=l),s=s===l?jt:s>>>0,s?(t=Jt(t),t&&(typeof n=="string"||n!=null&&!Oh(n))&&(n=oi(n),!n&&us(t))?oo(Ii(t),0,s):t.split(n,s)):[]}var Nv=ms(function(t,n,s){return t+(s?" ":"")+Nh(n)});function Gv(t,n,s){return t=Jt(t),s=s==null?0:Po(Mt(s),0,t.length),n=oi(n),t.slice(s,s+n.length)==n}function Uv(t,n,s){var h=w.templateSettings;s&&Fn(t,n,s)&&(n=l),t=Jt(t),n=ol({},n,h,Tf);var y=ol({},n.imports,h.imports,Tf),A=nn(y),N=Yl(y,A),$,ee,Ee=0,xe=n.interpolate||zr,Ae="__p += '",Ke=Jl((n.escape||zr).source+"|"+xe.source+"|"+(xe===M?He:zr).source+"|"+(n.evaluate||zr).source+"|$","g"),ot="//# sourceURL="+(tr.call(n,"sourceURL")?(n.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Y0+"]")+`
`;t.replace(Ke,function(_t,Rt,Gt,ui,In,li){return Gt||(Gt=ui),Ae+=t.slice(Ee,li).replace(ni,gd),Rt&&($=!0,Ae+=`' +
__e(`+Rt+`) +
'`),In&&(ee=!0,Ae+=`';
`+In+`;
__p += '`),Gt&&(Ae+=`' +
((__t = (`+Gt+`)) == null ? '' : __t) +
'`),Ee=li+_t.length,_t}),Ae+=`';
`;var mt=tr.call(n,"variable")&&n.variable;if(!mt)Ae=`with (obj) {
`+Ae+`
}
`;else if(Qe.test(mt))throw new Lt(Y);Ae=(ee?Ae.replace(Je,""):Ae).replace(xt,"$1").replace(T,"$1;"),Ae="function("+(mt||"obj")+`) {
`+(mt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+($?", __e = _.escape":"")+(ee?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ae+`return __p
}`;var wt=M0(function(){return Xt(A,ot+"return "+Ae).apply(l,N)});if(wt.source=Ae,Rh(wt))throw wt;return wt}function jv(t){return Jt(t).toLowerCase()}function zv(t){return Jt(t).toUpperCase()}function Hv(t,n,s){if(t=Jt(t),t&&(s||n===l))return Tc(t);if(!t||!(n=oi(n)))return t;var h=Ii(t),y=Ii(n),A=Rc(h,y),N=Oc(h,y)+1;return oo(h,A,N).join("")}function Kv(t,n,s){if(t=Jt(t),t&&(s||n===l))return t.slice(0,Ic(t)+1);if(!t||!(n=oi(n)))return t;var h=Ii(t),y=Oc(h,Ii(n))+1;return oo(h,0,y).join("")}function $v(t,n,s){if(t=Jt(t),t&&(s||n===l))return t.replace(j,"");if(!t||!(n=oi(n)))return t;var h=Ii(t),y=Rc(h,Ii(n));return oo(h,y).join("")}function Vv(t,n){var s=Dt,h=Nt;if(Er(n)){var y="separator"in n?n.separator:y;s="length"in n?Mt(n.length):s,h="omission"in n?oi(n.omission):h}t=Jt(t);var A=t.length;if(us(t)){var N=Ii(t);A=N.length}if(s>=A)return t;var $=s-ls(h);if($<1)return h;var ee=N?oo(N,0,$).join(""):t.slice(0,$);if(y===l)return ee+h;if(N&&($+=ee.length-$),Oh(y)){if(t.slice($).search(y)){var Ee,xe=ee;for(y.global||(y=Jl(y.source,Jt(ut.exec(y))+"g")),y.lastIndex=0;Ee=y.exec(xe);)var Ae=Ee.index;ee=ee.slice(0,Ae===l?$:Ae)}}else if(t.indexOf(oi(y),$)!=$){var Ke=ee.lastIndexOf(y);Ke>-1&&(ee=ee.slice(0,Ke))}return ee+h}function Wv(t){return t=Jt(t),t&&se.test(t)?t.replace(U,Ld):t}var Xv=ms(function(t,n,s){return t+(s?" ":"")+n.toUpperCase()}),Nh=wf("toUpperCase");function x0(t,n,s){return t=Jt(t),n=s?l:n,n===l?_d(t)?Md(t):ud(t):t.match(n)||[]}var M0=At(function(t,n){try{return ii(t,l,n)}catch(s){return Rh(s)?s:new Lt(s)}}),Yv=Ea(function(t,n){return xi(n,function(s){s=ia(s),Ca(t,s,Ph(t[s],t))}),t});function qv(t){var n=t==null?0:t.length,s=pt();return t=n?br(t,function(h){if(typeof h[1]!="function")throw new Mi(W);return[s(h[0]),h[1]]}):[],At(function(h){for(var y=-1;++y<n;){var A=t[y];if(ii(A[0],this,h))return ii(A[1],this,h)}})}function Jv(t){return Lp(ki(t,Be))}function Gh(t){return function(){return t}}function Zv(t,n){return t==null||t!==t?n:t}var Qv=Bf(),ey=Bf(!0);function Jn(t){return t}function Uh(t){return nf(typeof t=="function"?t:ki(t,Be))}function ty(t){return of(ki(t,Be))}function ry(t,n){return sf(t,ki(n,Be))}var ny=At(function(t,n){return function(s){return Js(s,t,n)}}),iy=At(function(t,n){return function(s){return Js(t,s,n)}});function jh(t,n,s){var h=nn(n),y=ju(n,h);s==null&&!(Er(n)&&(y.length||!h.length))&&(s=n,n=t,t=this,y=ju(n,nn(n)));var A=!(Er(s)&&"chain"in s)||!!s.chain,N=Ma(t);return xi(y,function($){var ee=n[$];t[$]=ee,N&&(t.prototype[$]=function(){var Ee=this.__chain__;if(A||Ee){var xe=t(this.__wrapped__),Ae=xe.__actions__=Xn(this.__actions__);return Ae.push({func:ee,args:arguments,thisArg:t}),xe.__chain__=Ee,xe}return ee.apply(t,eo([this.value()],arguments))})}),t}function ay(){return dn._===this&&(dn._=Dd),this}function zh(){}function oy(t){return t=Mt(t),At(function(n){return uf(n,t)})}var sy=yh(br),uy=yh(Bc),ly=yh(Kl);function w0(t){return wh(t)?$l(ia(t)):Gp(t)}function hy(t){return function(n){return t==null?l:To(t,n)}}var cy=Sf(),fy=Sf(!0);function Hh(){return[]}function Kh(){return!1}function dy(){return{}}function py(){return""}function gy(){return!0}function my(t,n){if(t=Mt(t),t<1||t>qt)return[];var s=jt,h=xn(t,jt);n=pt(n),t-=jt;for(var y=Xl(h,n);++s<t;)n(s);return y}function _y(t){return Et(t)?br(t,ia):si(t)?[t]:Xn(Vf(Jt(t)))}function vy(t){var n=++Ad;return Jt(t)+n}var yy=Wu(function(t,n){return t+n},0),by=bh("ceil"),Cy=Wu(function(t,n){return t/n},1),Ly=bh("floor");function Ey(t){return t&&t.length?Uu(t,Jn,ah):l}function xy(t,n){return t&&t.length?Uu(t,pt(n,2),ah):l}function My(t){return Dc(t,Jn)}function wy(t,n){return Dc(t,pt(n,2))}function ky(t){return t&&t.length?Uu(t,Jn,lh):l}function By(t,n){return t&&t.length?Uu(t,pt(n,2),lh):l}var Ay=Wu(function(t,n){return t*n},1),Sy=bh("round"),Dy=Wu(function(t,n){return t-n},0);function Py(t){return t&&t.length?Wl(t,Jn):0}function Ty(t,n){return t&&t.length?Wl(t,pt(n,2)):0}return w.after=t_,w.ary=n0,w.assign=z_,w.assignIn=_0,w.assignInWith=ol,w.assignWith=H_,w.at=K_,w.before=i0,w.bind=Ph,w.bindAll=Yv,w.bindKey=a0,w.castArray=d_,w.chain=e0,w.chunk=Lg,w.compact=Eg,w.concat=xg,w.cond=qv,w.conforms=Jv,w.constant=Gh,w.countBy=Pm,w.create=$_,w.curry=o0,w.curryRight=s0,w.debounce=u0,w.defaults=V_,w.defaultsDeep=W_,w.defer=r_,w.delay=n_,w.difference=Mg,w.differenceBy=wg,w.differenceWith=kg,w.drop=Bg,w.dropRight=Ag,w.dropRightWhile=Sg,w.dropWhile=Dg,w.fill=Pg,w.filter=Rm,w.flatMap=Im,w.flatMapDeep=Nm,w.flatMapDepth=Gm,w.flatten=qf,w.flattenDeep=Tg,w.flattenDepth=Rg,w.flip=i_,w.flow=Qv,w.flowRight=ey,w.fromPairs=Og,w.functions=ev,w.functionsIn=tv,w.groupBy=Um,w.initial=Ig,w.intersection=Ng,w.intersectionBy=Gg,w.intersectionWith=Ug,w.invert=nv,w.invertBy=iv,w.invokeMap=zm,w.iteratee=Uh,w.keyBy=Hm,w.keys=nn,w.keysIn=qn,w.map=el,w.mapKeys=ov,w.mapValues=sv,w.matches=ty,w.matchesProperty=ry,w.memoize=rl,w.merge=uv,w.mergeWith=v0,w.method=ny,w.methodOf=iy,w.mixin=jh,w.negate=nl,w.nthArg=oy,w.omit=lv,w.omitBy=hv,w.once=a_,w.orderBy=Km,w.over=sy,w.overArgs=o_,w.overEvery=uy,w.overSome=ly,w.partial=Th,w.partialRight=l0,w.partition=$m,w.pick=cv,w.pickBy=y0,w.property=w0,w.propertyOf=hy,w.pull=Kg,w.pullAll=Zf,w.pullAllBy=$g,w.pullAllWith=Vg,w.pullAt=Wg,w.range=cy,w.rangeRight=fy,w.rearg=s_,w.reject=Xm,w.remove=Xg,w.rest=u_,w.reverse=Sh,w.sampleSize=qm,w.set=dv,w.setWith=pv,w.shuffle=Jm,w.slice=Yg,w.sortBy=e_,w.sortedUniq=rm,w.sortedUniqBy=nm,w.split=Iv,w.spread=l_,w.tail=im,w.take=am,w.takeRight=om,w.takeRightWhile=sm,w.takeWhile=um,w.tap=Em,w.throttle=h_,w.thru=Qu,w.toArray=p0,w.toPairs=b0,w.toPairsIn=C0,w.toPath=_y,w.toPlainObject=m0,w.transform=gv,w.unary=c_,w.union=lm,w.unionBy=hm,w.unionWith=cm,w.uniq=fm,w.uniqBy=dm,w.uniqWith=pm,w.unset=mv,w.unzip=Dh,w.unzipWith=Qf,w.update=_v,w.updateWith=vv,w.values=ys,w.valuesIn=yv,w.without=gm,w.words=x0,w.wrap=f_,w.xor=mm,w.xorBy=_m,w.xorWith=vm,w.zip=ym,w.zipObject=bm,w.zipObjectDeep=Cm,w.zipWith=Lm,w.entries=b0,w.entriesIn=C0,w.extend=_0,w.extendWith=ol,jh(w,w),w.add=yy,w.attempt=M0,w.camelCase=Ev,w.capitalize=L0,w.ceil=by,w.clamp=bv,w.clone=p_,w.cloneDeep=m_,w.cloneDeepWith=__,w.cloneWith=g_,w.conformsTo=v_,w.deburr=E0,w.defaultTo=Zv,w.divide=Cy,w.endsWith=xv,w.eq=Gi,w.escape=Mv,w.escapeRegExp=wv,w.every=Tm,w.find=Om,w.findIndex=Xf,w.findKey=X_,w.findLast=Fm,w.findLastIndex=Yf,w.findLastKey=Y_,w.floor=Ly,w.forEach=t0,w.forEachRight=r0,w.forIn=q_,w.forInRight=J_,w.forOwn=Z_,w.forOwnRight=Q_,w.get=Fh,w.gt=y_,w.gte=b_,w.has=rv,w.hasIn=Ih,w.head=Jf,w.identity=Jn,w.includes=jm,w.indexOf=Fg,w.inRange=Cv,w.invoke=av,w.isArguments=Fo,w.isArray=Et,w.isArrayBuffer=C_,w.isArrayLike=Yn,w.isArrayLikeObject=Pr,w.isBoolean=L_,w.isBuffer=so,w.isDate=E_,w.isElement=x_,w.isEmpty=M_,w.isEqual=w_,w.isEqualWith=k_,w.isError=Rh,w.isFinite=B_,w.isFunction=Ma,w.isInteger=h0,w.isLength=il,w.isMap=c0,w.isMatch=A_,w.isMatchWith=S_,w.isNaN=D_,w.isNative=P_,w.isNil=R_,w.isNull=T_,w.isNumber=f0,w.isObject=Er,w.isObjectLike=Br,w.isPlainObject=nu,w.isRegExp=Oh,w.isSafeInteger=O_,w.isSet=d0,w.isString=al,w.isSymbol=si,w.isTypedArray=vs,w.isUndefined=F_,w.isWeakMap=I_,w.isWeakSet=N_,w.join=jg,w.kebabCase=kv,w.last=Ai,w.lastIndexOf=zg,w.lowerCase=Bv,w.lowerFirst=Av,w.lt=G_,w.lte=U_,w.max=Ey,w.maxBy=xy,w.mean=My,w.meanBy=wy,w.min=ky,w.minBy=By,w.stubArray=Hh,w.stubFalse=Kh,w.stubObject=dy,w.stubString=py,w.stubTrue=gy,w.multiply=Ay,w.nth=Hg,w.noConflict=ay,w.noop=zh,w.now=tl,w.pad=Sv,w.padEnd=Dv,w.padStart=Pv,w.parseInt=Tv,w.random=Lv,w.reduce=Vm,w.reduceRight=Wm,w.repeat=Rv,w.replace=Ov,w.result=fv,w.round=Sy,w.runInContext=Q,w.sample=Ym,w.size=Zm,w.snakeCase=Fv,w.some=Qm,w.sortedIndex=qg,w.sortedIndexBy=Jg,w.sortedIndexOf=Zg,w.sortedLastIndex=Qg,w.sortedLastIndexBy=em,w.sortedLastIndexOf=tm,w.startCase=Nv,w.startsWith=Gv,w.subtract=Dy,w.sum=Py,w.sumBy=Ty,w.template=Uv,w.times=my,w.toFinite=wa,w.toInteger=Mt,w.toLength=g0,w.toLower=jv,w.toNumber=Si,w.toSafeInteger=j_,w.toString=Jt,w.toUpper=zv,w.trim=Hv,w.trimEnd=Kv,w.trimStart=$v,w.truncate=Vv,w.unescape=Wv,w.uniqueId=vy,w.upperCase=Xv,w.upperFirst=Nh,w.each=t0,w.eachRight=r0,w.first=Jf,jh(w,function(){var t={};return ra(w,function(n,s){tr.call(w.prototype,s)||(t[s]=n)}),t}(),{chain:!1}),w.VERSION=x,xi(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){w[t].placeholder=w}),xi(["drop","take"],function(t,n){It.prototype[t]=function(s){s=s===l?1:Yr(Mt(s),0);var h=this.__filtered__&&!n?new It(this):this.clone();return h.__filtered__?h.__takeCount__=xn(s,h.__takeCount__):h.__views__.push({size:xn(s,jt),type:t+(h.__dir__<0?"Right":"")}),h},It.prototype[t+"Right"]=function(s){return this.reverse()[t](s).reverse()}}),xi(["filter","map","takeWhile"],function(t,n){var s=n+1,h=s==Wn||s==hr;It.prototype[t]=function(y){var A=this.clone();return A.__iteratees__.push({iteratee:pt(y,3),type:s}),A.__filtered__=A.__filtered__||h,A}}),xi(["head","last"],function(t,n){var s="take"+(n?"Right":"");It.prototype[t]=function(){return this[s](1).value()[0]}}),xi(["initial","tail"],function(t,n){var s="drop"+(n?"":"Right");It.prototype[t]=function(){return this.__filtered__?new It(this):this[s](1)}}),It.prototype.compact=function(){return this.filter(Jn)},It.prototype.find=function(t){return this.filter(t).head()},It.prototype.findLast=function(t){return this.reverse().find(t)},It.prototype.invokeMap=At(function(t,n){return typeof t=="function"?new It(this):this.map(function(s){return Js(s,t,n)})}),It.prototype.reject=function(t){return this.filter(nl(pt(t)))},It.prototype.slice=function(t,n){t=Mt(t);var s=this;return s.__filtered__&&(t>0||n<0)?new It(s):(t<0?s=s.takeRight(-t):t&&(s=s.drop(t)),n!==l&&(n=Mt(n),s=n<0?s.dropRight(-n):s.take(n-t)),s)},It.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},It.prototype.toArray=function(){return this.take(jt)},ra(It.prototype,function(t,n){var s=/^(?:filter|find|map|reject)|While$/.test(n),h=/^(?:head|last)$/.test(n),y=w[h?"take"+(n=="last"?"Right":""):n],A=h||/^find/.test(n);y&&(w.prototype[n]=function(){var N=this.__wrapped__,$=h?[1]:arguments,ee=N instanceof It,Ee=$[0],xe=ee||Et(N),Ae=function(Rt){var Gt=y.apply(w,eo([Rt],$));return h&&Ke?Gt[0]:Gt};xe&&s&&typeof Ee=="function"&&Ee.length!=1&&(ee=xe=!1);var Ke=this.__chain__,ot=!!this.__actions__.length,mt=A&&!Ke,wt=ee&&!ot;if(!A&&xe){N=wt?N:new It(this);var _t=t.apply(N,$);return _t.__actions__.push({func:Qu,args:[Ae],thisArg:l}),new wi(_t,Ke)}return mt&&wt?t.apply(this,$):(_t=this.thru(Ae),mt?h?_t.value()[0]:_t.value():_t)})}),xi(["pop","push","shift","sort","splice","unshift"],function(t){var n=Mu[t],s=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",h=/^(?:pop|shift)$/.test(t);w.prototype[t]=function(){var y=arguments;if(h&&!this.__chain__){var A=this.value();return n.apply(Et(A)?A:[],y)}return this[s](function(N){return n.apply(Et(N)?N:[],y)})}}),ra(It.prototype,function(t,n){var s=w[n];if(s){var h=s.name+"";tr.call(ds,h)||(ds[h]=[]),ds[h].push({name:n,func:s})}}),ds[Vu(l,he).name]=[{name:"wrapper",func:l}],It.prototype.clone=Wd,It.prototype.reverse=Xd,It.prototype.value=Yd,w.prototype.at=xm,w.prototype.chain=Mm,w.prototype.commit=wm,w.prototype.next=km,w.prototype.plant=Am,w.prototype.reverse=Sm,w.prototype.toJSON=w.prototype.valueOf=w.prototype.value=Dm,w.prototype.first=w.prototype.head,Ks&&(w.prototype[Ks]=Bm),w},hs=wd();Bo?((Bo.exports=hs)._=hs,Ul._=hs):dn._=hs}).call(wo)}(va,va.exports);var Dn=va.exports;const yu=wl(Dn),yi=f=>(0,fe.jsx)(gl,{...f}),Al=({feature:f,handleChange:p,handleRemove:l,handleWeightChange:x})=>{const[O,G]=(0,H.useState)(!1),[W,Y]=(0,H.useState)(!1),Ce=(0,H.useRef)(null),de=(0,H.useRef)(null),ke=Be=>{p(Be,f)};return(0,fe.jsxs)(kn.s,{style:{border:"1px solid #6666",borderRadius:"4px",backgroundColor:"transparent"},children:[(0,fe.jsx)(Aa.K,{noBorder:!0,icon:(0,fe.jsx)(Wi.A,{})}),!["Marker"].includes(f?.properties?.shape)&&(0,fe.jsx)(fi.$,{ref:Ce,onClick:()=>G(Be=>!Be),noBorder:!0,style:{border:"1px solid #6666",borderRadius:"50%",padding:"8px",width:"22px",height:"22px",backgroundColor:f.properties?.style?.color||"#3388FF"}}),!["Marker"].includes(f?.properties?.shape)&&(0,fe.jsx)(Aa.K,{onClick:()=>Y(Be=>!Be),ref:de,noBorder:!0,icon:(0,fe.jsx)(Yt.A,{})}),(0,fe.jsx)(Un.o,{style:{margin:"0 4px",fontSize:"12px"},children:f.geometry.type}),(0,fe.jsx)(Aa.K,{noBorder:!0,icon:(0,fe.jsx)(pa.A,{}),style:{marginLeft:"auto"},onClick:()=>l(f)}),O&&(0,fe.jsx)(Sa.AM,{centered:!0,source:Ce,spacing:16,onDismiss:()=>G(!1),children:(0,fe.jsx)(Zr,{color:f.properties?.style?.color||"#3388FF",onChange:ke})}),W&&(0,fe.jsx)(Sa.AM,{centered:!0,source:de,onDismiss:()=>Y(!1),style:{width:"200px",padding:"16px"},children:(0,fe.jsxs)(kn.s,{gap:"12px",children:[(0,fe.jsxs)(Un.o,{children:["Width (",f.properties?.style?.weight||1,"):"," "]}),(0,fe.jsx)(yi,{min:.1,max:10,step:.1,defaultValue:f.properties?.style?.weight||1,onChangeComplete:Be=>x(Be,f)})]})})]})},ko=f=>{try{f=f.trim();const p=JSON.parse(f);return(0,gu.valid)(p)?p:null}catch(p){return console.log(p),null}},Sl=({onUpload:f})=>{const p=(0,H.useRef)(null),[l,x]=(0,H.useState)(),O=W=>{const Y=new FileReader;if(W.target.files&&W.target.files.length){Y.readAsText(W.target.files[0],"UTF-8");let Ce=W.target.files[0].name;Y.onload=de=>{if(de.target?.result){const ke=ko(de.target.result.toString());ke&&(x({name:Ce,geoJSON:ke}),f?.({name:Ce,geoJSON:ke}))}}}},G=()=>{p.current?.click()};return(0,fe.jsxs)(fe.Fragment,{children:[(0,fe.jsx)("input",{type:"file",ref:p,onChange:O,style:{visibility:"hidden",height:0}}),(0,fe.jsx)(fi.$,{style:{width:"100%"},onClick:G,startIcon:(0,fe.jsx)(Xa.A,{}),children:l?l.name:"Upload GeoJSON..."}),(0,fe.jsx)("br",{})]})},as=(f,p)=>{const l=`data:text/json;chatset=utf-8,${encodeURIComponent(JSON.stringify(f))}`,x=document.createElement("a");x.href=l,x.download=p?`${p}.json`:`geojson-${new Date().getMilliseconds()}.json`,x.click()},bu=({data:f,name:p})=>{const l=()=>{as(f,p)};return(0,fe.jsxs)(fe.Fragment,{children:[(0,fe.jsx)("br",{}),(0,fe.jsx)(fi.$,{style:{width:"100%"},onClick:l,startIcon:(0,fe.jsx)(Bs.A,{}),children:"Export file"})]})},Dl=({setList:f,geojson:p,handleWeightChange:l,handleFeatureRemove:x,handleColorChange:O,onFeaturesUpload:G})=>(0,fe.jsxs)(oa.a,{style:{width:"240px",overflow:"auto",padding:"0 20px",position:"relative"},children:[(0,fe.jsxs)(Un.o,{variant:"pi",fontWeight:"bold",children:[p.features.length," Features"]}),(0,fe.jsx)(Sl,{onUpload:G}),(0,fe.jsx)(es.ReactSortable,{style:{display:"flex",width:"100%",flexDirection:"column",gap:"8px",maxHeight:"500px",overflowX:"hidden",overflowY:"auto",height:"auto"},list:p.features,setList:f,children:p.features.map((W,Y)=>(0,fe.jsx)(Al,{feature:W,handleWeightChange:l,handleRemove:x,handleChange:O},Y))}),(0,fe.jsx)(bu,{data:p,name:""})]}),Pl=f=>typeof f.longitute=="number"&&typeof f.latitude=="number"&&typeof f.zoom=="number",Tl=({children:f})=>{const[p,l]=(0,H.useState)(!1);return(0,fe.jsxs)(fe.Fragment,{children:[(0,fe.jsx)(kn.s,{justifyContent:"flex-end",style:{margin:"20px 0",width:"100%"},children:(0,fe.jsx)(fi.$,{onClick:()=>l(x=>!x),variant:"tertiary",endIcon:(0,fe.jsx)(As.A,{}),children:"Expand"})}),!p&&f,p&&(0,fe.jsxs)(Io.k,{style:{width:"90vw"},onClose:()=>l(x=>!x),labelledBy:"title",children:[(0,fe.jsx)(ji.r,{children:(0,fe.jsx)(Un.o,{fontWeight:"bold",textColor:"neutral800",as:"h2",id:"title",children:"Add/Edit map data"})}),(0,fe.jsx)(No.c,{children:f}),(0,fe.jsx)(ho.j,{endActions:(0,fe.jsx)(fi.$,{variant:"tertiary",endIcon:(0,fe.jsx)(qo.A,{}),onClick:()=>l(x=>!x),children:"Collapse"})})]})]})},Rl=f=>{const p=(0,El.u)();(0,H.useEffect)(()=>{const ue=f.value?JSON.parse(f.value):null;ue&&O(ue)},[f.value]);const l=(0,H.useRef)(null),[x,O]=H.useState({type:"FeatureCollection",features:[]}),{formatMessage:G}=bn(),{optionsLatitude:W,optionsLongitude:Y,optionsZoom:Ce,optionsTileURL:de,optionsTileAttribution:ke,optionsTileAccessToken:Be}=f.attribute,Me={latitude:W,longitude:Y,zoom:Ce,tileUrl:de,tileAttribution:ke,tileAccessToken:Be},ve=p?{latitude:p.defaultLatitude,longitude:p.defaultLongitude,zoom:p.defaultZoom,tileUrl:p.defaultTileURL,tileAttribution:p.defaultTileAttribution,tileAccessToken:p.defaultTileAccessToken}:{},me=Pl(Me)?{zoom:Me.zoom,center:[Me.latitude,Me.longitude],tileUrl:Me.tileUrl,tileAttribution:Me.tileAttribution,tileAccessToken:Me.tileAccessToken}:{zoom:ve.zoom,center:[ve.latitude,ve.longitude],tileUrl:ve.tileUrl,tileAttribution:ve.tileAttribution,tileAccessToken:ve.tileAccessToken},le=ue=>{O(ue),f.onChange({target:{name:f.name,value:JSON.stringify(ue),type:f.attribute.type}})},ge=(ue,qe)=>{const tt=x.features.findIndex(Ct=>Dn.isEqual(Ct.geometry,qe.geometry));if(tt>=0){const Ct=yu.cloneDeep(x);Ct.features.splice(tt,1,{...qe,properties:{...qe.properties,style:{...qe?.properties?.style,color:ue.hex}}}),le(Ct),l.current?.setStyle({color:ue.hex},tt)}},he=(ue,qe)=>{const tt=x.features.findIndex(Ct=>Dn.isEqual(Ct,qe));if(tt>=0){const Ct=yu.cloneDeep(x);Ct.features.splice(tt,1,{...qe,properties:{...qe.properties,style:{...qe?.properties?.style,weight:ue}}}),l.current?.setStyle({weight:ue},tt),le(Ct)}},oe=ue=>{const qe={type:"FeatureCollection",features:x.features.filter(Ct=>!Dn.isEqual(Ct,ue))},tt=x.features.findIndex(Ct=>Dn.isEqual(Ct,ue));tt>=0&&l.current?.removeLayer(tt),le(qe)},Ie=ue=>{const qe={...x,features:[...x.features,...ue.geoJSON.features]};l.current?.resetLayers(qe),le(qe)},Xe=ue=>{const qe={type:"FeatureCollection",features:ue};l.current?.resetLayers(qe),O(qe)};return(0,fe.jsxs)(fe.Fragment,{children:[(0,fe.jsx)(Un.o,{variant:"pi",fontWeight:"bold",children:G(f.intlLabel)}),!p&&(0,fe.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,fe.jsx)(Go.a,{small:!0})}),!!p&&(0,fe.jsx)(Tl,{children:(0,fe.jsxs)(oa.a,{style:{display:"flex",height:"90vh"},children:[(0,fe.jsx)(oa.a,{style:{width:"calc(100% - 240px)"},children:(0,fe.jsxs)(rr,{zoom:me.zoom,center:me.center,children:[(0,fe.jsx)(Ar,{attribution:me.tileAttribution,url:me.tileUrl,accessToken:me.tileAccessToken}),(0,fe.jsx)(Ml,{ref:l,geojson:x,setGeojson:le})]})}),(0,fe.jsx)(Dl,{geojson:x,setList:Xe,handleWeightChange:he,handleFeatureRemove:oe,handleColorChange:ge,onFeaturesUpload:Ie})]})})]})}}}]);
