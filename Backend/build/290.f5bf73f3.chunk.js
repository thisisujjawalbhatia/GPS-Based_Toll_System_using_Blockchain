(self.webpackChunktoll_backend=self.webpackChunktoll_backend||[]).push([[290],{71969:(f,M,e)=>{"use strict";const t=e(6515),h=Symbol("max"),i=Symbol("length"),u=Symbol("lengthCalculator"),c=Symbol("allowStale"),s=Symbol("maxAge"),n=Symbol("dispose"),a=Symbol("noDisposeOnSet"),r=Symbol("lruList"),l=Symbol("cache"),d=Symbol("updateAgeOnGet"),p=()=>1;class x{constructor(o){if(typeof o=="number"&&(o={max:o}),o||(o={}),o.max&&(typeof o.max!="number"||o.max<0))throw new TypeError("max must be a non-negative number");const y=this[h]=o.max||1/0,v=o.length||p;if(this[u]=typeof v!="function"?p:v,this[c]=o.stale||!1,o.maxAge&&typeof o.maxAge!="number")throw new TypeError("maxAge must be a number");this[s]=o.maxAge||0,this[n]=o.dispose,this[a]=o.noDisposeOnSet||!1,this[d]=o.updateAgeOnGet||!1,this.reset()}set max(o){if(typeof o!="number"||o<0)throw new TypeError("max must be a non-negative number");this[h]=o||1/0,D(this)}get max(){return this[h]}set allowStale(o){this[c]=!!o}get allowStale(){return this[c]}set maxAge(o){if(typeof o!="number")throw new TypeError("maxAge must be a non-negative number");this[s]=o,D(this)}get maxAge(){return this[s]}set lengthCalculator(o){typeof o!="function"&&(o=p),o!==this[u]&&(this[u]=o,this[i]=0,this[r].forEach(y=>{y.length=this[u](y.value,y.key),this[i]+=y.length})),D(this)}get lengthCalculator(){return this[u]}get length(){return this[i]}get itemCount(){return this[r].length}rforEach(o,y){y=y||this;for(let v=this[r].tail;v!==null;){const R=v.prev;H(this,o,v,y),v=R}}forEach(o,y){y=y||this;for(let v=this[r].head;v!==null;){const R=v.next;H(this,o,v,y),v=R}}keys(){return this[r].toArray().map(o=>o.key)}values(){return this[r].toArray().map(o=>o.value)}reset(){this[n]&&this[r]&&this[r].length&&this[r].forEach(o=>this[n](o.key,o.value)),this[l]=new Map,this[r]=new t,this[i]=0}dump(){return this[r].map(o=>W(this,o)?!1:{k:o.key,v:o.value,e:o.now+(o.maxAge||0)}).toArray().filter(o=>o)}dumpLru(){return this[r]}set(o,y,v){if(v=v||this[s],v&&typeof v!="number")throw new TypeError("maxAge must be a number");const R=v?Date.now():0,P=this[u](y,o);if(this[l].has(o)){if(P>this[h])return I(this,this[l].get(o)),!1;const ne=this[l].get(o).value;return this[n]&&(this[a]||this[n](o,ne.value)),ne.now=R,ne.maxAge=v,ne.value=y,this[i]+=P-ne.length,ne.length=P,this.get(o),D(this),!0}const _=new Z(o,y,P,R,v);return _.length>this[h]?(this[n]&&this[n](o,y),!1):(this[i]+=_.length,this[r].unshift(_),this[l].set(o,this[r].head),D(this),!0)}has(o){if(!this[l].has(o))return!1;const y=this[l].get(o).value;return!W(this,y)}get(o){return A(this,o,!0)}peek(o){return A(this,o,!1)}pop(){const o=this[r].tail;return o?(I(this,o),o.value):null}del(o){I(this,this[l].get(o))}load(o){this.reset();const y=Date.now();for(let v=o.length-1;v>=0;v--){const R=o[v],P=R.e||0;if(P===0)this.set(R.k,R.v);else{const _=P-y;_>0&&this.set(R.k,R.v,_)}}}prune(){this[l].forEach((o,y)=>A(this,y,!1))}}const A=(T,o,y)=>{const v=T[l].get(o);if(v){const R=v.value;if(W(T,R)){if(I(T,v),!T[c])return}else y&&(T[d]&&(v.value.now=Date.now()),T[r].unshiftNode(v));return R.value}},W=(T,o)=>{if(!o||!o.maxAge&&!T[s])return!1;const y=Date.now()-o.now;return o.maxAge?y>o.maxAge:T[s]&&y>T[s]},D=T=>{if(T[i]>T[h])for(let o=T[r].tail;T[i]>T[h]&&o!==null;){const y=o.prev;I(T,o),o=y}},I=(T,o)=>{if(o){const y=o.value;T[n]&&T[n](y.key,y.value),T[i]-=y.length,T[l].delete(y.key),T[r].removeNode(o)}};class Z{constructor(o,y,v,R,P){this.key=o,this.value=y,this.length=v,this.now=R,this.maxAge=P||0}}const H=(T,o,y,v)=>{let R=y.value;W(T,R)&&(I(T,y),T[c]||(R=void 0)),R&&o.call(v,R.value,R.key,T)};f.exports=x},99260:(f,M,e)=>{const t=Symbol("SemVer ANY");class h{static get ANY(){return t}constructor(d,p){if(p=i(p),d instanceof h){if(d.loose===!!p.loose)return d;d=d.value}d=d.trim().split(/\s+/).join(" "),n("comparator",d,p),this.options=p,this.loose=!!p.loose,this.parse(d),this.semver===t?this.value="":this.value=this.operator+this.semver.version,n("comp",this)}parse(d){const p=this.options.loose?u[c.COMPARATORLOOSE]:u[c.COMPARATOR],x=d.match(p);if(!x)throw new TypeError(`Invalid comparator: ${d}`);this.operator=x[1]!==void 0?x[1]:"",this.operator==="="&&(this.operator=""),x[2]?this.semver=new a(x[2],this.options.loose):this.semver=t}toString(){return this.value}test(d){if(n("Comparator.test",d,this.options.loose),this.semver===t||d===t)return!0;if(typeof d=="string")try{d=new a(d,this.options)}catch{return!1}return s(d,this.operator,this.semver,this.options)}intersects(d,p){if(!(d instanceof h))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new r(d.value,p).test(this.value):d.operator===""?d.value===""?!0:new r(this.value,p).test(d.semver):(p=i(p),p.includePrerelease&&(this.value==="<0.0.0-0"||d.value==="<0.0.0-0")||!p.includePrerelease&&(this.value.startsWith("<0.0.0")||d.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&d.operator.startsWith(">")||this.operator.startsWith("<")&&d.operator.startsWith("<")||this.semver.version===d.semver.version&&this.operator.includes("=")&&d.operator.includes("=")||s(this.semver,"<",d.semver,p)&&this.operator.startsWith(">")&&d.operator.startsWith("<")||s(this.semver,">",d.semver,p)&&this.operator.startsWith("<")&&d.operator.startsWith(">")))}}f.exports=h;const i=e(1231),{safeRe:u,t:c}=e(88618),s=e(96763),n=e(47180),a=e(85968),r=e(2547)},2547:(f,M,e)=>{class t{constructor(g,E){if(E=u(E),g instanceof t)return g.loose===!!E.loose&&g.includePrerelease===!!E.includePrerelease?g:new t(g.raw,E);if(g instanceof c)return this.raw=g.value,this.set=[[g]],this.format(),this;if(this.options=E,this.loose=!!E.loose,this.includePrerelease=!!E.includePrerelease,this.raw=g.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(S=>this.parseRange(S.trim())).filter(S=>S.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const S=this.set[0];if(this.set=this.set.filter($=>!W($[0])),this.set.length===0)this.set=[S];else if(this.set.length>1){for(const $ of this.set)if($.length===1&&D($[0])){this.set=[$];break}}}this.format()}format(){return this.range=this.set.map(g=>g.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(g){const S=((this.options.includePrerelease&&x)|(this.options.loose&&A))+":"+g,$=i.get(S);if($)return $;const j=this.options.loose,L=j?a[r.HYPHENRANGELOOSE]:a[r.HYPHENRANGE];g=g.replace(L,ne(this.options.includePrerelease)),s("hyphen replace",g),g=g.replace(a[r.COMPARATORTRIM],l),s("comparator trim",g),g=g.replace(a[r.TILDETRIM],d),s("tilde trim",g),g=g.replace(a[r.CARETTRIM],p),s("caret trim",g);let z=g.split(" ").map(X=>Z(X,this.options)).join(" ").split(/\s+/).map(X=>b(X,this.options));j&&(z=z.filter(X=>(s("loose invalid filter",X,this.options),!!X.match(a[r.COMPARATORLOOSE])))),s("range list",z);const N=new Map,Y=z.map(X=>new c(X,this.options));for(const X of Y){if(W(X))return[X];N.set(X.value,X)}N.size>1&&N.has("")&&N.delete("");const Q=[...N.values()];return i.set(S,Q),Q}intersects(g,E){if(!(g instanceof t))throw new TypeError("a Range is required");return this.set.some(S=>I(S,E)&&g.set.some($=>I($,E)&&S.every(j=>$.every(L=>j.intersects(L,E)))))}test(g){if(!g)return!1;if(typeof g=="string")try{g=new n(g,this.options)}catch{return!1}for(let E=0;E<this.set.length;E++)if(ce(this.set[E],g,this.options))return!0;return!1}}f.exports=t;const h=e(71969),i=new h({max:1e3}),u=e(1231),c=e(99260),s=e(47180),n=e(85968),{safeRe:a,t:r,comparatorTrimReplace:l,tildeTrimReplace:d,caretTrimReplace:p}=e(88618),{FLAG_INCLUDE_PRERELEASE:x,FLAG_LOOSE:A}=e(97718),W=m=>m.value==="<0.0.0-0",D=m=>m.value==="",I=(m,g)=>{let E=!0;const S=m.slice();let $=S.pop();for(;E&&S.length;)E=S.every(j=>$.intersects(j,g)),$=S.pop();return E},Z=(m,g)=>(s("comp",m,g),m=y(m,g),s("caret",m),m=T(m,g),s("tildes",m),m=R(m,g),s("xrange",m),m=_(m,g),s("stars",m),m),H=m=>!m||m.toLowerCase()==="x"||m==="*",T=(m,g)=>m.trim().split(/\s+/).map(E=>o(E,g)).join(" "),o=(m,g)=>{const E=g.loose?a[r.TILDELOOSE]:a[r.TILDE];return m.replace(E,(S,$,j,L,z)=>{s("tilde",m,S,$,j,L,z);let N;return H($)?N="":H(j)?N=`>=${$}.0.0 <${+$+1}.0.0-0`:H(L)?N=`>=${$}.${j}.0 <${$}.${+j+1}.0-0`:z?(s("replaceTilde pr",z),N=`>=${$}.${j}.${L}-${z} <${$}.${+j+1}.0-0`):N=`>=${$}.${j}.${L} <${$}.${+j+1}.0-0`,s("tilde return",N),N})},y=(m,g)=>m.trim().split(/\s+/).map(E=>v(E,g)).join(" "),v=(m,g)=>{s("caret",m,g);const E=g.loose?a[r.CARETLOOSE]:a[r.CARET],S=g.includePrerelease?"-0":"";return m.replace(E,($,j,L,z,N)=>{s("caret",m,$,j,L,z,N);let Y;return H(j)?Y="":H(L)?Y=`>=${j}.0.0${S} <${+j+1}.0.0-0`:H(z)?j==="0"?Y=`>=${j}.${L}.0${S} <${j}.${+L+1}.0-0`:Y=`>=${j}.${L}.0${S} <${+j+1}.0.0-0`:N?(s("replaceCaret pr",N),j==="0"?L==="0"?Y=`>=${j}.${L}.${z}-${N} <${j}.${L}.${+z+1}-0`:Y=`>=${j}.${L}.${z}-${N} <${j}.${+L+1}.0-0`:Y=`>=${j}.${L}.${z}-${N} <${+j+1}.0.0-0`):(s("no pr"),j==="0"?L==="0"?Y=`>=${j}.${L}.${z}${S} <${j}.${L}.${+z+1}-0`:Y=`>=${j}.${L}.${z}${S} <${j}.${+L+1}.0-0`:Y=`>=${j}.${L}.${z} <${+j+1}.0.0-0`),s("caret return",Y),Y})},R=(m,g)=>(s("replaceXRanges",m,g),m.split(/\s+/).map(E=>P(E,g)).join(" ")),P=(m,g)=>{m=m.trim();const E=g.loose?a[r.XRANGELOOSE]:a[r.XRANGE];return m.replace(E,(S,$,j,L,z,N)=>{s("xRange",m,S,$,j,L,z,N);const Y=H(j),Q=Y||H(L),X=Q||H(z),J=X;return $==="="&&J&&($=""),N=g.includePrerelease?"-0":"",Y?$===">"||$==="<"?S="<0.0.0-0":S="*":$&&J?(Q&&(L=0),z=0,$===">"?($=">=",Q?(j=+j+1,L=0,z=0):(L=+L+1,z=0)):$==="<="&&($="<",Q?j=+j+1:L=+L+1),$==="<"&&(N="-0"),S=`${$+j}.${L}.${z}${N}`):Q?S=`>=${j}.0.0${N} <${+j+1}.0.0-0`:X&&(S=`>=${j}.${L}.0${N} <${j}.${+L+1}.0-0`),s("xRange return",S),S})},_=(m,g)=>(s("replaceStars",m,g),m.trim().replace(a[r.STAR],"")),b=(m,g)=>(s("replaceGTE0",m,g),m.trim().replace(a[g.includePrerelease?r.GTE0PRE:r.GTE0],"")),ne=m=>(g,E,S,$,j,L,z,N,Y,Q,X,J,xe)=>(H(S)?E="":H($)?E=`>=${S}.0.0${m?"-0":""}`:H(j)?E=`>=${S}.${$}.0${m?"-0":""}`:L?E=`>=${E}`:E=`>=${E}${m?"-0":""}`,H(Y)?N="":H(Q)?N=`<${+Y+1}.0.0-0`:H(X)?N=`<${Y}.${+Q+1}.0-0`:J?N=`<=${Y}.${Q}.${X}-${J}`:m?N=`<${Y}.${Q}.${+X+1}-0`:N=`<=${N}`,`${E} ${N}`.trim()),ce=(m,g,E)=>{for(let S=0;S<m.length;S++)if(!m[S].test(g))return!1;if(g.prerelease.length&&!E.includePrerelease){for(let S=0;S<m.length;S++)if(s(m[S].semver),m[S].semver!==c.ANY&&m[S].semver.prerelease.length>0){const $=m[S].semver;if($.major===g.major&&$.minor===g.minor&&$.patch===g.patch)return!0}return!1}return!0}},64530:(f,M,e)=>{const t=e(1660),h=(i,u)=>{const c=t(i.trim().replace(/^[=v]+/,""),u);return c?c.version:null};f.exports=h},96763:(f,M,e)=>{const t=e(14149),h=e(37075),i=e(79656),u=e(52869),c=e(55151),s=e(2972),n=(a,r,l,d)=>{switch(r){case"===":return typeof a=="object"&&(a=a.version),typeof l=="object"&&(l=l.version),a===l;case"!==":return typeof a=="object"&&(a=a.version),typeof l=="object"&&(l=l.version),a!==l;case"":case"=":case"==":return t(a,l,d);case"!=":return h(a,l,d);case">":return i(a,l,d);case">=":return u(a,l,d);case"<":return c(a,l,d);case"<=":return s(a,l,d);default:throw new TypeError(`Invalid operator: ${r}`)}};f.exports=n},73182:(f,M,e)=>{const t=e(85968),h=e(1660),{safeRe:i,t:u}=e(88618),c=(s,n)=>{if(s instanceof t)return s;if(typeof s=="number"&&(s=String(s)),typeof s!="string")return null;n=n||{};let a=null;if(!n.rtl)a=s.match(i[u.COERCE]);else{let r;for(;(r=i[u.COERCERTL].exec(s))&&(!a||a.index+a[0].length!==s.length);)(!a||r.index+r[0].length!==a.index+a[0].length)&&(a=r),i[u.COERCERTL].lastIndex=r.index+r[1].length+r[2].length;i[u.COERCERTL].lastIndex=-1}return a===null?null:h(`${a[2]}.${a[3]||"0"}.${a[4]||"0"}`,n)};f.exports=c},41833:(f,M,e)=>{const t=e(85968),h=(i,u,c)=>{const s=new t(i,c),n=new t(u,c);return s.compare(n)||s.compareBuild(n)};f.exports=h},41607:(f,M,e)=>{const t=e(39100),h=(i,u)=>t(i,u,!0);f.exports=h},96924:(f,M,e)=>{const t=e(1660),h=(i,u)=>{const c=t(i,null,!0),s=t(u,null,!0),n=c.compare(s);if(n===0)return null;const a=n>0,r=a?c:s,l=a?s:c,d=!!r.prerelease.length;if(!!l.prerelease.length&&!d)return!l.patch&&!l.minor?"major":r.patch?"patch":r.minor?"minor":"major";const x=d?"pre":"";return c.major!==s.major?x+"major":c.minor!==s.minor?x+"minor":c.patch!==s.patch?x+"patch":"prerelease"};f.exports=h},14149:(f,M,e)=>{const t=e(39100),h=(i,u,c)=>t(i,u,c)===0;f.exports=h},79656:(f,M,e)=>{const t=e(39100),h=(i,u,c)=>t(i,u,c)>0;f.exports=h},52869:(f,M,e)=>{const t=e(39100),h=(i,u,c)=>t(i,u,c)>=0;f.exports=h},78203:(f,M,e)=>{const t=e(85968),h=(i,u,c,s,n)=>{typeof c=="string"&&(n=s,s=c,c=void 0);try{return new t(i instanceof t?i.version:i,c).inc(u,s,n).version}catch{return null}};f.exports=h},2972:(f,M,e)=>{const t=e(39100),h=(i,u,c)=>t(i,u,c)<=0;f.exports=h},55182:(f,M,e)=>{const t=e(85968),h=(i,u)=>new t(i,u).major;f.exports=h},93546:(f,M,e)=>{const t=e(85968),h=(i,u)=>new t(i,u).minor;f.exports=h},37075:(f,M,e)=>{const t=e(39100),h=(i,u,c)=>t(i,u,c)!==0;f.exports=h},60185:(f,M,e)=>{const t=e(85968),h=(i,u)=>new t(i,u).patch;f.exports=h},45349:(f,M,e)=>{const t=e(1660),h=(i,u)=>{const c=t(i,u);return c&&c.prerelease.length?c.prerelease:null};f.exports=h},16454:(f,M,e)=>{const t=e(39100),h=(i,u,c)=>t(u,i,c);f.exports=h},28953:(f,M,e)=>{const t=e(41833),h=(i,u)=>i.sort((c,s)=>t(s,c,u));f.exports=h},26434:(f,M,e)=>{const t=e(2547),h=(i,u,c)=>{try{u=new t(u,c)}catch{return!1}return u.test(i)};f.exports=h},8051:(f,M,e)=>{const t=e(41833),h=(i,u)=>i.sort((c,s)=>t(c,s,u));f.exports=h},35225:(f,M,e)=>{const t=e(88618),h=e(97718),i=e(85968),u=e(46087),c=e(1660),s=e(79077),n=e(64530),a=e(78203),r=e(96924),l=e(55182),d=e(93546),p=e(60185),x=e(45349),A=e(39100),W=e(16454),D=e(41607),I=e(41833),Z=e(8051),H=e(28953),T=e(79656),o=e(55151),y=e(14149),v=e(37075),R=e(52869),P=e(2972),_=e(96763),b=e(73182),ne=e(99260),ce=e(2547),m=e(26434),g=e(12419),E=e(98536),S=e(79762),$=e(50777),j=e(35902),L=e(38079),z=e(99367),N=e(61010),Y=e(73328),Q=e(27009),X=e(62508);f.exports={parse:c,valid:s,clean:n,inc:a,diff:r,major:l,minor:d,patch:p,prerelease:x,compare:A,rcompare:W,compareLoose:D,compareBuild:I,sort:Z,rsort:H,gt:T,lt:o,eq:y,neq:v,gte:R,lte:P,cmp:_,coerce:b,Comparator:ne,Range:ce,satisfies:m,toComparators:g,maxSatisfying:E,minSatisfying:S,minVersion:$,validRange:j,outside:L,gtr:z,ltr:N,intersects:Y,simplifyRange:Q,subset:X,SemVer:i,re:t.re,src:t.src,tokens:t.t,SEMVER_SPEC_VERSION:h.SEMVER_SPEC_VERSION,RELEASE_TYPES:h.RELEASE_TYPES,compareIdentifiers:u.compareIdentifiers,rcompareIdentifiers:u.rcompareIdentifiers}},99367:(f,M,e)=>{const t=e(38079),h=(i,u,c)=>t(i,u,">",c);f.exports=h},73328:(f,M,e)=>{const t=e(2547),h=(i,u,c)=>(i=new t(i,c),u=new t(u,c),i.intersects(u,c));f.exports=h},61010:(f,M,e)=>{const t=e(38079),h=(i,u,c)=>t(i,u,"<",c);f.exports=h},98536:(f,M,e)=>{const t=e(85968),h=e(2547),i=(u,c,s)=>{let n=null,a=null,r=null;try{r=new h(c,s)}catch{return null}return u.forEach(l=>{r.test(l)&&(!n||a.compare(l)===-1)&&(n=l,a=new t(n,s))}),n};f.exports=i},79762:(f,M,e)=>{const t=e(85968),h=e(2547),i=(u,c,s)=>{let n=null,a=null,r=null;try{r=new h(c,s)}catch{return null}return u.forEach(l=>{r.test(l)&&(!n||a.compare(l)===1)&&(n=l,a=new t(n,s))}),n};f.exports=i},50777:(f,M,e)=>{const t=e(85968),h=e(2547),i=e(79656),u=(c,s)=>{c=new h(c,s);let n=new t("0.0.0");if(c.test(n)||(n=new t("0.0.0-0"),c.test(n)))return n;n=null;for(let a=0;a<c.set.length;++a){const r=c.set[a];let l=null;r.forEach(d=>{const p=new t(d.semver.version);switch(d.operator){case">":p.prerelease.length===0?p.patch++:p.prerelease.push(0),p.raw=p.format();case"":case">=":(!l||i(p,l))&&(l=p);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${d.operator}`)}}),l&&(!n||i(n,l))&&(n=l)}return n&&c.test(n)?n:null};f.exports=u},38079:(f,M,e)=>{const t=e(85968),h=e(99260),{ANY:i}=h,u=e(2547),c=e(26434),s=e(79656),n=e(55151),a=e(2972),r=e(52869),l=(d,p,x,A)=>{d=new t(d,A),p=new u(p,A);let W,D,I,Z,H;switch(x){case">":W=s,D=a,I=n,Z=">",H=">=";break;case"<":W=n,D=r,I=s,Z="<",H="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(c(d,p,A))return!1;for(let T=0;T<p.set.length;++T){const o=p.set[T];let y=null,v=null;if(o.forEach(R=>{R.semver===i&&(R=new h(">=0.0.0")),y=y||R,v=v||R,W(R.semver,y.semver,A)?y=R:I(R.semver,v.semver,A)&&(v=R)}),y.operator===Z||y.operator===H||(!v.operator||v.operator===Z)&&D(d,v.semver))return!1;if(v.operator===H&&I(d,v.semver))return!1}return!0};f.exports=l},27009:(f,M,e)=>{const t=e(26434),h=e(39100);f.exports=(i,u,c)=>{const s=[];let n=null,a=null;const r=i.sort((x,A)=>h(x,A,c));for(const x of r)t(x,u,c)?(a=x,n||(n=x)):(a&&s.push([n,a]),a=null,n=null);n&&s.push([n,null]);const l=[];for(const[x,A]of s)x===A?l.push(x):!A&&x===r[0]?l.push("*"):A?x===r[0]?l.push(`<=${A}`):l.push(`${x} - ${A}`):l.push(`>=${x}`);const d=l.join(" || "),p=typeof u.raw=="string"?u.raw:String(u);return d.length<p.length?d:u}},62508:(f,M,e)=>{const t=e(2547),h=e(99260),{ANY:i}=h,u=e(26434),c=e(39100),s=(p,x,A={})=>{if(p===x)return!0;p=new t(p,A),x=new t(x,A);let W=!1;e:for(const D of p.set){for(const I of x.set){const Z=r(D,I,A);if(W=W||Z!==null,Z)continue e}if(W)return!1}return!0},n=[new h(">=0.0.0-0")],a=[new h(">=0.0.0")],r=(p,x,A)=>{if(p===x)return!0;if(p.length===1&&p[0].semver===i){if(x.length===1&&x[0].semver===i)return!0;A.includePrerelease?p=n:p=a}if(x.length===1&&x[0].semver===i){if(A.includePrerelease)return!0;x=a}const W=new Set;let D,I;for(const P of p)P.operator===">"||P.operator===">="?D=l(D,P,A):P.operator==="<"||P.operator==="<="?I=d(I,P,A):W.add(P.semver);if(W.size>1)return null;let Z;if(D&&I){if(Z=c(D.semver,I.semver,A),Z>0)return null;if(Z===0&&(D.operator!==">="||I.operator!=="<="))return null}for(const P of W){if(D&&!u(P,String(D),A)||I&&!u(P,String(I),A))return null;for(const _ of x)if(!u(P,String(_),A))return!1;return!0}let H,T,o,y,v=I&&!A.includePrerelease&&I.semver.prerelease.length?I.semver:!1,R=D&&!A.includePrerelease&&D.semver.prerelease.length?D.semver:!1;v&&v.prerelease.length===1&&I.operator==="<"&&v.prerelease[0]===0&&(v=!1);for(const P of x){if(y=y||P.operator===">"||P.operator===">=",o=o||P.operator==="<"||P.operator==="<=",D){if(R&&P.semver.prerelease&&P.semver.prerelease.length&&P.semver.major===R.major&&P.semver.minor===R.minor&&P.semver.patch===R.patch&&(R=!1),P.operator===">"||P.operator===">="){if(H=l(D,P,A),H===P&&H!==D)return!1}else if(D.operator===">="&&!u(D.semver,String(P),A))return!1}if(I){if(v&&P.semver.prerelease&&P.semver.prerelease.length&&P.semver.major===v.major&&P.semver.minor===v.minor&&P.semver.patch===v.patch&&(v=!1),P.operator==="<"||P.operator==="<="){if(T=d(I,P,A),T===P&&T!==I)return!1}else if(I.operator==="<="&&!u(I.semver,String(P),A))return!1}if(!P.operator&&(I||D)&&Z!==0)return!1}return!(D&&o&&!I&&Z!==0||I&&y&&!D&&Z!==0||R||v)},l=(p,x,A)=>{if(!p)return x;const W=c(p.semver,x.semver,A);return W>0?p:W<0||x.operator===">"&&p.operator===">="?x:p},d=(p,x,A)=>{if(!p)return x;const W=c(p.semver,x.semver,A);return W<0?p:W>0||x.operator==="<"&&p.operator==="<="?x:p};f.exports=s},12419:(f,M,e)=>{const t=e(2547),h=(i,u)=>new t(i,u).set.map(c=>c.map(s=>s.value).join(" ").trim().split(" "));f.exports=h},35902:(f,M,e)=>{const t=e(2547),h=(i,u)=>{try{return new t(i,u).range||"*"}catch{return null}};f.exports=h},83479:f=>{"use strict";f.exports=function(M){M.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},6515:(f,M,e)=>{"use strict";f.exports=t,t.Node=c,t.create=t;function t(s){var n=this;if(n instanceof t||(n=new t),n.tail=null,n.head=null,n.length=0,s&&typeof s.forEach=="function")s.forEach(function(l){n.push(l)});else if(arguments.length>0)for(var a=0,r=arguments.length;a<r;a++)n.push(arguments[a]);return n}t.prototype.removeNode=function(s){if(s.list!==this)throw new Error("removing node which does not belong to this list");var n=s.next,a=s.prev;return n&&(n.prev=a),a&&(a.next=n),s===this.head&&(this.head=n),s===this.tail&&(this.tail=a),s.list.length--,s.next=null,s.prev=null,s.list=null,n},t.prototype.unshiftNode=function(s){if(s!==this.head){s.list&&s.list.removeNode(s);var n=this.head;s.list=this,s.next=n,n&&(n.prev=s),this.head=s,this.tail||(this.tail=s),this.length++}},t.prototype.pushNode=function(s){if(s!==this.tail){s.list&&s.list.removeNode(s);var n=this.tail;s.list=this,s.prev=n,n&&(n.next=s),this.tail=s,this.head||(this.head=s),this.length++}},t.prototype.push=function(){for(var s=0,n=arguments.length;s<n;s++)i(this,arguments[s]);return this.length},t.prototype.unshift=function(){for(var s=0,n=arguments.length;s<n;s++)u(this,arguments[s]);return this.length},t.prototype.pop=function(){if(this.tail){var s=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,s}},t.prototype.shift=function(){if(this.head){var s=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,s}},t.prototype.forEach=function(s,n){n=n||this;for(var a=this.head,r=0;a!==null;r++)s.call(n,a.value,r,this),a=a.next},t.prototype.forEachReverse=function(s,n){n=n||this;for(var a=this.tail,r=this.length-1;a!==null;r--)s.call(n,a.value,r,this),a=a.prev},t.prototype.get=function(s){for(var n=0,a=this.head;a!==null&&n<s;n++)a=a.next;if(n===s&&a!==null)return a.value},t.prototype.getReverse=function(s){for(var n=0,a=this.tail;a!==null&&n<s;n++)a=a.prev;if(n===s&&a!==null)return a.value},t.prototype.map=function(s,n){n=n||this;for(var a=new t,r=this.head;r!==null;)a.push(s.call(n,r.value,this)),r=r.next;return a},t.prototype.mapReverse=function(s,n){n=n||this;for(var a=new t,r=this.tail;r!==null;)a.push(s.call(n,r.value,this)),r=r.prev;return a},t.prototype.reduce=function(s,n){var a,r=this.head;if(arguments.length>1)a=n;else if(this.head)r=this.head.next,a=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var l=0;r!==null;l++)a=s(a,r.value,l),r=r.next;return a},t.prototype.reduceReverse=function(s,n){var a,r=this.tail;if(arguments.length>1)a=n;else if(this.tail)r=this.tail.prev,a=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var l=this.length-1;r!==null;l--)a=s(a,r.value,l),r=r.prev;return a},t.prototype.toArray=function(){for(var s=new Array(this.length),n=0,a=this.head;a!==null;n++)s[n]=a.value,a=a.next;return s},t.prototype.toArrayReverse=function(){for(var s=new Array(this.length),n=0,a=this.tail;a!==null;n++)s[n]=a.value,a=a.prev;return s},t.prototype.slice=function(s,n){n=n||this.length,n<0&&(n+=this.length),s=s||0,s<0&&(s+=this.length);var a=new t;if(n<s||n<0)return a;s<0&&(s=0),n>this.length&&(n=this.length);for(var r=0,l=this.head;l!==null&&r<s;r++)l=l.next;for(;l!==null&&r<n;r++,l=l.next)a.push(l.value);return a},t.prototype.sliceReverse=function(s,n){n=n||this.length,n<0&&(n+=this.length),s=s||0,s<0&&(s+=this.length);var a=new t;if(n<s||n<0)return a;s<0&&(s=0),n>this.length&&(n=this.length);for(var r=this.length,l=this.tail;l!==null&&r>n;r--)l=l.prev;for(;l!==null&&r>s;r--,l=l.prev)a.push(l.value);return a},t.prototype.splice=function(s,n,...a){s>this.length&&(s=this.length-1),s<0&&(s=this.length+s);for(var r=0,l=this.head;l!==null&&r<s;r++)l=l.next;for(var d=[],r=0;l&&r<n;r++)d.push(l.value),l=this.removeNode(l);l===null&&(l=this.tail),l!==this.head&&l!==this.tail&&(l=l.prev);for(var r=0;r<a.length;r++)l=h(this,l,a[r]);return d},t.prototype.reverse=function(){for(var s=this.head,n=this.tail,a=s;a!==null;a=a.prev){var r=a.prev;a.prev=a.next,a.next=r}return this.head=n,this.tail=s,this};function h(s,n,a){var r=n===s.head?new c(a,null,n,s):new c(a,n,n.next,s);return r.next===null&&(s.tail=r),r.prev===null&&(s.head=r),s.length++,r}function i(s,n){s.tail=new c(n,s.tail,null,s),s.head||(s.head=s.tail),s.length++}function u(s,n){s.head=new c(n,null,s.head,s),s.tail||(s.tail=s.head),s.length++}function c(s,n,a,r){if(!(this instanceof c))return new c(s,n,a,r);this.list=r,this.value=s,n?(n.next=this,this.prev=n):this.prev=null,a?(a.prev=this,this.next=a):this.next=null}try{e(83479)(t)}catch{}},30290:(f,M,e)=>{"use strict";e.r(M),e.d(M,{MarketplacePage:()=>Me,ProtectedMarketplacePage:()=>Ke});var t=e(92132),h=e(21272),i=e(94061),u=e(12493),c=e(52993),s=e(85963),n=e(83997),a=e(56654),r=e(30893),l=e(79739),d=e(58805),p=e(48653),x=e(43064),A=e(81035),W=e(90151),D=e(68074),I=e(55356),Z=e(42455),H=e(38413),T=e(48323),o=e(11273),y=e(4198),v=e(12081),R=e(12408),P=e(7297),_=e(24093),b=e(40273),ne=e(28604),ce=e(68802),m=e(85166),g=e(14595),E=e(54514),S=e(90625),$=e(40799),j=e(42386),L=e(93714),z=e(36481),N=e(89089);const Y=C=>(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 32 32",...C,children:[(0,t.jsx)("path",{fill:"#AC73E6",d:"M0 4a4 4 0 0 1 4-4h24a4 4 0 0 1 4 4v24a4 4 0 0 1-4 4H4a4 4 0 0 1-4-4V4Z"}),(0,t.jsx)("path",{fill:"#fff",fillRule:"evenodd",d:"M15.027 13.839c-3.19-.836-6.305-1.064-10.18-.608-1.215.152-1.063 1.975.076 2.203.304.836.456 2.355.912 3.267.987 2.279 5.622 1.975 7.369.835 1.14-.683 1.443-2.279 1.9-3.494.227-.684 1.595-.684 1.822 0 .38 1.215.76 2.81 1.9 3.494 1.747 1.14 6.381 1.444 7.369-.835.456-.912.607-2.431.911-3.267 1.14-.228 1.216-2.051.076-2.203-3.874-.456-6.989-.228-10.18.608-.455.075-1.519.075-1.975 0Z",clipRule:"evenodd"})]}),Q=Y;var X=e(14718),J=e(54894),xe=e(82437),ye=e(39229),Oe=e(58401),he=e(63891),je=e(49654),Ie=e(21835),ge=e(35225),Pe=e(5409),Se=e(74930),_e=e(15126),et=e(63299),tt=e(67014),st=e(59080),nt=e(79275),at=e(61535),rt=e(5790),it=e(12083),ot=e(35223),lt=e(2600),ct=e(48940),ht=e(41286),ut=e(56336),dt=e(13426),ft=e(84624),gt=e(77965),pt=e(54257),mt=e(71210),vt=e(51187),xt=e(39404),yt=e(58692),jt=e(501),Pt=e(57646),St=e(23120),$t=e(44414),Et=e(25962),At=e(14664),Rt=e(42588),Ct=e(90325),Mt=e(62785),Tt=e(87443),Lt=e(41032),Ot=e(22957),It=e(93179),Nt=e(73055),wt=e(15747),Dt=e(85306),Vt=e(26509),Bt=e(32058),Gt=e(81185),Ht=e(82261),zt=e(55151),Ft=e(79077);const Ne=({handleSelectClear:C,handleSelectChange:O,npmPackageType:V,possibleCategories:F,possibleCollections:B,query:U})=>{const[w,K]=h.useState(!1),se=h.useRef(null),{formatMessage:k}=(0,J.A)(),q=()=>K(G=>!G),ee=(G,te)=>{const oe={[te]:(U[te]??[]).filter(le=>le!==G)};O(oe)};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(i.a,{paddingTop:1,paddingBottom:1,children:[(0,t.jsx)(we,{variant:"tertiary",ref:se,startIcon:(0,t.jsx)(ne.A,{}),onClick:q,size:"S",children:k({id:"app.utils.filters",defaultMessage:"Filters"})}),w&&(0,t.jsx)(u.AM,{source:se,onDismiss:q,padding:3,spacing:4,children:(0,t.jsxs)(De,{direction:"column",alignItems:"stretch",gap:1,children:[(0,t.jsx)($e,{message:k({id:"admin.pages.MarketPlacePage.filters.collections",defaultMessage:"Collections"}),value:U?.collections||[],onChange:G=>{O({collections:G})},onClear:()=>C("collections"),possibleFilters:B,customizeContent:G=>k({id:"admin.pages.MarketPlacePage.filters.collectionsSelected",defaultMessage:"{count, plural, =0 {No collections} one {# collection} other {# collections}} selected"},{count:G?.length??0})}),V==="plugin"&&(0,t.jsx)($e,{message:k({id:"admin.pages.MarketPlacePage.filters.categories",defaultMessage:"Categories"}),value:U?.categories||[],onChange:G=>{O({categories:G})},onClear:()=>C("categories"),possibleFilters:F,customizeContent:G=>k({id:"admin.pages.MarketPlacePage.filters.categoriesSelected",defaultMessage:"{count, plural, =0 {No categories} one {# category} other {# categories}} selected"},{count:G?.length??0})})]})})]}),U.collections?.map(G=>(0,t.jsx)(i.a,{padding:1,children:(0,t.jsx)(c.v,{icon:(0,t.jsx)(ce.A,{}),onClick:()=>ee(G,"collections"),children:G})},G)),V==="plugin"&&U.categories?.map(G=>(0,t.jsx)(i.a,{padding:1,children:(0,t.jsx)(c.v,{icon:(0,t.jsx)(ce.A,{}),onClick:()=>ee(G,"categories"),children:G})},G))]})},we=(0,he.Ay)(s.$)`
  height: ${({theme:C})=>C.sizes.input.S};
`,De=(0,he.Ay)(n.s)`
  /* Hide the label, every input needs a label. */
  label {
    border: 0;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    overflow: hidden;
    padding: 0;
    position: absolute;
    width: 1px;
  }
`,$e=({message:C,value:O,onChange:V,possibleFilters:F,onClear:B,customizeContent:U})=>(0,t.jsx)(a.KF,{"data-testid":`${C}-button`,label:C,placeholder:C,size:"M",onChange:V,onClear:B,value:O,customizeContent:U,children:Object.entries(F).map(([w,K])=>(0,t.jsx)(a.fe,{"data-testid":`${w}-${K}`,value:w,children:`${w} (${K})`},w))}),Ve=(0,he.Ay)(r.o)`
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
  overflow: hidden;
`,Be=({npmPackage:C,isInstalled:O,useYarn:V,isInDevelopmentMode:F,npmPackageType:B,strapiAppVersion:U})=>{const{attributes:w}=C,{formatMessage:K}=(0,J.A)(),{trackUsage:se}=(0,b.z1)(),k=V?`yarn add ${w.npmPackageName}`:`npm install ${w.npmPackageName}`,q=K({id:"admin.pages.MarketPlacePage.plugin.tooltip.madeByStrapi",defaultMessage:"Made by Strapi"}),ee=`https://market.strapi.io/${Ie.plural(B)}/${w.slug}`,G=ge.validRange(w.strapiVersion),te=ge.satisfies(U??"",G??"");return(0,t.jsxs)(n.s,{direction:"column",justifyContent:"space-between",paddingTop:4,paddingRight:4,paddingBottom:4,paddingLeft:4,hasRadius:!0,background:"neutral0",shadow:"tableShadow",height:"100%",alignItems:"normal","data-testid":"npm-package-card",children:[(0,t.jsxs)(i.a,{children:[(0,t.jsxs)(n.s,{direction:"row",justifyContent:"space-between",alignItems:"flex-start",children:[(0,t.jsx)(i.a,{as:"img",src:w.logo.url,alt:`${w.name} logo`,hasRadius:!0,width:11,height:11}),(0,t.jsx)(ze,{githubStars:w.githubStars,npmDownloads:w.npmDownloads,npmPackageType:B})]}),(0,t.jsx)(i.a,{paddingTop:4,children:(0,t.jsx)(r.o,{as:"h3",variant:"delta",children:(0,t.jsxs)(n.s,{alignItems:"center",children:[w.name,w.validated&&!w.madeByStrapi&&(0,t.jsx)(l.m,{description:K({id:"admin.pages.MarketPlacePage.plugin.tooltip.verified",defaultMessage:"Plugin verified by Strapi"}),children:(0,t.jsx)(n.s,{children:(0,t.jsx)(d.I,{as:m.A,marginLeft:2,color:"success600"})})}),w.madeByStrapi&&(0,t.jsx)(l.m,{description:q,children:(0,t.jsx)(n.s,{children:(0,t.jsx)(i.a,{as:"img",src:ye.S,alt:q,marginLeft:1,width:6,height:"auto"})})})]})})}),(0,t.jsx)(i.a,{paddingTop:2,children:(0,t.jsx)(Ve,{as:"p",variant:"omega",textColor:"neutral600",children:w.description})})]}),(0,t.jsxs)(n.s,{gap:2,style:{alignSelf:"flex-end"},paddingTop:6,children:[(0,t.jsx)(je.z,{size:"S",href:ee,isExternal:!0,endIcon:(0,t.jsx)(g.A,{}),"aria-label":K({id:"admin.pages.MarketPlacePage.plugin.info.label",defaultMessage:"Learn more about {pluginName}"},{pluginName:w.name}),variant:"tertiary",onClick:()=>se("didPluginLearnMore"),children:K({id:"admin.pages.MarketPlacePage.plugin.info.text",defaultMessage:"More"})}),(0,t.jsx)(Ge,{isInstalled:O,isInDevelopmentMode:F,isCompatible:te,commandToCopy:k,strapiAppVersion:U,strapiPeerDepVersion:w.strapiVersion,pluginName:w.name})]})]})},Ge=({isInstalled:C,isInDevelopmentMode:O,isCompatible:V,commandToCopy:F,strapiAppVersion:B,strapiPeerDepVersion:U,pluginName:w})=>{const K=(0,b.hN)(),{formatMessage:se}=(0,J.A)(),{trackUsage:k}=(0,b.z1)(),{copy:q}=(0,b.iD)(),ee=async()=>{await q(F)&&(k("willInstallPlugin"),K({type:"success",message:{id:"admin.pages.MarketPlacePage.plugin.copy.success"}}))};return C?(0,t.jsxs)(i.a,{paddingLeft:4,children:[(0,t.jsx)(d.I,{as:E.A,marginRight:2,width:12,height:12,color:"success600"}),(0,t.jsx)(r.o,{variant:"omega",textColor:"success600",fontWeight:"bold",children:se({id:"admin.pages.MarketPlacePage.plugin.installed",defaultMessage:"Installed"})})]}):O&&V!==!1?(0,t.jsx)(He,{strapiAppVersion:B,strapiPeerDepVersion:U,handleCopy:ee,pluginName:w}):null},He=({strapiPeerDepVersion:C,strapiAppVersion:O,handleCopy:V,pluginName:F})=>{const{formatMessage:B}=(0,J.A)(),U=ge.validRange(C),w=ge.satisfies(O??"",U??""),K=B({id:"admin.pages.MarketPlacePage.plugin.copy",defaultMessage:"Copy install command"});return O&&(!U||!w)?(0,t.jsx)(l.m,{"data-testid":`tooltip-${F}`,description:U?B({id:"admin.pages.MarketPlacePage.plugin.version",defaultMessage:'Update your Strapi version: "{strapiAppVersion}" to: "{versionRange}"'},{strapiAppVersion:O,versionRange:U}):B({id:"admin.pages.MarketPlacePage.plugin.version.null",defaultMessage:'Unable to verify compatibility with your Strapi version: "{strapiAppVersion}"'},{strapiAppVersion:O}),children:(0,t.jsx)(s.$,{size:"S",startIcon:(0,t.jsx)(S.A,{}),variant:"secondary",onClick:V,disabled:!w,children:K})}):(0,t.jsx)(s.$,{size:"S",startIcon:(0,t.jsx)(S.A,{}),variant:"secondary",onClick:V,children:K})},ze=({githubStars:C=0,npmDownloads:O=0,npmPackageType:V})=>{const{formatMessage:F}=(0,J.A)();return(0,t.jsxs)(n.s,{gap:1,children:[!!C&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.I,{as:$.A,height:(0,b.a8)(12),width:(0,b.a8)(12),"aria-hidden":!0}),(0,t.jsx)(d.I,{as:j.A,height:(0,b.a8)(12),width:(0,b.a8)(12),color:"warning500","aria-hidden":!0}),(0,t.jsx)("p",{"aria-label":F({id:`admin.pages.MarketPlacePage.${V}.githubStars`,defaultMessage:"This {package} was starred {starsCount} on GitHub"},{starsCount:C,package:V}),children:(0,t.jsx)(r.o,{variant:"pi",textColor:"neutral800",children:C})}),(0,t.jsx)(Fe,{unsetMargin:!1})]}),(0,t.jsx)(d.I,{as:L.A,height:(0,b.a8)(12),width:(0,b.a8)(12),"aria-hidden":!0}),(0,t.jsx)("p",{"aria-label":F({id:`admin.pages.MarketPlacePage.${V}.downloads`,defaultMessage:"This {package} has {downloadsCount} weekly downloads"},{downloadsCount:O,package:V}),children:(0,t.jsx)(r.o,{variant:"pi",textColor:"neutral800",children:O})})]})},Fe=(0,he.Ay)(p.c)`
  width: ${(0,b.a8)(12)};
  transform: rotate(90deg);
`,Ee=({status:C,npmPackages:O=[],installedPackageNames:V=[],useYarn:F,isInDevelopmentMode:B,npmPackageType:U,strapiAppVersion:w,debouncedSearch:K})=>{const{formatMessage:se}=(0,J.A)();if(C==="error")return(0,t.jsx)(n.s,{paddingTop:8,children:(0,t.jsx)(b.hH,{})});if(C==="loading")return(0,t.jsx)(n.s,{justifyContent:"center",paddingTop:8,children:(0,t.jsx)(x.a,{children:"Loading content..."})});const k=se({id:"admin.pages.MarketPlacePage.search.empty",defaultMessage:'No result for "{target}"'},{target:K});return O.length===0?(0,t.jsxs)(i.a,{position:"relative",children:[(0,t.jsx)(A.J,{children:Array(12).fill(null).map((q,ee)=>(0,t.jsx)(We,{height:"234px",hasRadius:!0},ee))}),(0,t.jsx)(i.a,{position:"absolute",top:11,width:"100%",children:(0,t.jsxs)(n.s,{alignItems:"center",justifyContent:"center",direction:"column",children:[(0,t.jsx)(d.I,{as:z.A,color:void 0,width:"160px",height:"88px"}),(0,t.jsx)(i.a,{paddingTop:6,children:(0,t.jsx)(r.o,{variant:"delta",as:"p",textColor:"neutral600",children:k})})]})})]}):(0,t.jsx)(W.x,{gap:4,children:O.map(q=>(0,t.jsx)(D.E,{col:4,s:6,xs:12,style:{height:"100%"},children:(0,t.jsx)(Be,{npmPackage:q,isInstalled:V.includes(q.attributes.npmPackageName),useYarn:F,isInDevelopmentMode:B,npmPackageType:U,strapiAppVersion:w})},q.id))})},We=(0,he.Ay)(i.a)`
  background: ${({theme:C})=>`linear-gradient(180deg, rgba(234, 234, 239, 0) 0%, ${C.colors.neutral150} 100%)`};
  opacity: 0.33;
`,Ae=({isOnline:C,npmPackageType:O="plugin"})=>{const{formatMessage:V}=(0,J.A)(),{trackUsage:F}=(0,b.z1)(),B=O==="provider"?"didSubmitProvider":"didSubmitPlugin";return(0,t.jsx)(I.Q,{title:V({id:"global.marketplace",defaultMessage:"Marketplace"}),subtitle:V({id:"admin.pages.MarketPlacePage.subtitle",defaultMessage:"Get more out of Strapi"}),primaryAction:C&&(0,t.jsx)(je.z,{startIcon:(0,t.jsx)(N.A,{}),variant:"tertiary",href:`https://market.strapi.io/submit-${O}`,onClick:()=>F(B),isExternal:!0,children:V({id:`admin.pages.MarketPlacePage.submit.${O}.link`,defaultMessage:`Submit ${O}`})})})},be=()=>{const{formatMessage:C}=(0,J.A)();return(0,t.jsx)(Z.P,{children:(0,t.jsxs)(H.g,{children:[(0,t.jsx)(Ae,{}),(0,t.jsxs)(n.s,{width:"100%",direction:"column",alignItems:"center",justifyContent:"center",paddingTop:(0,b.a8)(120),children:[(0,t.jsx)(i.a,{paddingBottom:2,children:(0,t.jsx)(r.o,{textColor:"neutral700",variant:"alpha",children:C({id:"admin.pages.MarketPlacePage.offline.title",defaultMessage:"You are offline"})})}),(0,t.jsx)(i.a,{paddingBottom:6,children:(0,t.jsx)(r.o,{textColor:"neutral700",variant:"epsilon",children:C({id:"admin.pages.MarketPlacePage.offline.subtitle",defaultMessage:"You need to be connected to the Internet to access Strapi Market."})})}),(0,t.jsxs)("svg",{width:"88",height:"88",viewBox:"0 0 88 88",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,t.jsx)("rect",{x:".5",y:".5",width:"87",height:"87",rx:"43.5",fill:"#F0F0FF"}),(0,t.jsx)("path",{d:"M34 39.3h-4c-2.6 0-4.7 1-6.6 2.8a9 9 0 0 0-2.7 6.6 9 9 0 0 0 2.7 6.6A9 9 0 0 0 30 58h22.8L34 39.3Zm-11-11 3-3 39 39-3 3-4.7-4.6H30a13.8 13.8 0 0 1-14-14c0-3.8 1.3-7 4-9.7 2.6-2.7 5.7-4.2 9.5-4.3L23 28.2Zm38.2 11.1c3 .2 5.5 1.5 7.6 3.7A11 11 0 0 1 72 51c0 4-1.6 7.2-5 9.5l-3.3-3.4a6.5 6.5 0 0 0 3.6-6.1c0-1.9-.7-3.5-2-5-1.5-1.3-3.1-2-5-2h-3.5v-1.2c0-3.6-1.2-6.6-3.7-9a13 13 0 0 0-15-2.3L34.6 28a17 17 0 0 1 20.3 1.5c3.5 2.7 5.5 6 6.3 10Z",fill:"#4945FF"}),(0,t.jsx)("rect",{x:".5",y:".5",width:"87",height:"87",rx:"43.5",stroke:"#D9D8FF"})]})]})]})})},Re={"name:asc":{selected:{id:"admin.pages.MarketPlacePage.sort.alphabetical.selected",defaultMessage:"Sort by alphabetical order"},option:{id:"admin.pages.MarketPlacePage.sort.alphabetical",defaultMessage:"Alphabetical order"}},"submissionDate:desc":{selected:{id:"admin.pages.MarketPlacePage.sort.newest.selected",defaultMessage:"Sort by newest"},option:{id:"admin.pages.MarketPlacePage.sort.newest",defaultMessage:"Newest"}},"githubStars:desc":{selected:{id:"admin.pages.MarketPlacePage.sort.githubStars.selected",defaultMessage:"Sort by GitHub stars"},option:{id:"admin.pages.MarketPlacePage.sort.githubStars",defaultMessage:"Number of GitHub stars"}},"npmDownloads:desc":{selected:{id:"admin.pages.MarketPlacePage.sort.npmDownloads.selected",defaultMessage:"Sort by npm downloads"},option:{id:"admin.pages.MarketPlacePage.sort.npmDownloads",defaultMessage:"Number of downloads"}}},Ue=({sortQuery:C,handleSelectChange:O})=>{const{formatMessage:V}=(0,J.A)();return(0,t.jsx)(Ye,{children:(0,t.jsx)(T.Z,{size:"S",id:"sort-by-select",value:C,customizeContent:()=>V(Re[C].selected),onChange:F=>{O({sort:F})},label:V({id:"admin.pages.MarketPlacePage.sort.label",defaultMessage:"Sort by"}),children:Object.entries(Re).map(([F,B])=>(0,t.jsx)(T.eY,{value:F,children:V(B.option)},F))})})},Ye=(0,he.Ay)(i.a)`
  font-weight: ${({theme:C})=>C.fontWeights.semiBold};

  span {
    font-size: ${({theme:C})=>C.fontSizes[1]};
  }

  /* Hide the label, every input needs a label. */
  label {
    border: 0;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    overflow: hidden;
    padding: 0;
    position: absolute;
    width: 1px;
  }
`,Ce="https://market-api.strapi.io";function Xe({npmPackageType:C,debouncedSearch:O,query:V,tabQuery:F}){const{notifyStatus:B}=(0,o.W)(),{formatMessage:U}=(0,J.A)(),w=(0,b.hN)(),K=U({id:"global.marketplace",defaultMessage:"Marketplace"}),se=()=>{B(U({id:"app.utils.notify.data-loaded",defaultMessage:"The {target} has loaded"},{target:K}))},k={page:V?.page||1,pageSize:V?.pageSize||24},q={...F.plugin,pagination:k,search:O},{data:ee,status:G}=(0,Se.useQuery)(["marketplace","plugins",q],async()=>{try{const de=Pe.stringify(q),ie=await fetch(`${Ce}/plugins?${de}`);if(!ie.ok)throw new Error("Failed to fetch marketplace plugins.");return await ie.json()}catch{}return null},{onSuccess(){se()},onError(){w({type:"warning",message:{id:"notification.error",defaultMessage:"An error occured"}})}}),te={...F.provider,pagination:k,search:O},{data:oe,status:le}=(0,Se.useQuery)(["marketplace","providers",te],async()=>{const de=Pe.stringify(te),ie=await fetch(`${Ce}/providers?${de}`);if(!ie.ok)throw new Error("Failed to fetch marketplace providers.");return await ie.json()},{onSuccess(){se()},onError(){w({type:"warning",message:{id:"notification.error",defaultMessage:"An error occured"}})}}),ue=C==="plugin"?ee:oe,pe=ue?.meta.collections??{},me=ee?.meta.categories??{},{pagination:ve}=ue?.meta??{};return{pluginsResponse:ee,providersResponse:oe,pluginsStatus:G,providersStatus:le,possibleCollections:pe,possibleCategories:me,pagination:ve}}const Ze=()=>{const C=typeof navigator<"u"&&typeof navigator.onLine=="boolean"?navigator.onLine:!0,[O,V]=h.useState(C),F=()=>V(!0),B=()=>V(!1);return h.useEffect(()=>(window.addEventListener("online",F),window.addEventListener("offline",B),()=>{window.removeEventListener("online",F),window.removeEventListener("offline",B)}),[]),O},Me=()=>{const C=h.useRef(null),{formatMessage:O}=(0,J.A)(),{trackUsage:V}=(0,b.z1)(),F=(0,b.hN)(),[{query:B},U]=(0,b.sq)(),w=(0,ye.r)(B?.search,500)||"",{autoReload:K,dependencies:se,useYarn:k,strapiVersion:q}=(0,b.Xe)(),ee=Ze(),G=B?.npmPackageType||"plugin",[te,oe]=h.useState({plugin:G==="plugin"?{...B}:{},provider:G==="provider"?{...B}:{}});(0,b.L4)(),h.useEffect(()=>{V("didGoToMarketplace")},[V]),h.useEffect(()=>{K||F({type:"info",message:{id:"admin.pages.MarketPlacePage.production",defaultMessage:"Manage plugins from the development environment"}})},[F,K]);const{pluginsResponse:le,providersResponse:ue,pluginsStatus:pe,providersStatus:me,possibleCollections:ve,possibleCategories:de,pagination:ie}=Xe({npmPackageType:G,debouncedSearch:w,query:B,tabQuery:te}),fe=["plugin","provider"].indexOf(G);if(h.useEffect(()=>{C.current&&C.current._handlers.setSelectedTabIndex(fe)},[fe]),!ee)return(0,t.jsx)(be,{});const Qe=ae=>{const re=ae===0?"plugin":"provider",qe=te[re]&&Object.keys(te[re]).length;U(qe?{...te[re],search:B?.search||"",npmPackageType:re,page:1}:{npmPackageType:re,collections:[],categories:[],sort:"name:asc",page:1,search:B?.search||""})},Te=ae=>{U({...ae,page:1}),oe(re=>({...re,[G]:{...re[G],...ae}}))},Je=ae=>{U({[ae]:[],page:void 0},"remove"),oe(re=>({...re,[G]:{}}))},ke=({sort:ae})=>Te({sort:ae}),Le=Object.keys(se??{});return(0,t.jsx)(Z.P,{children:(0,t.jsxs)(H.g,{children:[(0,t.jsx)(X.m,{title:O({id:"admin.pages.MarketPlacePage.helmet",defaultMessage:"Marketplace - Plugins"})}),(0,t.jsx)(Ae,{isOnline:ee,npmPackageType:G}),(0,t.jsxs)(y.s,{children:[(0,t.jsxs)(v.f,{label:O({id:"admin.pages.MarketPlacePage.tab-group.label",defaultMessage:"Plugins and Providers for Strapi"}),id:"tabs",variant:"simple",initialSelectedTabIndex:fe,onTabChange:Qe,ref:C,children:[(0,t.jsxs)(n.s,{justifyContent:"space-between",paddingBottom:4,children:[(0,t.jsxs)(R.t,{children:[(0,t.jsxs)(R.o,{children:[O({id:"admin.pages.MarketPlacePage.plugins",defaultMessage:"Plugins"})," ",le?`(${le.meta.pagination.total})`:"..."]}),(0,t.jsxs)(R.o,{children:[O({id:"admin.pages.MarketPlacePage.providers",defaultMessage:"Providers"})," ",ue?`(${ue.meta.pagination.total})`:"..."]})]}),(0,t.jsx)(i.a,{width:"25%",children:(0,t.jsx)(P.S,{name:"searchbar",onClear:()=>U({search:"",page:1}),value:B?.search,onChange:ae=>U({search:ae.target.value,page:1}),clearLabel:O({id:"admin.pages.MarketPlacePage.search.clear",defaultMessage:"Clear the search"}),placeholder:O({id:"admin.pages.MarketPlacePage.search.placeholder",defaultMessage:"Search"}),children:O({id:"admin.pages.MarketPlacePage.search.placeholder",defaultMessage:"Search"})})})]}),(0,t.jsxs)(n.s,{paddingBottom:4,gap:2,children:[(0,t.jsx)(Ue,{sortQuery:B?.sort||"name:asc",handleSelectChange:ke}),(0,t.jsx)(Ne,{npmPackageType:G,possibleCollections:ve,possibleCategories:de,query:B||{},handleSelectChange:Te,handleSelectClear:Je})]}),(0,t.jsxs)(_.T,{children:[(0,t.jsx)(_.K,{children:(0,t.jsx)(Ee,{npmPackages:le?.data,status:pe,installedPackageNames:Le,useYarn:k,isInDevelopmentMode:K,npmPackageType:"plugin",strapiAppVersion:q,debouncedSearch:w})}),(0,t.jsx)(_.K,{children:(0,t.jsx)(Ee,{npmPackages:ue?.data,status:me,installedPackageNames:Le,useYarn:k,isInDevelopmentMode:K,npmPackageType:"provider",debouncedSearch:w})})]})]}),ie?(0,t.jsx)(i.a,{paddingTop:4,children:(0,t.jsxs)(n.s,{alignItems:"flex-end",justifyContent:"space-between",children:[(0,t.jsx)(b._u,{options:["12","24","50","100"],defaultValue:"24"}),(0,t.jsx)(b.W7,{pagination:ie})]})}):null,(0,t.jsx)(i.a,{paddingTop:8,children:(0,t.jsx)("a",{href:"https://strapi.canny.io/plugin-requests",target:"_blank",rel:"noopener noreferrer nofollow",style:{textDecoration:"none"},onClick:()=>V("didMissMarketplacePlugin"),children:(0,t.jsx)(b.bQ,{title:O({id:"admin.pages.MarketPlacePage.missingPlugin.title",defaultMessage:"Documentation"}),subtitle:O({id:"admin.pages.MarketPlacePage.missingPlugin.description",defaultMessage:"Tell us what plugin you are looking for and we'll let our community plugin developers know in case they are in search for inspiration!"}),icon:(0,t.jsx)(Q,{}),iconBackground:"alternative100",endAction:(0,t.jsx)(d.I,{as:g.A,color:"neutral600",width:3,height:3,marginLeft:2})})})})]})]})})},Ke=()=>{const C=(0,xe.d4)(Oe.s);return(0,t.jsx)(b.kz,{permissions:C.marketplace.main,children:(0,t.jsx)(Me,{})})}},81035:(f,M,e)=>{"use strict";e.d(M,{J:()=>h});var t=e(63891);const h=t.Ay.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  grid-gap: ${({theme:i})=>i.spaces[4]};
`},40799:(f,M,e)=>{"use strict";e.d(M,{A:()=>i});var t=e(92132);const h=u=>(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 24 24",...u,children:(0,t.jsx)("path",{fill:"#161614",d:"M12 0C5.373 0 0 5.501 0 12.288c0 5.43 3.438 10.035 8.206 11.66.6.114.82-.266.82-.59 0-.294-.01-1.262-.016-2.289-3.338.744-4.043-1.45-4.043-1.45-.546-1.42-1.332-1.797-1.332-1.797-1.089-.763.082-.747.082-.747 1.205.086 1.84 1.266 1.84 1.266 1.07 1.878 2.807 1.335 3.491 1.021.108-.794.42-1.336.762-1.643-2.665-.31-5.467-1.364-5.467-6.073 0-1.341.469-2.437 1.236-3.298-.124-.31-.535-1.56.117-3.252 0 0 1.007-.33 3.3 1.26A11.25 11.25 0 0 1 12 5.942c1.02.005 2.047.141 3.006.414 2.29-1.59 3.297-1.26 3.297-1.26.653 1.693.242 2.943.118 3.252.77.86 1.235 1.957 1.235 3.298 0 4.72-2.808 5.76-5.48 6.063.43.382.814 1.13.814 2.276 0 1.644-.014 2.967-.014 3.372 0 .327.216.71.825.59C20.566 22.32 24 17.715 24 12.288 24 5.501 18.627 0 12 0Z"})}),i=h},89089:(f,M,e)=>{"use strict";e.d(M,{A:()=>i});var t=e(92132);const h=u=>(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 24 25",...u,children:(0,t.jsx)("path",{fill:"#212134",fillRule:"evenodd",d:"M13.571 18.272H10.43v-8.47H2.487a.2.2 0 0 1-.14-.343L11.858.058a.2.2 0 0 1 .282 0l9.513 9.4a.2.2 0 0 1-.14.343H13.57v8.47ZM2.2 21.095a.2.2 0 0 0-.2.2v2.424c0 .11.09.2.2.2h19.6a.2.2 0 0 0 .2-.2v-2.424a.2.2 0 0 0-.2-.2H2.2Z",clipRule:"evenodd"})}),i=h}}]);
